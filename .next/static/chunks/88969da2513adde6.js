(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10657,53608,94375,90997,51618,98122,85400,74382,46080,59073,82871,83748,9977,79874,29512,8575,95455,3913,43519,98228,31990,79613,13090,55942,61109,68919,84633,96890,15584,66501,59797,51446,19790,4594,60629,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(4829);let l=({label:e,value:s,secondaryInfo:l,isLoading:r=!1})=>{if(r)return(0,t.jsx)("div",{className:"bg-white border border-slate-200 p-3 h-24 animate-pulse",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-2 bg-slate-100 rounded w-16"}),(0,t.jsx)("div",{className:"h-6 bg-slate-100 rounded w-24"})]})});let i=s.includes("-");return(0,t.jsxs)("div",{className:"bg-white border border-slate-200 p-3 h-24 flex flex-col justify-start",children:[(0,t.jsx)("div",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest mb-1",children:e}),(0,t.jsx)("div",{className:(0,a.cn)("text-2xl font-bold tracking-tight",i?"text-red-600":"text-slate-900"),children:s}),l&&(0,t.jsx)("div",{className:"text-[10px] text-slate-400 font-medium mt-1",children:l})]})},r=({data:e,isLoading:s=!1})=>(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-0 border-t border-l border-slate-200",children:[(0,t.jsx)("div",{className:"border-r border-b border-slate-200",children:(0,t.jsx)(l,{label:"Gross Sales",value:e?(0,a.formatCurrency)(e.grossSales):"$0.00",isLoading:s})}),(0,t.jsx)("div",{className:"border-r border-b border-slate-200",children:(0,t.jsx)(l,{label:"Net Sales",value:e?(0,a.formatCurrency)(e.netSales):"$0.00",isLoading:s})}),(0,t.jsx)("div",{className:"border-r border-b border-slate-200",children:(0,t.jsx)(l,{label:"Orders",value:e?e.orders.toString():"0",isLoading:s})}),(0,t.jsx)("div",{className:"border-r border-b border-slate-200",children:(0,t.jsx)(l,{label:"Avg Ticket",value:e?(0,a.formatCurrency)(e.averageOrderValue):"$0.00",isLoading:s})}),(0,t.jsx)("div",{className:"border-r border-b border-slate-200",children:(0,t.jsx)(l,{label:"Refunds",value:e?(0,a.formatCurrency)(e.refunds):"$0.00",isLoading:s})}),(0,t.jsx)("div",{className:"border-r border-b border-slate-200",children:(0,t.jsx)(l,{label:"Cash Var",value:e?(0,a.formatCurrency)(e.cashVariance):"$0.00",isLoading:s})})]});var i=e.i(75254);let n=(0,i.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var d=e.i(63209);let o=(0,i.default)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),c=({title:e,description:s,icon:l,action:r,className:i})=>(0,t.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center justify-center p-12",i),children:[(0,t.jsx)("div",{className:"rounded-full bg-slate-100 p-3 mb-4",children:l||(0,t.jsx)(o,{className:"h-6 w-6 text-slate-400"})}),(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-1",children:e}),s&&(0,t.jsx)("p",{className:"text-sm text-slate-500 text-center mb-4 max-w-md",children:s}),r&&(0,t.jsx)("button",{onClick:r.onClick,className:"px-4 py-2 bg-slate-900 text-white rounded-md text-sm font-medium hover:bg-slate-800 transition-colors",children:r.label})]}),x=({data:e,isLoading:s=!1})=>s?(0,t.jsx)("div",{className:"bg-white border border-slate-200 divide-y divide-slate-100",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex gap-4 p-3 animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-50 rounded w-24"}),(0,t.jsx)("div",{className:"h-4 bg-slate-50 rounded w-12 ml-auto"}),(0,t.jsx)("div",{className:"h-4 bg-slate-50 rounded w-20"})]},e))}):e&&0!==e.length?(0,t.jsx)("div",{className:"bg-white border border-slate-200",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50/30",children:[(0,t.jsx)("th",{className:"text-left px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Channel"}),(0,t.jsx)("th",{className:"text-right px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Orders"}),(0,t.jsx)("th",{className:"text-right px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Sales"}),(0,t.jsx)("th",{className:"text-right px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"%"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-100",children:e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-2 text-xs font-bold text-slate-900",children:e.channel}),(0,t.jsx)("td",{className:"px-4 py-2 text-xs text-slate-500 text-right",children:e.orders}),(0,t.jsx)("td",{className:"px-4 py-2 text-xs text-slate-900 font-bold text-right",children:(0,a.formatCurrency)(e.sales)}),(0,t.jsxs)("td",{className:"px-4 py-2 text-[11px] text-slate-500 text-right",children:[e.percentage.toFixed(1),"%"]})]},e.channel))})]})}):(0,t.jsx)("div",{className:"bg-white border border-slate-200",children:(0,t.jsx)(c,{title:"No sales data",description:"Sales data will appear here"})}),m=({data:e,isLoading:s=!1,onOrderClick:l})=>s?(0,t.jsx)("div",{className:"bg-white border border-slate-200 divide-y divide-slate-100",children:[1,2,3,4,5].map(e=>(0,t.jsxs)("div",{className:"flex gap-4 p-3 animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-50 rounded w-16"}),(0,t.jsx)("div",{className:"h-4 bg-slate-50 rounded w-20"}),(0,t.jsx)("div",{className:"h-4 bg-slate-50 rounded w-32"}),(0,t.jsx)("div",{className:"h-4 bg-slate-50 rounded w-16"}),(0,t.jsx)("div",{className:"h-4 bg-slate-50 rounded w-20"}),(0,t.jsx)("div",{className:"h-4 bg-slate-50 rounded w-16 ml-auto"})]},e))}):e&&0!==e.length?(0,t.jsx)("div",{className:"bg-white border border-slate-200",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50/30",children:[(0,t.jsx)("th",{className:"text-left px-4 py-2 text-                           [10px] font-bold text-slate-500 uppercase tracking-widest",children:"Time"}),(0,t.jsx)("th",{className:"text-left px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Order #"}),(0,t.jsx)("th",{className:"text-left px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Customer"}),(0,t.jsx)("th",{className:"text-left px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Channel"}),(0,t.jsx)("th",{className:"text-left px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Status"}),(0,t.jsx)("th",{className:"text-right px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Total"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-100",children:e.slice(0,5).map(e=>{let s;return(0,t.jsxs)("tr",{onClick:()=>l?.(e.id),className:(0,a.cn)("group",l&&"cursor-pointer hover:bg-slate-50/50"),children:[(0,t.jsx)("td",{className:"px-4 py-2 text-xs text-slate-500",children:e.time}),(0,t.jsx)("td",{className:"px-4 py-2 text-xs font-bold text-slate-900",children:e.orderNumber}),(0,t.jsx)("td",{className:"px-4 py-2 text-xs text-slate-600",children:e.customer}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)("span",{className:"text-[11px] font-medium text-slate-500",children:e.channel})}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)("span",{className:(0,a.cn)("text-[11px] font-bold",(e=>{switch(e){case"completed":return"text-emerald-600/80";case"pending":return"text-amber-600/80";case"cancelled":return"text-slate-400";case"refunded":return"text-red-600/80";default:return"text-slate-600"}})(e.status)),children:(s=e.status).charAt(0).toUpperCase()+s.slice(1)})}),(0,t.jsx)("td",{className:"px-4 py-2 text-xs text-slate-900 font-bold text-right",children:(0,a.formatCurrency)(e.total)})]},e.id)})})]})}):(0,t.jsx)("div",{className:"bg-white border border-slate-200",children:(0,t.jsx)(c,{title:"No recent orders",description:"Recent orders will appear here"})}),p=()=>{let e=[45,52,48,70,65,80,75,90,85,95,100,110,105,120,115,130],s=["8AM","9AM","10AM","11AM","12PM","1PM","2PM","3PM","4PM","5PM","6PM","7PM","8PM","9PM","10PM","11PM"],a=Math.max(...e),l=e.map((t,s)=>{let l=s/(e.length-1)*720+40;return`${l},${200-t/a*120-40}`}).join(" ");return(0,t.jsx)("div",{className:"w-full h-[280px] flex flex-col pt-4",children:(0,t.jsx)("div",{className:"flex-1 relative",children:(0,t.jsxs)("svg",{viewBox:"0 0 800 200",className:"w-full h-full overflow-visible",children:[[0,.25,.5,.75,1].map((e,s)=>{let l=160-120*e;return(0,t.jsxs)("g",{children:[(0,t.jsx)("line",{x1:40,y1:l,x2:760,y2:l,stroke:"#E2E8F0",strokeWidth:"1",strokeDasharray:"4 4"}),(0,t.jsx)("text",{x:30,y:l+4,textAnchor:"end",className:"text-[10px] fill-slate-400 font-medium",children:Math.round(e*a)})]},s)}),(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:"0.1"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#10B981",stopOpacity:"0"})]})}),(0,t.jsx)("polyline",{points:`40,160 ${l} 760,160`,fill:"url(#gradient)"}),(0,t.jsx)("polyline",{points:l,fill:"none",stroke:"#10B981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.map((s,l)=>{if(l%2!=0)return null;let r=l/(e.length-1)*720+40;return(0,t.jsx)("circle",{cx:r,cy:200-s/a*120-40,r:"3",className:"fill-white stroke-emerald-500 stroke-[2]"},l)}),s.map((e,a)=>{if(a%3!=0)return null;let l=a/(s.length-1)*720+40;return(0,t.jsx)("text",{x:l,y:180,textAnchor:"middle",className:"text-[10px] fill-slate-400 font-medium uppercase tracking-tighter",children:e},a)})]})})})},h=()=>{let[e,l]=(0,s.useState)("today");return(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded overflow-hidden shadow-sm",children:[(0,t.jsxs)("div",{className:"px-6 pt-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-widest",children:"Sales"}),(0,t.jsx)("p",{className:"text-[11px] text-slate-400 mt-0.5 font-medium uppercase tracking-tight",children:"Revenue performance over time"})]}),(0,t.jsx)("div",{className:"flex bg-slate-50 p-1 rounded-md border border-slate-200",children:[{id:"today",label:"Today"},{id:"week",label:"This Week"},{id:"month",label:"This Month"}].map(s=>(0,t.jsx)("button",{onClick:()=>l(s.id),className:(0,a.cn)("px-4 py-1.5 text-[11px] font-bold rounded-sm transition-all uppercase tracking-wider",e===s.id?"bg-white text-slate-900 shadow-sm border border-slate-200":"text-slate-500 hover:text-slate-800"),children:s.label},s.id))})]}),(0,t.jsx)("div",{className:"px-6 pb-8",children:(0,t.jsx)(p,{})})]})},u=(0,i.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);e.s(["HomePage",0,()=>{let[e,a]=(0,s.useState)(null),[l,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async()=>{i(!0);try{await new Promise(e=>setTimeout(e,600)),a({kpis:{grossSales:15250.5,netSales:14800.25,orders:342,averageOrderValue:44.59,refunds:450.25,cashVariance:-2.5},salesByChannel:[{channel:"POS",orders:280,sales:12500.5,percentage:82},{channel:"Online",orders:45,sales:2100,percentage:13.8},{channel:"Uber",orders:17,sales:649.75,percentage:4.2}],recentOrders:[{id:"1",time:"10:45 AM",orderNumber:"#1092",customer:"Jane Cooper",channel:"POS",status:"completed",total:45},{id:"2",time:"10:42 AM",orderNumber:"#1091",customer:"Wade Warren",channel:"Online",status:"pending",total:32.5},{id:"3",time:"10:38 AM",orderNumber:"#1090",customer:"Esther Howard",channel:"POS",status:"completed",total:12},{id:"4",time:"10:35 AM",orderNumber:"#1089",customer:"Cameron Williamson",channel:"Uber",status:"refunded",total:54.2},{id:"5",time:"10:30 AM",orderNumber:"#1088",customer:"Anonymous",channel:"POS",status:"completed",total:8.5},{id:"6",time:"10:25 AM",orderNumber:"#1087",customer:"John Smith",channel:"POS",status:"completed",total:22.1},{id:"7",time:"10:20 AM",orderNumber:"#1086",customer:"Sarah Miller",channel:"Online",status:"completed",total:15.75}]})}catch(e){console.error("Failed to load dashboard data",e)}finally{i(!1)}})()},[]),(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-20 px-2 lg:px-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between border-b border-slate-200 pb-4 pt-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-slate-100 rounded-lg",children:(0,t.jsx)(u,{className:"w-5 h-5 text-slate-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Home"}),(0,t.jsx)("p",{className:"text-[11px] font-medium text-slate-400 uppercase tracking-widest mt-0.5",children:"Executive Business Overview"})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded overflow-hidden border border-slate-200 shadow-sm",children:(0,t.jsx)(r,{data:e?.kpis||null,isLoading:l})}),(0,t.jsx)("section",{className:"w-full",children:(0,t.jsx)(h,{})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 items-start",children:[(0,t.jsxs)("div",{className:"xl:col-span-1 space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between px-1",children:(0,t.jsx)("h2",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.15em]",children:"Sales by Channel"})}),(0,t.jsx)("div",{className:"rounded border border-slate-200 shadow-sm overflow-hidden",children:(0,t.jsx)(x,{data:e?.salesByChannel||[],isLoading:l})})]}),(0,t.jsxs)("div",{className:"xl:col-span-2 space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between px-1",children:(0,t.jsx)("h2",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.15em]",children:"Recent Orders"})}),(0,t.jsx)("div",{className:"rounded border border-slate-200 shadow-sm overflow-hidden",children:(0,t.jsx)(m,{data:e?.recentOrders||[],isLoading:l,onOrderClick:e=>console.log("Order detail placeholder:",e)})})]})]})]})}],53608);var b=e.i(40073),g=e.i(73375),f=e.i(63059);let j=(0,i.default)("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),v=(0,i.default)("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),N=({data:e,isLoading:s,onRowClick:a,currentPage:l,itemsPerPage:r,totalItems:i,onPageChange:n,onItemsPerPageChange:o})=>s?(0,t.jsx)("div",{className:"h-64 flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"})}):e&&0!==e.length?(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded shadow-sm overflow-hidden flex flex-col",children:[(0,t.jsx)("div",{className:"overflow-x-auto scrollbar-thin scrollbar-thumb-slate-200",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse table-auto min-w-[1800px]",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-white border-b border-slate-100",children:[(0,t.jsx)(C,{label:"Action"}),(0,t.jsx)(C,{label:"Date"}),(0,t.jsx)(C,{label:"Invoice No."}),(0,t.jsx)(C,{label:"Customer name"}),(0,t.jsx)(C,{label:"Contact number"}),(0,t.jsx)(C,{label:"Location"}),(0,t.jsx)(C,{label:"Payment status"}),(0,t.jsx)(C,{label:"Payment Method"}),(0,t.jsx)(C,{label:"Total amount",align:"right"}),(0,t.jsx)(C,{label:"Base Price",align:"right"}),(0,t.jsx)(C,{label:"Tax",align:"right"}),(0,t.jsx)(C,{label:"Total",align:"right"}),(0,t.jsx)(C,{label:"Net Price",align:"right"}),(0,t.jsx)(C,{label:"Sell Price",align:"right"}),(0,t.jsx)(C,{label:"Return",align:"right"}),(0,t.jsx)(C,{label:"Shipping",align:"right"}),(0,t.jsx)(C,{label:"Net due",align:"right"}),(0,t.jsx)(C,{label:"Total items",align:"center"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:e.map(e=>(0,t.jsx)(w,{row:e,onClick:()=>a(e)},e.id))})]})}),(0,t.jsxs)("div",{className:"px-4 py-3 bg-white border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Show"}),(0,t.jsx)("select",{value:r,onChange:e=>o(Number(e.target.value)),className:"bg-slate-50 border border-slate-200 rounded px-2 py-1 text-xs font-bold text-slate-600 focus:outline-none focus:border-emerald-500 transition-colors",children:[10,25,50,100].map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Entries"})]}),(0,t.jsx)("div",{className:"h-4 w-[1px] bg-slate-100 hidden sm:block"}),(0,t.jsxs)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Showing ",Math.min((l-1)*r+1,i)," to ",Math.min(l*r,i)," of ",i," entries"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(y,{onClick:()=>n(1),disabled:1===l,icon:j}),(0,t.jsx)(y,{onClick:()=>n(l-1),disabled:1===l,icon:g.ChevronLeft}),(0,t.jsxs)("div",{className:"flex items-center px-2",children:[(0,t.jsx)("span",{className:"text-xs font-black text-slate-900 mx-2",children:l}),(0,t.jsx)("span",{className:"text-xs font-bold text-slate-300 mx-1",children:"/"}),(0,t.jsx)("span",{className:"text-xs font-bold text-slate-400 mx-2",children:Math.ceil(i/r)||1})]}),(0,t.jsx)(y,{onClick:()=>n(l+1),disabled:l>=Math.ceil(i/r),icon:f.ChevronRight}),(0,t.jsx)(y,{onClick:()=>n(Math.ceil(i/r)),disabled:l>=Math.ceil(i/r),icon:v})]})]})]}):(0,t.jsx)("div",{className:"bg-white border border-slate-200 rounded-xl p-24 text-center shadow-sm",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"p-4 bg-slate-50 rounded-full",children:(0,t.jsx)(d.AlertCircle,{className:"w-12 h-12 text-slate-200"})}),(0,t.jsx)("div",{children:(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"No Sales Found"})})]})}),y=({onClick:e,disabled:s,icon:l})=>(0,t.jsx)("button",{onClick:e,disabled:s,className:(0,a.cn)("p-1.5 rounded-md transition-all border",s?"bg-slate-50 text-slate-200 border-slate-100 cursor-not-allowed":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50 hover:border-slate-300 active:scale-90"),children:(0,t.jsx)(l,{className:"w-4 h-4"})}),w=({row:e,onClick:s})=>{let l=new Date(e.timestamp).toLocaleDateString()+" "+new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,t.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors group cursor-pointer",onClick:s,children:[(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("button",{className:"flex items-center gap-1 px-2.5 py-1 bg-sky-50 text-sky-600 rounded text-[10px] font-black uppercase hover:bg-sky-100 transition-colors border border-sky-100",children:["Actions",(0,t.jsx)(S,{className:"w-3 h-3"})]})}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs text-slate-600 font-medium",children:l}),(0,t.jsx)("td",{className:"px-4 py-3 text-xs text-blue-600 font-bold hover:underline",children:e.invoiceNo}),(0,t.jsx)("td",{className:"px-4 py-3 text-xs text-slate-700 font-medium capitalize prose-sm",children:e.customerName}),(0,t.jsx)("td",{className:"px-4 py-3 text-xs text-slate-500 font-medium",children:e.contactNumber}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("div",{className:"max-w-[200px] text-[10px] text-slate-400 font-medium leading-relaxed",children:e.location})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)(k,{status:e.paymentStatus})}),(0,t.jsx)("td",{className:"px-4 py-3 text-xs text-slate-600 font-bold",children:e.paymentMethod}),(0,t.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-900 font-black",children:(0,a.formatCurrency)(e.totalAmount)}),(0,t.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-500 font-medium",children:(0,a.formatCurrency)(e.basePrice)}),(0,t.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-500 font-medium",children:(0,a.formatCurrency)(e.tax)}),(0,t.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-500 font-medium",children:(0,a.formatCurrency)(e.totalAmount)}),(0,t.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-500 font-medium",children:(0,a.formatCurrency)(e.netPrice)}),(0,t.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-500 font-medium",children:(0,a.formatCurrency)(e.sellPrice)}),(0,t.jsx)("td",{className:"px-4 py-3 text-right text-xs text-red-400 font-medium",children:(0,a.formatCurrency)(e.returnAmount)}),(0,t.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-500 font-medium",children:(0,a.formatCurrency)(e.shipping)}),(0,t.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-900 font-black",children:(0,a.formatCurrency)(e.netDue)}),(0,t.jsx)("td",{className:"px-4 py-3 text-center text-xs text-slate-600 font-bold",children:e.totalItems})]})},k=({status:e})=>(0,t.jsx)("span",{className:(0,a.cn)("px-2 py-0.5 rounded text-[9px] font-black uppercase border tracking-widest",{Paid:"bg-emerald-50 text-emerald-600 border-emerald-100",Partial:"bg-amber-50 text-amber-600 border-amber-100",Due:"bg-red-50 text-red-600 border-red-100",Refunded:"bg-slate-50 text-slate-600 border-slate-100"}[e]),children:e}),S=({className:e})=>(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:(0,t.jsx)("polyline",{points:"6 9 12 15 18 9"})}),C=({label:e,align:s="left"})=>(0,t.jsx)("th",{className:(0,a.cn)("px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest bg-slate-50/50","right"===s?"text-right":"center"===s?"text-center":"text-left"),children:e});var I=e.i(87316),P=e.i(87130),A=e.i(67240);let T=({filters:e,onFilterChange:s,onClear:a})=>{let{role:l}=(0,b.useRouteAccess)();return(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-6 text-slate-800",children:[(0,t.jsx)(P.Filter,{className:"w-4 h-4 text-emerald-600"}),(0,t.jsx)("h4",{className:"text-sm font-bold uppercase tracking-wider",children:"Filters"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(D,{label:"Business Location",children:(0,t.jsxs)("select",{className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20",disabled:"ADMIN"!==l,children:[(0,t.jsx)("option",{children:"All"}),(0,t.jsx)("option",{children:"Flagship Store"}),(0,t.jsx)("option",{children:"Warehouse Ops"})]})}),(0,t.jsx)(D,{label:"Customer",children:(0,t.jsx)("select",{className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20",children:(0,t.jsx)("option",{children:"All"})})}),(0,t.jsx)(D,{label:"Payment Status",children:(0,t.jsxs)("select",{className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20",value:e.paymentStatus?.[0]||"",onChange:t=>s({...e,paymentStatus:t.target.value?[t.target.value]:void 0}),children:[(0,t.jsx)("option",{value:"",children:"All"}),(0,t.jsx)("option",{value:"Paid",children:"Paid"}),(0,t.jsx)("option",{value:"Partial",children:"Partial"}),(0,t.jsx)("option",{value:"Due",children:"Due"}),(0,t.jsx)("option",{value:"Refunded",children:"Refunded"})]})}),(0,t.jsx)(D,{label:"Date Range",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 h-10 bg-slate-50 border border-slate-200 rounded-lg",children:[(0,t.jsx)(I.Calendar,{className:"w-3.5 h-3.5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"01/01/2023 - 31/12/2023",className:"bg-transparent text-xs font-medium focus:outline-none w-full placeholder:text-slate-300",readOnly:!0})]})}),(0,t.jsx)(D,{label:"User",children:(0,t.jsx)("select",{className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20",children:(0,t.jsx)("option",{children:"All"})})}),(0,t.jsx)(D,{label:"Shipping Status",children:(0,t.jsx)("select",{className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20",children:(0,t.jsx)("option",{children:"All"})})}),(0,t.jsx)(D,{label:"Payment Method",children:(0,t.jsxs)("select",{className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20",children:[(0,t.jsx)("option",{children:"All"}),(0,t.jsx)("option",{children:"Cash"}),(0,t.jsx)("option",{children:"Card"}),(0,t.jsx)("option",{children:"Online"})]})}),(0,t.jsx)("div",{className:"flex items-end justify-end",children:(0,t.jsxs)("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 text-xs font-bold text-slate-500 hover:text-slate-800 transition-colors uppercase tracking-widest",children:[(0,t.jsx)(A.RotateCcw,{className:"w-3.5 h-3.5"}),"Clear"]})})]})]})},D=({label:e,children:s})=>(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block",children:[e,":"]}),(0,t.jsx)("div",{className:"relative",children:s})]});var R=e.i(55436),E=e.i(94918),O=e.i(78583);let M=(0,i.default)("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]);var z=e.i(3281);let U=(0,i.default)("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);var L=e.i(7233);let F=({onSearch:e,onExport:s,onAdd:a})=>{let{role:l}=(0,b.useRouteAccess)();return(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-4 mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[(0,t.jsx)("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest whitespace-nowrap",children:"All sales"}),(0,t.jsxs)("div",{className:"relative flex-1 lg:w-64",children:[(0,t.jsx)(R.Search,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search...",className:"w-full pl-8 pr-3 py-1.5 bg-white border border-slate-200 rounded text-xs focus:outline-none focus:border-emerald-500",onChange:t=>e(t.target.value)})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 w-full lg:w-auto overflow-x-auto pb-2 lg:pb-0",children:[("ADMIN"===l||"STORE_MANAGER"===l)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)($,{onClick:()=>s("pdf"),icon:O.FileText,label:"Export PDF"}),(0,t.jsx)($,{onClick:()=>s("excel"),icon:E.FileSpreadsheet,label:"Export Excel"}),(0,t.jsx)($,{onClick:()=>s("csv"),icon:M,label:"Export Multi"}),(0,t.jsx)("div",{className:"h-4 w-[1px] bg-slate-200 mx-1"})]}),(0,t.jsx)($,{icon:U,label:"Column visibility"}),(0,t.jsx)($,{onClick:()=>window.print(),icon:z.Printer,label:"Export PDF"}),(0,t.jsxs)("button",{onClick:a,className:"flex items-center gap-1.5 px-4 py-1.5 bg-violet-600 hover:bg-violet-700 text-white rounded text-[10px] font-black uppercase tracking-widest transition-all shadow-md active:scale-95 ml-2",children:[(0,t.jsx)(L.Plus,{className:"w-3.5 h-3.5"}),"Add"]})]})]})},$=({onClick:e,icon:s,label:a})=>(0,t.jsxs)("button",{onClick:e,className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-white border border-slate-200 rounded text-[9px] font-bold text-slate-600 uppercase tracking-wider hover:bg-slate-50 transition-all shadow-sm whitespace-nowrap",children:[(0,t.jsx)(s,{className:"w-3 h-3 text-slate-400"}),a]}),V=(0,i.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),B=(0,i.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),G=(0,i.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),W=(0,i.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),q=(0,i.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Q=(0,i.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var Z=e.i(51975);let _=({transaction:e,isOpen:s,onClose:l})=>{if(!s||!e)return null;let r="REFUND"===e.type||"PARTIAL_REFUND"===e.type;return(0,t.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:(0,t.jsxs)("div",{className:"bg-white w-full max-w-lg rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-base font-bold text-slate-900",children:"Transaction Details"}),(0,t.jsxs)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:["Audit Log ID: ",e.id]})]}),(0,t.jsx)("button",{onClick:l,className:"p-2 hover:bg-slate-200 rounded-full transition-colors text-slate-400 hover:text-slate-600",children:(0,t.jsx)(V,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:(0,a.cn)("text-[10px] font-black uppercase tracking-[0.2em] px-2 py-0.5 rounded border mb-2 inline-block",r?"bg-red-50 text-red-700 border-red-100":"bg-emerald-50 text-emerald-700 border-emerald-100"),children:e.type.replace("_"," ")}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-900 font-black text-2xl",children:[(0,a.formatCurrency)(e.totalAmount),(0,t.jsx)("span",{className:"text-xs font-medium text-slate-400 mt-1",children:e.currency})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-1",children:"Status"}),(0,t.jsx)("span",{className:"px-2 py-1 bg-white border border-slate-200 rounded-md text-[10px] font-black text-slate-600 uppercase tracking-wider shadow-sm",children:e.status})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-y-6 gap-x-4",children:[(0,t.jsx)(K,{icon:B,label:"Timestamp",value:e.timestamp}),(0,t.jsx)(K,{icon:q,label:"Invoice No.",value:e.invoiceNo}),(0,t.jsx)(K,{icon:G,label:"Location",value:e.location}),(0,t.jsx)(K,{icon:W,label:"User/Employee",value:e.userName||"System"}),(0,t.jsx)(K,{icon:Z.Tag,label:"Channel",value:e.channel}),(0,t.jsx)(K,{icon:Q,label:"Payment Method",value:e.paymentMethod||"â€”"})]}),e.originalTransactionId&&(0,t.jsxs)("div",{className:"mt-4 p-4 border border-blue-100 bg-blue-50/30 rounded-lg flex items-start gap-3",children:[(0,t.jsx)(d.AlertCircle,{className:"w-4 h-4 text-blue-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-blue-900",children:"Referenced Payment"}),(0,t.jsxs)("p",{className:"text-[11px] text-blue-700 mt-0.5 leading-relaxed",children:["This transaction is a refund for payment processed under Transaction ID:",(0,t.jsx)("span",{className:"font-mono ml-1",children:e.originalTransactionId})]})]})]})]}),(0,t.jsx)("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-100 flex justify-end",children:(0,t.jsx)("button",{onClick:l,className:"px-6 py-2 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-100 transition-all uppercase tracking-widest",children:"Close Detail"})})]})})},K=({icon:e,label:s,value:a})=>(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-slate-50 rounded-lg shrink-0 border border-slate-100",children:(0,t.jsx)(e,{className:"w-3.5 h-3.5 text-slate-400"})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-0.5",children:s}),(0,t.jsx)("span",{className:"text-xs font-bold text-slate-700 block truncate",children:a})]})]}),H=(0,i.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var Y=e.i(12426);let J=(0,i.default)("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);var X=e.i(88844);let ee=({isOpen:e,onClose:a,onAdd:l})=>{let[r,i]=(0,s.useState)({type:"ORDER_PAID",channel:"POS",paymentStatus:"Paid",paymentMethod:"Cash",currency:"USD",status:"completed",totalItems:1,totalAmount:0,basePrice:0,tax:0,netPrice:0,sellPrice:0,returnAmount:0,shipping:0,netDue:0});if(!e)return null;let n=e=>{let{name:t,value:s,type:a}=e.target;i(e=>({...e,[t]:"number"===a?parseFloat(s):s}))};return(0,t.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:(0,t.jsxs)("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true",children:[(0,t.jsxs)("div",{className:"px-8 py-5 border-b border-slate-100 flex items-center justify-between bg-white",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Add Sales Activity"}),(0,t.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em] mt-1",children:"Manual Transaction Entry"})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-slate-100 rounded-full transition-all text-slate-400 hover:text-slate-600 active:scale-90",children:(0,t.jsx)(V,{className:"w-5 h-5"})})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l({...r,id:`TX-${Math.floor(1e4*Math.random())}`,timestamp:new Date().toISOString(),userId:"sys-01",userName:"Current User"}),a()},children:[(0,t.jsx)("div",{className:"p-8 max-h-[70vh] overflow-y-auto scrollbar-thin scrollbar-thumb-slate-200",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.25em] mb-4 flex items-center gap-2",children:[(0,t.jsx)(q,{className:"w-3.5 h-3.5"})," General Information"]}),(0,t.jsx)(et,{label:"Invoice Number",icon:q,children:(0,t.jsx)("input",{required:!0,type:"text",name:"invoiceNo",value:r.invoiceNo||"",onChange:n,placeholder:"e.g. S4724",className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})}),(0,t.jsx)(et,{label:"Transaction Type",icon:J,children:(0,t.jsxs)("select",{name:"type",value:r.type,onChange:n,className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all appearance-none",children:[(0,t.jsx)("option",{value:"ORDER_PAID",children:"Order Paid"}),(0,t.jsx)("option",{value:"REFUND",children:"Refund"}),(0,t.jsx)("option",{value:"PARTIAL_REFUND",children:"Partial Refund"})]})}),(0,t.jsx)(et,{label:"Customer Name",icon:W,children:(0,t.jsx)("input",{required:!0,type:"text",name:"customerName",value:r.customerName||"",onChange:n,placeholder:"Guest Customer",className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})}),(0,t.jsx)(et,{label:"Channel",icon:Z.Tag,children:(0,t.jsxs)("select",{name:"channel",value:r.channel,onChange:n,className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all appearance-none",children:[(0,t.jsx)("option",{value:"POS",children:"In-Store (POS)"}),(0,t.jsx)("option",{value:"ONLINE",children:"Online Store"}),(0,t.jsx)("option",{value:"UBER",children:"Uber Eats"}),(0,t.jsx)("option",{value:"PHONE",children:"Phone Order"})]})})]}),(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.25em] mb-4 flex items-center gap-2",children:[(0,t.jsx)(Y.DollarSign,{className:"w-3.5 h-3.5"})," Financial Details"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(et,{label:"Total Amount",icon:Y.DollarSign,children:(0,t.jsx)("input",{required:!0,type:"number",step:"0.01",name:"totalAmount",value:r.totalAmount,onChange:n,className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})}),(0,t.jsx)(et,{label:"Total Items",icon:X.Package,children:(0,t.jsx)("input",{required:!0,type:"number",name:"totalItems",value:r.totalItems,onChange:n,className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})})]}),(0,t.jsx)(et,{label:"Payment Method",icon:Q,children:(0,t.jsxs)("select",{name:"paymentMethod",value:r.paymentMethod,onChange:n,className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all appearance-none",children:[(0,t.jsx)("option",{value:"Cash",children:"Cash"}),(0,t.jsx)("option",{value:"Card",children:"Credit/Debit Card"}),(0,t.jsx)("option",{value:"Online",children:"Online Payment"})]})}),(0,t.jsx)(et,{label:"Payment Status",icon:J,children:(0,t.jsxs)("select",{name:"paymentStatus",value:r.paymentStatus,onChange:n,className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all appearance-none",children:[(0,t.jsx)("option",{value:"Paid",children:"Fully Paid"}),(0,t.jsx)("option",{value:"Partial",children:"Partially Paid"}),(0,t.jsx)("option",{value:"Due",children:"Payment Due"}),(0,t.jsx)("option",{value:"Refunded",children:"Refunded"})]})}),(0,t.jsxs)("div",{className:"p-4 bg-emerald-50/50 border border-emerald-100 rounded-xl",children:[(0,t.jsx)("p",{className:"text-[10px] text-emerald-700 font-bold uppercase tracking-wider mb-2",children:"Location Context"}),(0,t.jsx)("p",{className:"text-[11px] text-emerald-600 leading-relaxed font-medium",children:"This record will be tagged to your current active store location automatically for audit consistency."})]})]})]})}),(0,t.jsxs)("div",{className:"px-8 py-6 bg-slate-50 border-t border-slate-100 flex items-center justify-between",children:[(0,t.jsx)("button",{type:"button",onClick:a,className:"px-6 py-2.5 text-xs font-bold text-slate-400 hover:text-slate-600 transition-all uppercase tracking-widest",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",className:"flex items-center gap-2 px-8 py-2.5 bg-slate-900 hover:bg-slate-800 text-white rounded-xl text-xs font-black uppercase tracking-[0.15em] transition-all shadow-xl shadow-slate-200 active:scale-95",children:[(0,t.jsx)(H,{className:"w-4 h-4"}),"Force Record Transaction"]})]})]})]})})},et=({label:e,icon:s,children:a})=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"flex items-center gap-2 text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:e}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:(0,t.jsx)(s,{className:"w-3.5 h-3.5 text-slate-400"})}),a]})]}),es=(0,i.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);e.s(["SalesActivityPage",0,()=>{let{role:e,user:a}=(0,b.useRouteAccess)(),[l,r]=(0,s.useState)([]),[i,n]=(0,s.useState)([]),[d,o]=(0,s.useState)(!0),[c,x]=(0,s.useState)(null),[m,p]=(0,s.useState)(!1),[h,u]=(0,s.useState)(1),[g,f]=(0,s.useState)(10),[j,v]=(0,s.useState)({refundsOnly:!1,startDate:new Date().toISOString().split("T")[0]||null,endDate:new Date().toISOString().split("T")[0]||null,channel:[],searchQuery:""});(0,s.useEffect)(()=>{(async()=>{o(!0);try{await new Promise(e=>setTimeout(e,800));let t=[{id:"TX-1001",timestamp:"2023-11-18T16:27:00Z",type:"ORDER_PAID",invoiceNo:"S4721",customerName:"parveen singh",contactNumber:"112233",channel:"ONLINE",location:"BRAMPTON - NORTH PARK - 2530 N Park Dr, Brampton, ON",storeId:"store-01",userName:"System",userId:"sys-01",paymentStatus:"Paid",paymentMethod:"Cash",totalAmount:52.97,basePrice:53,tax:5,netPrice:54,sellPrice:5.86,returnAmount:0,shipping:1,netDue:1,totalItems:11,currency:"USD",status:"completed"},{id:"TX-1002",timestamp:"2023-11-18T16:22:00Z",type:"REFUND",invoiceNo:"5470",customerName:"jasbir",contactNumber:"112233",channel:"UBER",location:"BRAMPTON - NORTH PARK - 2530 N Park Dr, Brampton, ON",storeId:"store-01",userName:"Manager1",userId:"mgr-01",paymentStatus:"Refunded",paymentMethod:"Cash",totalAmount:28.32,basePrice:28.32,tax:2,netPrice:31.77,sellPrice:11.23,returnAmount:28.32,shipping:1,netDue:0,totalItems:1,currency:"USD",originalTransactionId:"TX-1001",status:"completed"},{id:"TX-1003",timestamp:new Date().toISOString(),type:"ORDER_PAID",invoiceNo:"S4723",customerName:"John Doe",contactNumber:"998877",channel:"POS",location:"WAREHOUSE OPS - 100 Main St, Warehouse City",storeId:"store-02",userName:"Mark Smith",userId:"user-2",paymentStatus:"Partial",paymentMethod:"Card",totalAmount:125.5,basePrice:110,tax:15.5,netPrice:125.5,sellPrice:125.5,returnAmount:0,shipping:0,netDue:50,totalItems:4,currency:"USD",status:"completed"}],s=t;"EMPLOYEE"===e&&a?s=t.filter(e=>e.userId===a.id):"STORE_MANAGER"===e&&a&&(s=t.filter(e=>a.storeIds.includes(e.storeId))),r(s),n(s)}catch(e){console.error("Ledger fetch error:",e)}finally{o(!1)}})()},[e,a]),(0,s.useEffect)(()=>{let e=[...l];if(j.searchQuery){let t=j.searchQuery.toLowerCase();e=e.filter(e=>e.invoiceNo.toLowerCase().includes(t)||e.customerName.toLowerCase().includes(t)||e.id.toLowerCase().includes(t))}j.paymentStatus&&j.paymentStatus.length>0&&(e=e.filter(e=>j.paymentStatus?.includes(e.paymentStatus))),n(e),u(1)},[j,l]);let y=i.slice((h-1)*g,h*g);return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto pb-20 px-2 lg:px-4 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 border-b border-slate-100 pb-4",children:[(0,t.jsx)("div",{className:"p-2 bg-slate-900 rounded-lg shadow-lg",children:(0,t.jsx)(es,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Sales Activities"}),(0,t.jsx)("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mt-0.5 opacity-80",children:"Functional System of Record"})]})]}),(0,t.jsx)(T,{filters:j,onFilterChange:v,onClear:()=>v({refundsOnly:!1,startDate:new Date().toISOString().split("T")[0]||null,endDate:new Date().toISOString().split("T")[0]||null,channel:[]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(F,{onSearch:e=>v({...j,searchQuery:e}),onExport:e=>{console.log(`Exporting as ${e}...`)},onAdd:()=>p(!0)}),(0,t.jsx)(N,{data:y,isLoading:d,onRowClick:x,currentPage:h,itemsPerPage:g,totalItems:i.length,onPageChange:u,onItemsPerPageChange:f})]}),(0,t.jsx)(_,{transaction:c,isOpen:!!c,onClose:()=>x(null)}),(0,t.jsx)(ee,{isOpen:m,onClose:()=>p(!1),onAdd:e=>{let t={...e,location:"Flagship Store - 123 Main St, New York, NY",storeId:"store-01",status:"completed"};r(e=>[t,...e])}})]})}],94375);var ea=e.i(18566),el=e.i(25652);let er=(0,i.default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),ei=(0,i.default)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),en=(0,i.default)("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),ed=(0,i.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),eo=[{id:"DAILY_SALES",title:"Daily Sales Report",description:"View aggregated sales data by store for a specific date range.",path:"/backoffice/reports/daily-sales",icon:el.TrendingUp},{id:"SALES_BY_CHANNEL",title:"Sales by Channel",description:"Analyze performance across POS, Online, and Uber Eats.",path:"/backoffice/reports/sales-by-channel",icon:er},{id:"TOP_SELLING_ITEMS",title:"Top Selling Items",description:"Identification of best performers by quantity and revenue.",path:"/backoffice/reports/top-selling-items",icon:O.FileText},{id:"DISCOUNTS",title:"Discounts & Offers",description:"Track promotional efficiency and discount usage.",path:"/backoffice/reports/discounts",icon:ei},{id:"TAXES",title:"Taxes Summary",description:"Consolidated tax report for accounting reconciliation.",path:"/backoffice/reports/taxes",icon:Y.DollarSign},{id:"PREP_TIME",title:"Preparation Time",description:"Kitchen performance metrics and delivery speed.",path:"/backoffice/reports/prep-time",icon:B},{id:"CASH_VARIANCE",title:"Cash Variance",description:"Audit report for cash drawer discrepancies.",path:"/backoffice/cash-variance",icon:en}];e.s(["ReportsPage",0,()=>{let e=(0,ea.useRouter)();return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-8 pb-20 px-4",children:[(0,t.jsx)("div",{className:"border-b border-slate-200 pb-4 pt-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-slate-900 rounded-lg shadow-lg",children:(0,t.jsx)(O.FileText,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Reports"}),(0,t.jsx)("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mt-0.5 opacity-80",children:"Business Intelligence & Exports"})]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:eo.map(s=>(0,t.jsxs)("div",{className:"group bg-white border border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md hover:border-emerald-200 transition-all cursor-pointer flex flex-col justify-between",onClick:()=>e.push(s.path),children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-slate-50 rounded-lg flex items-center justify-center mb-4 group-hover:bg-emerald-50 transition-colors",children:(0,t.jsx)(s.icon,{className:"w-5 h-5 text-slate-400 group-hover:text-emerald-600 transition-colors"})}),(0,t.jsx)("h3",{className:"text-sm font-bold text-slate-900 mb-2 truncate",title:s.title,children:s.title}),(0,t.jsx)("p",{className:"text-xs text-slate-500 leading-relaxed line-clamp-2",title:s.description,children:s.description})]}),(0,t.jsxs)("div",{className:"flex items-center text-[10px] font-black text-emerald-600 uppercase tracking-widest group-hover:translate-x-1 transition-transform",children:["View Report",(0,t.jsx)(ed,{className:"w-3.5 h-3.5 ml-1"})]})]},s.id))})]})}],90997),e.s(["FinancesPage",0,()=>(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Finances"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Financial overview and management"})]}),(0,t.jsx)("div",{className:"bg-white border border-slate-200 rounded-lg p-12 text-center",children:(0,t.jsx)("p",{className:"text-slate-400",children:"Finances content will be implemented in future tasks"})})]})],51618);let ec=(0,i.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),ex=(0,i.default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),em=(0,i.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),ep=[{id:"cat-1",name:"Signature Pizza",description:"Our chef special pizzas"},{id:"cat-2",name:"Traditional Pizza",description:"Classic favorites"},{id:"cat-3",name:"Combos",description:"Meal deals and family packs"},{id:"cat-4",name:"Drinks",description:"Soft drinks and water"}],eh=[{id:"item-1",productType:"SINGLE",name:"Veggie Supreme",description:"Loaded with fresh vegetables and mozzarella cheese.",imageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591",categoryId:"cat-1",isAvailable:!0,variantGroups:[{id:"vg-1",name:"Size",isRequired:!0,defaultVariantId:"v-2",sortOrder:1,variants:[{id:"v-1",name:'Small (10")',basePrice:9.99,isAvailable:!0},{id:"v-2",name:'Medium (12")',basePrice:12.99,isAvailable:!0},{id:"v-3",name:'Large (14")',basePrice:15.99,isAvailable:!0}]},{id:"vg-2",name:"Dough",isRequired:!0,defaultVariantId:"v-4",sortOrder:2,variants:[{id:"v-4",name:"Regular Dough",basePrice:0,isAvailable:!0},{id:"v-5",name:"Thin Crust",basePrice:0,isAvailable:!0},{id:"v-6",name:"Whole Wheat",basePrice:1.5,isAvailable:!0}]}],modifierGroups:[{id:"mg-1",name:"Sauce Options",isRequired:!0,minSelection:1,maxSelection:1,isToppingGroup:!1,isHalfAndHalfEnabled:!1,isPremiumRuleEnabled:!1,options:[{id:"opt-1",name:"Tomato Sauce",price:0,subOptions:[{id:"sub-1",name:"Regular",price:0},{id:"sub-2",name:"Easy on Sauce",price:0},{id:"sub-3",name:"Extra Sauce",price:.5}]},{id:"opt-2",name:"BBQ Sauce",price:1},{id:"opt-3",name:"White Garlic",price:1}]},{id:"mg-2",name:"Toppings",isRequired:!1,minSelection:0,maxSelection:15,isToppingGroup:!0,isHalfAndHalfEnabled:!0,isPremiumRuleEnabled:!0,options:[{id:"opt-4",name:"Onions",price:.99,isTopping:!0},{id:"opt-5",name:"Pepperoni",price:1.5,isTopping:!0,isPremium:!0},{id:"opt-6",name:"Mushrooms",price:1.25,isTopping:!0}]}],storeOverrides:[],auditLog:[{timestamp:"2024-01-20T10:00:00Z",user:"Admin",action:"Created Item"}]}],eu=(0,i.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),eb=(0,i.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),eg=(0,i.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),ef=(0,i.default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var ej=e.i(64659);let ev=(0,i.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),eN=(0,i.default)("circle-dot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),ey=(0,i.default)("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ew=(0,i.default)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),ek=(0,i.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),eS=(0,i.default)("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]),eC=(0,i.default)("chef-hat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),eI=e=>(0,t.jsxs)("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("path",{d:"M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22V2Z",fill:"currentColor",fillOpacity:"0.4"}),(0,t.jsx)("path",{d:"M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22V12V2Z",fill:"currentColor"})]}),eP=e=>(0,t.jsxs)("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"rotate-180",...e,children:[(0,t.jsx)("path",{d:"M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22V2Z",fill:"currentColor",fillOpacity:"0.4"}),(0,t.jsx)("path",{d:"M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22V12V2Z",fill:"currentColor"})]}),eA=({formData:e,setFormData:s,categories:l,isExisting:r})=>(0,t.jsx)("div",{className:"space-y-16 max-w-4xl animate-in fade-in slide-in-from-bottom-8 duration-600",children:(0,t.jsxs)("div",{className:"space-y-10",children:[(0,t.jsx)("div",{className:"flex items-center gap-4 border-l-[6px] border-slate-900 pl-6 h-10",children:(0,t.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-[0.15em]",children:"Core Configuration"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between ml-1",children:(0,t.jsx)("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Product Type (Locked after save)"})}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:["SINGLE","COMBO"].map(l=>(0,t.jsxs)("button",{disabled:r,onClick:()=>s({...e,productType:l}),className:(0,a.cn)("px-6 py-5 rounded-[22px] border-2 text-[11px] font-black uppercase tracking-widest transition-all",e.productType===l?"bg-slate-900 text-white border-slate-900 shadow-2xl shadow-slate-200 scale-[1.02]":"bg-white text-slate-400 border-slate-100 hover:border-slate-300",r&&e.productType!==l&&"opacity-30 cursor-not-allowed"),children:[l," PRODUCT"]},l))})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Menu Category"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:e.categoryId,onChange:t=>s({...e,categoryId:t.target.value}),className:"w-full px-8 py-5 bg-slate-50 border-2 border-slate-100 rounded-[22px] text-sm font-black text-slate-900 focus:border-slate-900 focus:bg-white transition-all outline-none appearance-none",children:[(0,t.jsx)("option",{value:"",children:"Select Catalog Pool"}),l.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsx)(ej.ChevronDown,{className:"absolute right-6 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:20})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2 space-y-4",children:[(0,t.jsx)("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Merchant Display Name"}),(0,t.jsx)("input",{type:"text",value:e.name,onChange:t=>s({...e,name:t.target.value}),className:"w-full px-10 py-6 bg-slate-50 border-2 border-slate-100 rounded-[30px] text-2xl font-black text-slate-900 focus:border-slate-900 focus:bg-white transition-all outline-none shadow-sm",placeholder:"e.g. Traditional Sicilian Pepperoni"})]}),(0,t.jsxs)("div",{className:"md:col-span-2 space-y-4",children:[(0,t.jsx)("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Public Story"}),(0,t.jsx)("textarea",{value:e.description,onChange:t=>s({...e,description:t.target.value}),rows:5,className:"w-full px-10 py-8 bg-slate-50 border-2 border-slate-100 rounded-[30px] text-sm font-bold text-slate-600 focus:border-slate-900 focus:bg-white transition-all outline-none resize-none leading-relaxed",placeholder:"Public-facing description..."})]})]})]})}),eT=({group:e,updateGroup:l,removeGroup:r,isCombo:i})=>{let[n,d]=(0,s.useState)(!0);return(0,t.jsxs)("div",{className:"bg-white border-2 border-slate-100 rounded-3xl shadow-sm overflow-hidden transition-all hover:shadow-md hover:border-slate-200",children:[(0,t.jsxs)("div",{className:"px-6 py-4 bg-slate-50/50 flex items-center justify-between border-b border-slate-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,t.jsx)("div",{className:"cursor-grab p-2 bg-white rounded-lg shadow-sm border border-slate-100 text-slate-300",children:(0,t.jsx)(ef,{size:20})}),(0,t.jsx)("div",{className:"flex-1 max-w-2xl",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{value:e.name,onChange:t=>l({...e,name:t.target.value.toUpperCase()}),className:"bg-transparent text-base font-black text-slate-900 uppercase tracking-wide outline-none border-b-2 border-transparent focus:border-slate-900 w-full transition-all placeholder:text-slate-300",placeholder:i?"COMPONENT NAME (e.g. PIZZA 1)":"GROUP NAME (e.g. SIZE)"}),(0,t.jsx)("span",{className:"shrink-0 px-3 py-1 bg-slate-900 text-white text-[10px] font-bold rounded-lg uppercase tracking-wider shadow-sm",children:"Mandatory"})]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>d(!n),className:"p-2 text-slate-400 hover:text-slate-900 transition-all hover:bg-slate-100 rounded-lg",children:(0,t.jsx)(ej.ChevronDown,{size:20,className:(0,a.cn)("transition-transform duration-300",n&&"rotate-180")})}),(0,t.jsx)("button",{onClick:r,className:"p-2 text-slate-300 hover:text-rose-500 transition-colors hover:bg-rose-50 rounded-lg",children:(0,t.jsx)(eg,{size:20})})]})]}),n&&(0,t.jsx)("div",{className:"p-6 space-y-6 animate-in slide-in-from-top-4 duration-300",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[e.variants.map(s=>{let r=e.defaultVariantId===s.id;return(0,t.jsxs)("div",{onClick:()=>l({...e,defaultVariantId:s.id}),className:(0,a.cn)("relative group/v flex flex-col gap-3 bg-white border-2 rounded-2xl p-4 transition-all cursor-pointer hover:border-slate-300 hover:shadow-sm",r?"border-emerald-500 ring-2 ring-emerald-500/20":"border-slate-100"),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsx)("div",{className:(0,a.cn)("w-5 h-5 rounded-full border-2 flex items-center justify-center shrink-0 mt-1 transition-colors",r?"border-emerald-500 bg-emerald-50":"border-slate-200"),children:r&&(0,t.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500"})}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),l({...e,variants:e.variants.filter(e=>e.id!==s.id),defaultVariantId:r?"":e.defaultVariantId})},className:"text-slate-200 hover:text-rose-500 p-1 opacity-0 group-hover/v:opacity-100 transition-all",children:(0,t.jsx)(eg,{size:16})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("input",{value:s.name,onClick:e=>e.stopPropagation(),onChange:t=>{let a=e.variants.map(e=>e.id===s.id?{...e,name:t.target.value}:e);l({...e,variants:a})},className:"w-full bg-transparent text-sm font-bold text-slate-900 outline-none placeholder:text-slate-300",placeholder:"Label"}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-50 rounded-lg border border-slate-100",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400",children:"$"}),(0,t.jsx)("input",{type:"number",value:s.basePrice,onClick:e=>e.stopPropagation(),onChange:t=>{let a=e.variants.map(e=>e.id===s.id?{...e,basePrice:parseFloat(t.target.value)||0}:e);l({...e,variants:a})},className:"w-full bg-transparent text-xs font-bold text-slate-900 outline-none tabular-nums"})]})]}),r&&(0,t.jsx)("div",{className:"absolute -top-3 left-4 px-2 py-0.5 bg-emerald-500 text-white text-[9px] font-bold rounded-full shadow-sm",children:"Default"})]},s.id)}),(0,t.jsxs)("button",{onClick:()=>{let t={id:"v-"+Date.now(),name:"New Option",basePrice:0,isAvailable:!0};l({...e,variants:[...e.variants,t]})},className:"border-2 border-dashed border-slate-200 rounded-2xl p-4 flex flex-col items-center justify-center gap-2 hover:border-slate-400 hover:bg-slate-50 transition-all group/add min-h-[140px]",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm border border-slate-100 group-hover/add:scale-110 transition-transform",children:(0,t.jsx)(L.Plus,{size:20,className:"text-slate-400 group-hover/add:text-slate-600"})}),(0,t.jsx)("span",{className:"text-xs font-bold uppercase text-slate-400 group-hover/add:text-slate-600",children:"Add Option"})]})]})})]})},eD=({opt:e,group:s,updateOption:l,removeOption:r})=>(0,t.jsxs)("div",{className:"p-6 bg-slate-50/30 border border-slate-100 rounded-3xl flex flex-col gap-6 transition-all hover:bg-white hover:border-slate-200 hover:shadow-md animate-in slide-in-from-bottom-2 duration-300",children:[(0,t.jsxs)("div",{className:"flex items-start gap-6",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center border border-slate-100 shadow-sm shrink-0",children:(0,t.jsx)(X.Package,{size:24,className:"text-slate-300"})}),(0,t.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-5 space-y-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Option Name"}),(0,t.jsx)("input",{value:e.name,onChange:t=>l({...e,name:t.target.value}),className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 text-sm font-bold text-slate-900 outline-none focus:border-slate-900 focus:ring-1 focus:ring-slate-900/10 transition-all",placeholder:"e.g. Extra Cheese"})]}),(0,t.jsxs)("div",{className:"lg:col-span-3 space-y-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block",children:"Surcharge"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"$"}),(0,t.jsx)("input",{type:"number",value:e.price,onChange:t=>l({...e,price:parseFloat(t.target.value)||0}),className:"w-full bg-white border border-slate-200 rounded-xl pl-8 pr-4 py-3 text-sm font-bold text-slate-900 outline-none focus:border-slate-900 focus:ring-1 focus:ring-slate-900/10 tabular-nums"})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-4 flex items-end justify-between gap-4",children:[s.isPremiumRuleEnabled&&(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer py-3 px-4 bg-white border border-slate-100 rounded-xl shadow-sm hover:border-slate-300 transition-all select-none",children:[(0,t.jsx)("div",{className:(0,a.cn)("w-5 h-5 rounded flex items-center justify-center transition-all border",e.isPremium?"bg-amber-500 border-amber-500":"bg-slate-50 border-slate-200"),children:e.isPremium&&(0,t.jsx)(ev,{size:14,className:"text-white",strokeWidth:3})}),(0,t.jsx)("span",{className:"text-[10px] font-bold uppercase text-slate-500",children:"Premium"}),(0,t.jsx)("input",{type:"checkbox",checked:e.isPremium,onChange:t=>l({...e,isPremium:t.target.checked}),className:"hidden"})]}),(0,t.jsx)("button",{onClick:r,className:"p-3 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-xl transition-all",children:(0,t.jsx)(eg,{size:20})})]})]})]}),s.isToppingGroup&&(0,t.jsx)("div",{className:"pl-[88px]",children:(0,t.jsxs)("div",{className:"flex items-center gap-4 bg-white p-3 border border-slate-100 rounded-2xl w-fit",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider px-2",children:"Scope"}),(0,t.jsxs)("div",{className:"flex sm:gap-2",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-slate-50 rounded-lg text-slate-400 hover:text-slate-900 transition-colors",children:(0,t.jsx)(eN,{size:20})}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-50 rounded-lg text-slate-400 hover:text-slate-900 transition-colors",children:(0,t.jsx)("div",{className:"rotate-0",children:(0,t.jsx)(eI,{})})}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-50 rounded-lg text-slate-400 hover:text-slate-900 transition-colors",children:(0,t.jsx)("div",{className:"rotate-0",children:(0,t.jsx)(eP,{})})})]})]})}),(0,t.jsxs)("div",{className:"pl-[88px] space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-t border-slate-100 pt-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),(0,t.jsx)("h5",{className:"text-xs font-bold text-slate-600 uppercase tracking-wide",children:"Included Choices / Variations"})]}),(0,t.jsxs)("button",{onClick:()=>{let t={id:"sub-"+Date.now(),name:"New Intensity",price:0};l({...e,subOptions:[...e.subOptions||[],t]})},className:"text-[10px] font-bold text-emerald-600 hover:text-emerald-700 uppercase tracking-wider flex items-center gap-1",children:[(0,t.jsx)(L.Plus,{size:14})," Add Choice"]})]}),e.subOptions?.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:e.subOptions.map((s,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-white p-3 rounded-xl border border-slate-100 shadow-sm group/sub transition-all hover:border-emerald-200",children:[(0,t.jsx)(ey,{size:16,className:"text-emerald-300 shrink-0",strokeWidth:2.5}),(0,t.jsx)("input",{value:s.name,onChange:t=>{let r=[...e.subOptions||[]];r[a]={...s,name:t.target.value},l({...e,subOptions:r})},className:"flex-1 min-w-0 text-xs font-bold text-slate-700 bg-transparent outline-none placeholder:text-slate-300",placeholder:"e.g. Lite, Extra"}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-slate-400 font-bold border-l border-slate-100 pl-2",children:[(0,t.jsx)("span",{className:"text-[10px]",children:"$"}),(0,t.jsx)("input",{type:"number",value:s.price,onChange:t=>{let r=[...e.subOptions||[]];r[a]={...s,price:parseFloat(t.target.value)||0},l({...e,subOptions:r})},className:"w-12 bg-transparent outline-none tabular-nums text-xs text-slate-600"})]}),(0,t.jsx)("button",{onClick:()=>l({...e,subOptions:e.subOptions.filter(e=>e.id!==s.id)}),className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover/sub:opacity-100 transition-all",children:(0,t.jsx)(eg,{size:14})})]},s.id))})]})]}),eR=e=>{let{group:l,variantGroups:r,updateGroup:i,removeGroup:n,isCombo:d}=e,[o,c]=(0,s.useState)(!0);return(0,t.jsxs)("div",{className:"bg-white border-2 border-slate-100 rounded-3xl shadow-sm overflow-hidden transition-all hover:shadow-md hover:border-slate-200",children:[(0,t.jsxs)("div",{className:"px-6 py-5 bg-slate-50/50 border-b border-slate-100 flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,t.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm border border-slate-100 text-slate-300",children:(0,t.jsx)(ef,{size:20})}),(0,t.jsx)("input",{value:l.name,onChange:e=>i({...l,name:e.target.value.toUpperCase()}),className:"bg-transparent text-lg font-black text-slate-900 uppercase tracking-wide outline-none border-b-2 border-transparent focus:border-slate-900 w-full max-w-lg transition-all placeholder:text-slate-300",placeholder:"MODIFIER GROUP NAME (e.g. TOPPINGS)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>c(!o),className:"p-2 text-slate-400 hover:text-slate-900 transition-all hover:bg-slate-100 rounded-lg",children:(0,t.jsx)(ej.ChevronDown,{size:20,className:(0,a.cn)("transition-transform duration-300",o&&"rotate-180")})}),(0,t.jsx)("button",{onClick:n,className:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-all",children:(0,t.jsx)(eg,{size:20})})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 pl-12",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 bg-white border border-slate-200 rounded-xl shadow-sm",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Required Range"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",value:l.minSelection,onChange:e=>i({...l,minSelection:parseInt(e.target.value)||0}),className:"w-10 text-center text-sm font-black text-slate-900 bg-transparent outline-none tabular-nums focus:bg-slate-50 rounded",placeholder:"0"}),(0,t.jsx)("span",{className:"text-slate-300",children:"-"}),(0,t.jsx)("input",{type:"number",value:l.maxSelection,onChange:e=>i({...l,maxSelection:parseInt(e.target.value)||0}),className:"w-10 text-center text-sm font-black text-slate-900 bg-transparent outline-none tabular-nums focus:bg-slate-50 rounded",placeholder:"âˆž"})]})]}),d&&(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 bg-slate-100 border border-slate-200 rounded-xl",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Link to:"}),(0,t.jsxs)("select",{value:l.linkedVariantGroupId||"",onChange:e=>i({...l,linkedVariantGroupId:e.target.value}),className:"bg-transparent text-xs font-bold text-slate-900 outline-none min-w-[120px]",children:[(0,t.jsx)("option",{value:"",children:"Select Component..."}),r.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})]}),o&&(0,t.jsxs)("div",{className:"p-16 space-y-12",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 gap-12",children:l.options.map((e,s)=>(0,t.jsx)(eD,{opt:e,group:l,updateOption:e=>{let t=[...l.options];t[s]=e,i({...l,options:t})},removeOption:()=>i({...l,options:l.options.filter(t=>t.id!==e.id)})},e.id))}),(0,t.jsxs)("button",{onClick:()=>{let e={id:"opt-"+Date.now(),name:"New Choice",price:1,subOptions:[]};i({...l,options:[...l.options,e]})},className:"w-full py-16 border-6 border-dashed border-slate-50 rounded-[60px] bg-slate-50/20 flex flex-col items-center justify-center gap-8 group transition-all hover:bg-white hover:border-slate-200",children:[(0,t.jsx)(L.Plus,{size:48,className:"text-emerald-500",strokeWidth:4}),(0,t.jsx)("span",{className:"text-[16px] font-black uppercase text-slate-300",children:"Add Choice variant"})]})]})]})},eE=({formData:e,setFormData:s})=>(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-600 max-w-4xl",children:[(0,t.jsx)("div",{className:"flex items-center gap-4 border-l-[6px] border-slate-900 pl-6 h-10",children:(0,t.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-[0.15em]",children:"Channel Availability"})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["POS","Online","Kiosk"].map(l=>(0,t.jsxs)("div",{onClick:()=>{let t=e.availability||[],a=t.includes(l)?t.filter(e=>e!==l):[...t,l];s({...e,availability:a})},className:(0,a.cn)("group cursor-pointer p-8 rounded-[32px] border-2 transition-all relative overflow-hidden",e.availability?.includes(l)?"bg-slate-900 border-slate-900 shadow-xl":"bg-white border-slate-100 hover:border-slate-300"),children:[(0,t.jsx)("div",{className:(0,a.cn)("absolute top-0 right-0 p-32 rounded-full blur-3xl -mr-16 -mt-16 transition-all",e.availability?.includes(l)?"bg-white/10":"bg-slate-100/50")}),(0,t.jsxs)("div",{className:"relative z-10 flex flex-col items-center text-center gap-4",children:[(0,t.jsxs)("div",{className:(0,a.cn)("w-16 h-16 rounded-2xl flex items-center justify-center transition-all",e.availability?.includes(l)?"bg-white/10 text-white":"bg-slate-50 text-slate-400"),children:["POS"===l&&(0,t.jsx)(ew,{size:32}),"Online"===l&&(0,t.jsx)(ek,{size:32}),"Kiosk"===l&&(0,t.jsx)(eS,{size:32})]}),(0,t.jsx)("span",{className:(0,a.cn)("text-lg font-black uppercase tracking-widest",e.availability?.includes(l)?"text-white":"text-slate-900"),children:l}),(0,t.jsx)("div",{className:(0,a.cn)("px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border",e.availability?.includes(l)?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"bg-slate-100 text-slate-400 border-slate-200"),children:e.availability?.includes(l)?"Active":"Disabled"})]})]},l))})]}),eO=({formData:e})=>(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-600 max-w-4xl",children:[(0,t.jsx)("div",{className:"flex items-center gap-4 border-l-[6px] border-slate-900 pl-6 h-10",children:(0,t.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-[0.15em]",children:"Linked Recipe & BOM"})}),(0,t.jsxs)("div",{className:"p-10 bg-white border-2 border-slate-100 rounded-[32px] shadow-sm flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center text-orange-600",children:(0,t.jsx)(eC,{size:32})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-black text-slate-900",children:e.recipeName||"Standard Recipe v1"}),(0,t.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase mt-1",children:"Primary Production Recipe"})]})]}),(0,t.jsx)("button",{className:"px-6 py-3 bg-slate-50 text-slate-900 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-100",children:"View Recipe Details"})]}),(0,t.jsx)("div",{className:"p-6 bg-slate-50 border border-slate-100 rounded-2xl",children:(0,t.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"To change the recipe, please go to the Recipes module. Direct association editing is disabled here to maintain integrity."})})]}),eM=({formData:e,setFormData:s})=>{let l=e.pricingRules||[],r=(t,a,r)=>{let i=[...l];if(a.includes(".")){let e=a.split("."),s=e[0],l=e[1];s&&l&&(i[t][s]={...i[t][s],[l]:r})}else i[t][a]=r;s({...e,pricingRules:i})};return(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-600 pb-20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-l-[6px] border-slate-900 pl-6 h-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-[0.15em]",children:"Rule Configurator"}),(0,t.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Dynamic Pricing Strategy"})]}),(0,t.jsxs)("button",{onClick:()=>{let t={id:Date.now(),name:"NEW PRICING RULE",status:"Active",priority:(l.length||0)+1,scope:"TENANT",targetType:"PRODUCT",changeType:"PERCENTAGE",changeValue:0,conditions:{days:["MON","TUE","WED","THU","FRI","SAT","SUN"],timeStart:"00:00",timeEnd:"23:59",channels:["POS","ONLINE","KIOSK","DELIVERY"],dateStart:"",dateEnd:""}};s({...e,pricingRules:[...l,t]})},className:"flex items-center gap-2 px-6 py-2 bg-slate-900 text-white rounded-[16px] text-[10px] font-black uppercase tracking-widest hover:bg-emerald-600 transition-colors",children:[(0,t.jsx)(L.Plus,{size:14,strokeWidth:4})," Add Rule"]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[0===l.length&&(0,t.jsxs)("div",{className:"p-12 text-center border-2 border-dashed border-slate-200 rounded-3xl bg-slate-50/50",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-400",children:(0,t.jsx)(Y.DollarSign,{size:32})}),(0,t.jsx)("h4",{className:"text-sm font-black text-slate-900 uppercase tracking-wider",children:"No Active Rules"}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-2 font-medium max-w-xs mx-auto",children:"Create rules to temporarily adjust prices based on time, channel, or location."})]}),l.map((i,n)=>(0,t.jsxs)("div",{className:"bg-white border text-sm border-slate-200 rounded-3xl overflow-hidden shadow-sm hover:shadow-md transition-all group",children:[(0,t.jsxs)("div",{className:"bg-slate-50/80 px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,t.jsxs)("span",{className:"w-8 h-8 rounded-lg bg-slate-200 flex items-center justify-center text-[10px] font-black text-slate-600",children:["#",i.priority]}),(0,t.jsx)("input",{value:i.name,onChange:e=>r(n,"name",e.target.value.toUpperCase()),className:"bg-transparent font-black text-slate-800 uppercase tracking-wide outline-none w-full max-w-md focus:text-emerald-700",placeholder:"RULE NAME"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("select",{value:i.status,onChange:e=>r(n,"status",e.target.value),className:(0,a.cn)("px-3 py-1.5 rounded-lg text-[10px] font-black uppercase outline-none transition-colors","Active"===i.status?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"),children:[(0,t.jsx)("option",{value:"Active",children:"Active"}),(0,t.jsx)("option",{value:"Inactive",children:"Inactive"})]}),(0,t.jsx)("button",{onClick:()=>s({...e,pricingRules:l.filter(e=>e.id!==i.id)}),className:"p-2 ml-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-all",children:(0,t.jsx)(eg,{size:16})})]})]}),(0,t.jsxs)("div",{className:"p-6 grid grid-cols-12 gap-8",children:[(0,t.jsx)("div",{className:"col-span-12 xl:col-span-5 space-y-6 border-r border-slate-100 pr-8",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Target & Adjust"}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("select",{value:i.scope,onChange:e=>r(n,"scope",e.target.value),className:"w-1/3 py-2 px-3 border border-slate-200 rounded-xl text-[10px] font-black uppercase outline-none bg-slate-50",children:[(0,t.jsx)("option",{value:"TENANT",children:"Tenant-Wide"}),(0,t.jsx)("option",{value:"STORE",children:"Store-Specific"})]}),(0,t.jsxs)("select",{value:i.changeType,onChange:e=>r(n,"changeType",e.target.value),className:"flex-1 py-2 px-3 border border-slate-200 rounded-xl text-[10px] font-black uppercase outline-none bg-slate-50",children:[(0,t.jsx)("option",{value:"PERCENTAGE",children:"Percentage (%)"}),(0,t.jsx)("option",{value:"FIXED",children:"Amount ($)"}),(0,t.jsx)("option",{value:"OVERRIDE",children:"Override Price"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"number",value:i.changeValue,onChange:e=>r(n,"changeValue",parseFloat(e.target.value)),className:(0,a.cn)("w-full h-11 pl-4 pr-12 bg-white border-2 border-slate-100 rounded-xl font-black text-slate-900 outline-none focus:border-slate-900 transition-all text-sm",i.changeValue>0?"text-emerald-600":i.changeValue<0?"text-rose-600":""),placeholder:"0.00"}),(0,t.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-bold text-slate-400",children:"PERCENTAGE"===i.changeType?"%":"$"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Applies To"}),(0,t.jsx)("div",{className:"flex gap-2",children:["PRODUCT","VARIANT","MODIFIER"].map(e=>(0,t.jsx)("button",{onClick:()=>r(n,"targetType",e),className:(0,a.cn)("flex-1 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all",i.targetType===e?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-400 border-slate-200 hover:bg-slate-50"),children:e},e))})]})]})}),(0,t.jsxs)("div",{className:"col-span-12 xl:col-span-7 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-2",children:"Effective Period"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 bg-slate-50 border border-slate-200 rounded-xl px-3 py-2 flex items-center gap-2",children:[(0,t.jsx)(I.Calendar,{size:14,className:"text-slate-400"}),(0,t.jsx)("input",{type:"date",value:i.conditions?.dateStart||"",onChange:e=>r(n,"conditions.dateStart",e.target.value),className:"bg-transparent text-[11px] font-bold text-slate-700 outline-none w-full uppercase"})]}),(0,t.jsx)("span",{className:"text-slate-300 font-black text-[10px]",children:"TO"}),(0,t.jsxs)("div",{className:"flex-1 bg-slate-50 border border-slate-200 rounded-xl px-3 py-2 flex items-center gap-2",children:[(0,t.jsx)(I.Calendar,{size:14,className:"text-slate-400"}),(0,t.jsx)("input",{type:"date",value:i.conditions?.dateEnd||"",onChange:e=>r(n,"conditions.dateEnd",e.target.value),className:"bg-transparent text-[11px] font-bold text-slate-700 outline-none w-full uppercase"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-2",children:"Weekly Schedule"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[["MON","TUE","WED","THU","FRI","SAT","SUN"].map(e=>(0,t.jsx)("button",{onClick:()=>{let t=i.conditions?.days||[];r(n,"conditions.days",t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:(0,a.cn)("w-9 h-9 rounded-lg text-[9px] font-black flex items-center justify-center transition-all border",i.conditions?.days?.includes(e)?"bg-emerald-500 text-white border-emerald-500 shadow-md shadow-emerald-100":"bg-white text-slate-400 border-slate-100 hover:border-slate-300"),children:e[0]},e)),(0,t.jsx)("div",{className:"w-[1px] bg-slate-100 mx-2 h-9"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-slate-50 px-3 rounded-xl border border-slate-100 h-9",children:[(0,t.jsx)(B,{size:14,className:"text-slate-400"}),(0,t.jsx)("input",{type:"time",value:i.conditions?.timeStart,onChange:e=>r(n,"conditions.timeStart",e.target.value),className:"bg-transparent border-none text-[10px] font-bold text-slate-700 focus:ring-0 w-16"}),(0,t.jsx)("span",{className:"text-slate-300 text-[9px] font-black uppercase",children:"-"}),(0,t.jsx)("input",{type:"time",value:i.conditions?.timeEnd,onChange:e=>r(n,"conditions.timeEnd",e.target.value),className:"bg-transparent border-none text-[10px] font-bold text-slate-700 focus:ring-0 w-16"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-2",children:"Sales Channels"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["POS","ONLINE","KIOSK","DELIVERY"].map(e=>(0,t.jsx)("button",{onClick:()=>{let t=i.conditions?.channels||[];r(n,"conditions.channels",t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:(0,a.cn)("px-3 py-2 rounded-lg text-[9px] font-black uppercase tracking-widest border transition-all",i.conditions?.channels?.includes(e)?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-400 border-slate-100 hover:border-slate-300"),children:e},e))})]})]})]})]},i.id))]})]})},ez=({item:e,onClose:l,categories:r})=>{let[i,n]=(0,s.useState)("GENERAL"),[d,o]=(0,s.useState)(()=>e?JSON.parse(JSON.stringify(e)):{id:"new-"+Date.now(),productType:"SINGLE",name:"",description:"",categoryId:"",isAvailable:!0,variantGroups:[],modifierGroups:[],pricingRules:[],availability:["POS","Online","Kiosk"],auditLog:[]}),c=null!==e,x=[{id:"GENERAL",label:"General",icon:eu},{id:"VARIANTS",label:"Variants",icon:ec},{id:"MODIFIERS",label:"Modifiers",icon:ex},{id:"PRICING",label:"Pricing",icon:Y.DollarSign},{id:"INVENTORY",label:"Inventory",icon:X.Package},{id:"AVAILABILITY",label:"Availability",icon:B},{id:"AUDIT",label:"Audit Log",icon:eb}];return(0,t.jsxs)("div",{className:"bg-slate-50/50 -mx-4 -mt-6 px-4 pt-6 min-h-screen",children:[(0,t.jsxs)("div",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-slate-200 -mx-4 px-8 py-5 flex items-center justify-between shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("button",{onClick:l,className:"p-2.5 text-slate-400 hover:text-slate-900 transition-all bg-slate-50 rounded-2xl border border-slate-100",children:(0,t.jsx)(g.ChevronLeft,{size:22})}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h2",{className:"text-xl font-black text-slate-900 tracking-tight",children:c?`Edit: ${d.name}`:"Setup Offering"}),(0,t.jsxs)("span",{className:(0,a.cn)("px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border","SINGLE"===d.productType?"bg-blue-50 text-blue-700 border-blue-100":"bg-purple-50 text-purple-700 border-purple-100"),children:[d.productType," PRODUCT"]})]})})]}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("button",{onClick:()=>d.name?"COMBO"===d.productType&&0===d.variantGroups.length?alert("Combo must have components"):d.variantGroups.some(e=>e.variants.length>0&&!e.defaultVariantId)?alert("Missing default selection in variant group"):"COMBO"===d.productType&&d.modifierGroups.some(e=>!e.linkedVariantGroupId)?alert("Combo modifiers must be bound to a component"):void(console.log("Saving Configuration:",d),l()):alert("Name is required"),className:"flex items-center gap-2 px-10 py-3.5 bg-slate-900 text-white rounded-[22px] text-xs font-black uppercase tracking-widest hover:bg-emerald-600 shadow-xl shadow-slate-200 transition-all",children:[(0,t.jsx)(H,{size:16,className:"text-emerald-400"}),"Save Product"]})})]}),(0,t.jsxs)("div",{className:"max-w-[1550px] mx-auto py-10 flex flex-col lg:flex-row gap-8",children:[(0,t.jsx)("div",{className:"w-full lg:w-72 shrink-0 space-y-2",children:x.map(e=>(0,t.jsxs)("button",{onClick:()=>n(e.id),className:(0,a.cn)("w-full flex items-center gap-4 px-6 py-4 rounded-[22px] text-[11px] font-black uppercase tracking-widest transition-all",i===e.id?"bg-slate-900 text-white shadow-2xl scale-[1.03]":"text-slate-500 hover:bg-white/80 hover:text-slate-900"),children:[(0,t.jsx)(e.icon,{size:18,strokeWidth:i===e.id?3:2.5}),e.label]},e.id))}),(0,t.jsx)("div",{className:"flex-1 bg-white rounded-[44px] border border-slate-200 shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] overflow-hidden min-h-[850px]",children:(0,t.jsxs)("div",{className:"p-16 h-full overflow-y-auto max-h-[calc(100vh-200px)]",children:["GENERAL"===i&&(0,t.jsx)(eA,{formData:d,setFormData:o,categories:r,isExisting:c}),"VARIANTS"===i&&(0,t.jsxs)("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-8 duration-700",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-l-[6px] border-slate-900 pl-6 h-12",children:[(0,t.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-[0.15em]",children:"Variant Structure"}),(0,t.jsxs)("button",{onClick:()=>{let e={id:"vg-"+Date.now(),name:"NEW GROUP",isRequired:!0,defaultVariantId:"",variants:[],sortOrder:d.variantGroups.length+1};o({...d,variantGroups:[...d.variantGroups,e]})},className:"flex items-center gap-2 px-8 py-3.5 bg-slate-900 text-white rounded-[20px] text-[11px] font-black uppercase tracking-widest",children:[(0,t.jsx)(L.Plus,{size:18,strokeWidth:4})," Add Group"]})]}),(0,t.jsx)("div",{className:"space-y-8",children:d.variantGroups.map((e,s)=>(0,t.jsx)(eT,{group:e,isCombo:"COMBO"===d.productType,updateGroup:e=>{let t=[...d.variantGroups];t[s]=e,o({...d,variantGroups:t})},removeGroup:()=>o({...d,variantGroups:d.variantGroups.filter((e,t)=>t!==s)})},e.id))})]}),"MODIFIERS"===i&&(0,t.jsx)(eU,{formData:d,setFormData:o}),"PRICING"===i&&(0,t.jsx)(eM,{formData:d,setFormData:o}),"INVENTORY"===i&&(0,t.jsx)(eO,{formData:d,setFormData:o}),"AVAILABILITY"===i&&(0,t.jsx)(eE,{formData:d,setFormData:o}),"AUDIT"===i&&(0,t.jsx)(eL,{icon:eb,label:"Audit Log",description:"Track all changes made to this item."})]})})]})]})},eU=e=>{let{formData:s,setFormData:a}=e,l="COMBO"===s.productType;return(0,t.jsxs)("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-8 duration-700",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-l-[6px] border-slate-900 pl-6 h-12",children:[(0,t.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-[0.15em]",children:"Modifier Pools"}),(0,t.jsxs)("button",{onClick:()=>{let e={id:"mg-"+Date.now(),name:"NEW POOL",isRequired:!1,minSelection:0,maxSelection:10,isToppingGroup:!0,isHalfAndHalfEnabled:!0,isPremiumRuleEnabled:!0,options:[]};a({...s,modifierGroups:[...s.modifierGroups,e]})},className:"flex items-center gap-2 px-8 py-3.5 bg-slate-900 text-white rounded-[20px] text-[11px] font-black uppercase tracking-widest",children:[(0,t.jsx)(L.Plus,{size:18,strokeWidth:4})," New Pool"]})]}),(0,t.jsx)("div",{className:"space-y-12",children:s.modifierGroups.map((e,r)=>(0,t.jsx)(eR,{group:e,variantGroups:s.variantGroups,updateGroup:e=>{let t=[...s.modifierGroups];t[r]=e,a({...s,modifierGroups:t})},removeGroup:()=>a({...s,modifierGroups:s.modifierGroups.filter((e,t)=>t!==r)}),isCombo:l},e.id))})]})},eL=({icon:e,label:s,description:a})=>(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-40 text-center space-y-6 animate-in fade-in duration-700",children:[(0,t.jsx)("div",{className:"p-10 bg-slate-50 rounded-full border border-slate-100 flex items-center justify-center shadow-inner",children:(0,t.jsx)(e,{size:64,className:"text-slate-200",strokeWidth:1})}),(0,t.jsxs)("div",{className:"max-w-sm",children:[(0,t.jsx)("h4",{className:"text-xl font-black text-slate-800 uppercase tracking-[0.2em]",children:s}),(0,t.jsx)("p",{className:"text-xs font-bold text-slate-400 mt-3 uppercase leading-relaxed tracking-widest",children:a})]})]}),eF=({items:e,onEdit:s})=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-4 bg-white p-4 rounded-2xl border border-slate-200 shadow-sm",children:(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(R.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search items by name, SKU or ID...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-slate-900 transition-all font-bold"})]})}),(0,t.jsx)("div",{className:"bg-white rounded-[32px] border border-slate-200 shadow-sm overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Item Identity"}),(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Architecture"}),(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category"}),(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Base Range"}),(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:e.map(e=>{let l=e.variantGroups.flatMap(e=>e.variants),r=l.length>0?Math.min(...l.map(e=>e.basePrice)):0,i=l.length>0?Math.max(...l.map(e=>e.basePrice)):0;return(0,t.jsxs)("tr",{className:"group hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>s(e),children:[(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl overflow-hidden border border-slate-100 flex-shrink-0 flex items-center justify-center",children:e.imageUrl?(0,t.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"}):(0,t.jsx)(X.Package,{size:20,className:"text-slate-200"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-black text-slate-900 tracking-tight",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:(0,a.cn)("text-[8px] font-black uppercase tracking-widest px-2 py-0.5 rounded border","SINGLE"===e.productType?"bg-blue-50 text-blue-600 border-blue-100":"bg-purple-50 text-purple-600 border-purple-100"),children:e.productType}),(0,t.jsxs)("span",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-tight",children:["ID: ",e.id]})]})]})]})}),(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest",children:[e.variantGroups.length," Variant Groups"]}),(0,t.jsxs)("div",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-tight",children:[e.modifierGroups.length," Modifier Pools"]})]})}),(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsx)("span",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:ep.find(t=>t.id===e.categoryId)?.name||"Unassigned"})}),(0,t.jsx)("td",{className:"px-6 py-5 text-right tabular-nums",children:(0,t.jsxs)("div",{className:"text-sm font-black text-slate-900",children:["$",r.toFixed(2)," - $",i.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-6 py-5 text-center",children:(0,t.jsx)("span",{className:(0,a.cn)("px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border transition-all",e.isAvailable?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-slate-50 text-slate-400 border-slate-100"),children:e.isAvailable?"Active":"Offline"})}),(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsx)("div",{className:"flex items-center justify-end",children:(0,t.jsx)("div",{className:"p-2 text-slate-300 hover:text-slate-900 group-hover:bg-white rounded-xl transition-all shadow-sm",children:(0,t.jsx)(em,{size:16})})})})]},e.id)})})]})})]}),e$=({categories:e})=>(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(e=>(0,t.jsxs)("div",{className:"bg-white p-8 rounded-[32px] border border-slate-200 shadow-sm hover:border-slate-900 transition-all cursor-pointer group flex flex-col justify-between h-full",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,t.jsx)("div",{className:"w-12 h-12 bg-slate-900 rounded-2xl flex items-center justify-center shadow-xl shadow-slate-200",children:(0,t.jsx)(ec,{size:20,className:"text-emerald-400"})})}),(0,t.jsx)("h3",{className:"text-lg font-black text-slate-900 tracking-tight uppercase tracking-widest",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-slate-500 font-bold mt-2 leading-relaxed uppercase tracking-tighter",children:e.description||"No description provided for this category."})]}),(0,t.jsxs)("div",{className:"mt-10 pt-6 border-t border-slate-50 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em]",children:"View Catalog Items"}),(0,t.jsx)(f.ChevronRight,{size:16,className:"text-slate-200 group-hover:translate-x-1 transition-all group-hover:text-slate-900"})]})]},e.id))});e.s(["ItemsPage",0,()=>{let[e,l]=(0,s.useState)("LIST"),[r,i]=(0,s.useState)(null),{role:n}=(0,b.useRouteAccess)();return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Catalog Management"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Manage items, variants, and modifiers with hierarchical configuration."})]}),"ADMIN"===n&&"LIST"===e&&(0,t.jsxs)("button",{onClick:()=>{i(null),l("EDIT")},className:"flex items-center gap-2 px-5 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95",children:[(0,t.jsx)(L.Plus,{size:16,strokeWidth:3}),"Add New Item"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-slate-100 p-1.5 rounded-2xl w-fit",children:[(0,t.jsxs)("button",{onClick:()=>l("LIST"),className:(0,a.cn)("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all","LIST"===e?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:bg-white/50"),children:[(0,t.jsx)(X.Package,{size:14}),"Item List"]}),(0,t.jsxs)("button",{onClick:()=>l("CATEGORIES"),className:(0,a.cn)("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all","CATEGORIES"===e?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:bg-white/50"),children:[(0,t.jsx)(ec,{size:14}),"Categories"]}),(0,t.jsxs)("button",{onClick:()=>l("MODIFIERS"),className:(0,a.cn)("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all","MODIFIERS"===e?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:bg-white/50"),children:[(0,t.jsx)(ex,{size:14}),"Global Modifiers"]})]}),(0,t.jsxs)("div",{className:"min-h-[400px]",children:["LIST"===e&&(0,t.jsx)(eF,{onEdit:e=>{i(e),l("EDIT")},items:eh}),"CATEGORIES"===e&&(0,t.jsx)(e$,{categories:ep}),"MODIFIERS"===e&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[(0,t.jsx)(ex,{size:48,strokeWidth:1}),(0,t.jsx)("p",{className:"mt-4 font-black uppercase tracking-widest text-xs tracking-[0.2em]",children:"Global Modifier Management Coming Soon"}),(0,t.jsx)("p",{className:"mt-2 text-[10px] font-bold uppercase tracking-tight",children:"Currently, modifiers are configured per item."})]}),"EDIT"===e&&(0,t.jsx)(ez,{item:r,onClose:()=>l("LIST"),categories:ep})]})]})}],98122);var eV=e.i(83643);e.i(74873);var eB=e.i(40160);(0,i.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);let eG=(0,i.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),eW=(0,i.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);function eq(e){return (t={})=>{let s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}eq({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),eq({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),eq({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"});function eQ(e){return(t,s)=>{let a;if("formatting"===(s?.context?String(s.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,l=s?.width?String(s.width):t;a=e.formattingValues[l]||e.formattingValues[t]}else{let t=e.defaultWidth,l=s?.width?String(s.width):e.defaultWidth;a=e.values[l]||e.values[t]}return a[e.argumentCallback?e.argumentCallback(t):t]}}function eZ(e){return(t,s={})=>{let a,l=s.width,r=l&&e.matchPatterns[l]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;let n=i[0],d=l&&e.parsePatterns[l]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(d)?function(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}(d,e=>e.test(n)):function(e,t){for(let s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}(d,e=>e.test(n));return a=e.valueCallback?e.valueCallback(o):o,{value:a=s.valueCallback?s.valueCallback(a):a,rest:t.slice(n.length)}}}eQ({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),eQ({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),eQ({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),eQ({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),eQ({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"}),eZ({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),eZ({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),eZ({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),eZ({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),eZ({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"}),Symbol.for("constructDateFrom");let e_=(0,i.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),eK=(0,i.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);(0,i.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);let eH=(0,i.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),eY=(0,i.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),eJ=({data:e,onRowClick:s})=>(0,t.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Customer"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Contact"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-center",children:"Orders"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Last Activity"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Total Spend"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-center",children:"Loyalty"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-100",children:e.map(e=>{let a;return(0,t.jsxs)("tr",{onClick:()=>s(e),className:"hover:bg-slate-50/80 cursor-pointer transition-colors group",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-9 h-9 bg-slate-100 rounded-full flex items-center justify-center text-slate-500 font-bold group-hover:bg-emerald-50 group-hover:text-emerald-600 transition-colors",children:e.name.charAt(0)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900",children:e.name}),(0,t.jsxs)("div",{className:"text-[10px] text-slate-400 font-medium",children:["#",e.id]})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-slate-600",children:[(0,t.jsx)(eH,{className:"w-3 h-3 text-slate-400"}),e.phone]}),e.email&&(0,t.jsx)("div",{className:"text-[10px] text-slate-400 ml-4.5",children:e.email})]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-100 text-slate-700 rounded-lg text-xs font-bold",children:[(0,t.jsx)(er,{className:"w-3 h-3"}),e.totalOrders]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-600",children:new Date(e.lastOrderDate).toLocaleDateString()}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-mono font-bold text-slate-900 text-right",children:(a=e.totalSpend,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a))}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsxs)("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-[10px] font-bold border ${(e=>{switch(e){case"GOLD":return"text-amber-500 bg-amber-50 border-amber-100";case"SILVER":return"text-slate-400 bg-slate-50 border-slate-200";default:return"text-orange-400 bg-orange-50 border-orange-100"}})(e.loyaltyTier)}`,children:[(0,t.jsx)(eY,{className:"w-3 h-3 fill-current"}),e.loyaltyTier]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsx)(f.ChevronRight,{className:"w-4 h-4 text-slate-300 group-hover:text-slate-900 transition-all group-hover:translate-x-1"})})]},e.id)})})]})})}),eX=(0,i.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),e0=({customer:e})=>{let s;return(0,t.jsx)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-xl shadow-slate-200/50 overflow-hidden",children:(0,t.jsxs)("div",{className:"p-8 flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-slate-900 rounded-3xl flex items-center justify-center text-white text-3xl font-black shadow-2xl shadow-slate-900/20",children:e.name.charAt(0)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:e.name}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-sm font-bold text-slate-500",children:[(0,t.jsx)(eH,{className:"w-4 h-4"}),e.phone]}),e.email&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-sm font-bold text-slate-500",children:[(0,t.jsx)(eX,{className:"w-4 h-4"}),e.email]}),(0,t.jsx)("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-emerald-50 text-emerald-600 rounded-full border border-emerald-100 text-[10px] font-black uppercase tracking-widest",children:"Validated Profile"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,t.jsxs)("div",{className:"px-6 py-4 bg-slate-50 rounded-2xl border border-slate-100 flex flex-col gap-1",children:[(0,t.jsxs)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[(0,t.jsx)(er,{className:"w-3 h-3"})," Total Orders"]}),(0,t.jsx)("span",{className:"text-xl font-black text-slate-900",children:e.totalOrders})]}),(0,t.jsxs)("div",{className:"px-6 py-4 bg-slate-50 rounded-2xl border border-slate-100 flex flex-col gap-1",children:[(0,t.jsxs)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[(0,t.jsx)(Y.DollarSign,{className:"w-3 h-3"})," Total Spend"]}),(0,t.jsx)("span",{className:"text-xl font-black text-slate-900",children:(s=e.totalSpend,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s))})]}),(0,t.jsxs)("div",{className:"px-6 py-4 bg-slate-900 rounded-2xl flex flex-col gap-1 shadow-lg shadow-slate-200",children:[(0,t.jsxs)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[(0,t.jsx)(eY,{className:"w-3 h-3 text-amber-400"})," ",e.loyaltyTier]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl font-black text-white",children:e.loyaltyPoints}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Pts"})]})]})]})]})})},e1=(0,i.default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),e2=(0,i.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),e4=({orderId:e,onReorder:a,disabled:l})=>{let[r,i]=(0,s.useState)(!1),d=async t=>{t.stopPropagation(),i(!0);try{await a(e)}finally{i(!1)}};return(0,t.jsxs)("button",{onClick:d,disabled:l||r,className:"group flex items-center gap-2 px-3 py-1.5 bg-emerald-600 text-white rounded-lg text-[10px] font-black uppercase tracking-widest hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm active:scale-95",children:[r?(0,t.jsx)(n,{className:"w-3 h-3 animate-spin"}):(0,t.jsx)(e1,{className:"w-3 h-3 group-hover:rotate-180 transition-transform duration-500"}),"Reorder Last"]})},e5=({orders:e,onReorder:s})=>(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1 h-3.5 bg-slate-900 rounded-full"}),"Unified Order History"]}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Cross-Channel Aggregation"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Store"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Channel"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Items"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:e.map(e=>{let a;return(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-slate-900",children:new Date(e.date).toLocaleDateString()}),(0,t.jsxs)("div",{className:"text-[10px] text-slate-400 font-mono italic",children:["#",e.id]})]}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"text-sm font-bold text-slate-700",children:e.storeName})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(e=>{switch(e){case"POS":return(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-slate-100 text-slate-700 rounded text-[9px] font-black tracking-tighter",children:"POS"});case"ONLINE":return(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 rounded text-[9px] font-black tracking-tighter",children:"APP"});case"UBER":return(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-emerald-50 text-emerald-700 rounded text-[9px] font-black tracking-tighter",children:"UBER"});default:return null}})(e.channel)}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("p",{className:"text-xs text-slate-600 font-medium line-clamp-1 truncate max-w-[200px]",title:e.itemsSummary,children:e.itemsSummary})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsx)("span",{className:"text-sm font-mono font-black text-slate-900",children:(a=e.totalAmount,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a))})}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:e.canReorder?(0,t.jsx)(e4,{orderId:e.id,onReorder:s}):(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1.5 text-[10px] font-bold text-slate-300 uppercase tracking-widest",children:[(0,t.jsx)(e2,{className:"w-3 h-3"})," Historical"]})})]},e.id)})})]})})]}),e6=[{id:"cust-1",name:"Parveen Singh",phone:"1122334455",email:"parveen@example.com",totalOrders:14,lastOrderDate:"2023-11-20",totalSpend:450.5,loyaltyTier:"GOLD",loyaltyPoints:1250},{id:"cust-2",name:"Jasbir Kaur",phone:"9988776655",totalOrders:8,lastOrderDate:"2023-11-18",totalSpend:235.2,loyaltyTier:"SILVER",loyaltyPoints:540},{id:"cust-3",name:"John Doe",phone:"5544332211",totalOrders:3,lastOrderDate:"2023-11-10",totalSpend:85,loyaltyTier:"BRONZE",loyaltyPoints:120}],e3={"cust-1":{...e6[0],orderHistory:[{id:"ord-101",date:"2023-11-20T14:30:00Z",storeName:"Downtown Store",storeId:"store-01",channel:"POS",itemsSummary:"1 Large Veggie Supreme, 2 Garlic Dips",totalAmount:32.5,status:"COMPLETED",canReorder:!0},{id:"ord-100",date:"2023-11-12T19:15:00Z",storeName:"Online",storeId:"online",channel:"ONLINE",itemsSummary:"2 Medium Pepperoni, 1 Coke (1.5L)",totalAmount:45,status:"COMPLETED",canReorder:!1},{id:"ord-95",date:"2023-10-25T13:00:00Z",storeName:"Uber Eats",storeId:"uber",channel:"UBER",itemsSummary:"1 Family Meal, 4 Dips",totalAmount:65.2,status:"COMPLETED",canReorder:!1}]}};var e9=e.i(61911);e.s(["CustomersPage",0,()=>{let e=(0,ea.useRouter)(),{role:a}=(0,b.useRouteAccess)(),[l,r]=(0,s.useState)([]),[i,n]=(0,s.useState)([]),[d,o]=(0,s.useState)(!0),[c,x]=(0,s.useState)({searchQuery:""});return(0,s.useEffect)(()=>{(async()=>{o(!0);try{await new Promise(e=>setTimeout(e,800)),r(e6),n(e6)}finally{o(!1)}})()},[]),(0,s.useEffect)(()=>{let e=[...l];if(c.searchQuery){let t=c.searchQuery.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.phone.includes(t))}n(e)},[c,l]),(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto pb-20 px-4 space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-slate-900 rounded-2xl shadow-xl shadow-slate-200",children:(0,t.jsx)(e9.Users,{className:"w-6 h-6 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Customer Hub"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:"Unified identity and aggregated channel history."})]})]}),"ADMIN"===a&&(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 hover:text-slate-900 transition-all shadow-sm",children:[(0,t.jsx)(eB.Download,{className:"w-4 h-4"}),"Export CRM Data"]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 bg-white p-4 rounded-2xl border border-slate-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,t.jsx)(R.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by name or phone number...",value:c.searchQuery,onChange:e=>x({...c,searchQuery:e.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:ring-2 focus:ring-slate-900/5 focus:border-slate-900 transition-all"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-bold shadow-lg shadow-slate-200",children:[(0,t.jsx)(P.Filter,{className:"w-3.5 h-3.5"}),"Filters"]})})]}),d?(0,t.jsxs)("div",{className:"h-96 bg-white rounded-2xl border border-slate-200 flex flex-col items-center justify-center gap-3 animate-pulse",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-full"}),(0,t.jsx)("div",{className:"h-4 w-48 bg-slate-50 rounded"})]}):(0,t.jsx)(eJ,{data:i,onRowClick:t=>{e.push(`/backoffice/customers/${t.id}`)}}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-6 pt-6 opacity-30",children:[(0,t.jsx)("div",{className:"h-px bg-slate-300 flex-1"}),(0,t.jsx)("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.3em] whitespace-nowrap",children:"Cross-Channel Customer Record"}),(0,t.jsx)("div",{className:"h-px bg-slate-300 flex-1"})]})]})}],85400);let e8=({title:e,description:s,items:a,icon:l,iconColor:r="text-slate-400"})=>{let i=(0,ea.useRouter)();return(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:`p-2 bg-white rounded-lg shadow-sm border border-slate-100 ${r}`,children:(0,t.jsx)(l,{size:18})}),(0,t.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:e})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 font-medium leading-relaxed",children:s})]}),(0,t.jsx)("div",{className:"flex-1 divide-y divide-slate-50",children:a.map(e=>(0,t.jsxs)("button",{onClick:()=>i.push(e.route),className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 transition-colors group text-left",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-slate-700 group-hover:text-slate-900 transition-colors",children:e.label}),e.description&&(0,t.jsx)("span",{className:"text-[10px] text-slate-400 font-medium",children:e.description})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.badge&&(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-emerald-50 text-emerald-600 rounded text-[9px] font-black uppercase tracking-tighter border border-emerald-100",children:e.badge}),(0,t.jsx)(f.ChevronRight,{size:14,className:"text-slate-300 group-hover:text-slate-900 group-hover:translate-x-0.5 transition-all"})]})]},e.id))})]})};var e7=e.i(95740);let te=({profile:e})=>{let s=(0,ea.useRouter)();return(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden h-full flex flex-col",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm border border-slate-100 text-indigo-500",children:(0,t.jsx)(e7.UserCircle,{size:18})}),(0,t.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Profile"})]})}),(0,t.jsxs)("div",{className:"p-8 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-5 mb-8 pb-8 border-b border-slate-50",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-slate-900 rounded-2xl flex items-center justify-center text-white text-2xl font-black",children:e.name.charAt(0)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-black text-slate-900 tracking-tight",children:e.name}),(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase tracking-widest text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full border border-emerald-100 mt-1",children:[(0,t.jsx)(eb,{size:10})," ",e.role]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-2 bg-slate-50 rounded-lg text-slate-400",children:(0,t.jsx)(eX,{size:16})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Email Address"}),(0,t.jsx)("span",{className:"text-sm font-bold text-slate-700",children:e.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-2 bg-slate-50 rounded-lg text-slate-400",children:(0,t.jsx)(eH,{size:16})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Phone Number"}),(0,t.jsx)("span",{className:"text-sm font-bold text-slate-700",children:e.phone})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-2 bg-slate-50 rounded-lg text-slate-400",children:(0,t.jsx)(eb,{size:16})}),(0,t.jsxs)("div",{className:"flex items-center justify-between flex-1",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Security"}),(0,t.jsx)("span",{className:"text-sm font-bold text-slate-700",children:"Two-factor Authentication"})]}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase tracking-tighter ${e.twoFactorEnabled?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-slate-100 text-slate-400"}`,children:e.twoFactorEnabled?"Enabled":"Disabled"})]})]})]})]}),(0,t.jsx)("div",{className:"p-4 bg-slate-50/50 border-t border-slate-50",children:(0,t.jsx)("button",{onClick:()=>s.push("/backoffice/more/profile/edit"),className:"w-full py-2 px-4 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 hover:text-slate-900 hover:border-slate-900 transition-all shadow-sm active:scale-95",children:"Edit Profile Details"})})]})},tt=()=>(0,t.jsx)(e8,{title:"Employees",description:"User access & security configuration across your organization.",items:[{id:"roles",label:"Employee Roles",description:"Admin, Manager, POS, KDS",route:"/backoffice/more/employees/roles"},{id:"permissions",label:"Employee Permissions",description:"Feature-level access control",route:"/backoffice/more/employees/permissions"},{id:"passcodes",label:"Device Passcode",description:"POS / KDS security",route:"/backoffice/more/employees/passcodes"}],icon:e9.Users,iconColor:"text-blue-500"}),ts=(0,i.default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),ta=()=>(0,t.jsx)(e8,{title:"About Your Business",description:"Manage your business identity and financial accounts.",items:[{id:"business-ops",label:"Business Operations",description:"Business info, localization, taxes, and modules",route:"/backoffice/settings/business-operations"},{id:"merchants",label:"Merchants",description:"Payment processor configuration",route:"/backoffice/more/business/merchants"}],icon:ts,iconColor:"text-emerald-500"}),tl=()=>(0,t.jsx)(e8,{title:"Billing and Statements",description:"Manage your subscription and view financial statements.",items:[{id:"statements",label:"Monthly Statements",description:"View and download history",route:"/backoffice/more/billing/statements"},{id:"plan",label:"Service Plan Details",description:"Manage your subscription",route:"/backoffice/more/billing/plan",badge:"Active"}],icon:Q,iconColor:"text-rose-500"}),tr=()=>(0,t.jsx)(e8,{title:"Business Operations",description:"Fine-tune your daily operational workflow and service rules.",items:[{id:"notifications",label:"Notification Preferences",route:"/backoffice/more/operations/notifications"},{id:"online-ordering",label:"Online Ordering",route:"/backoffice/more/operations/online-ordering"},{id:"reporting",label:"Reporting",description:"Customer & Schedule reporting",route:"/backoffice/more/operations/reporting"},{id:"taxes",label:"Taxes and Fees",route:"/backoffice/more/operations/taxes"},{id:"additional-charges",label:"Additional charges",route:"/backoffice/more/operations/charges"},{id:"tips",label:"Tips",route:"/backoffice/more/operations/tips"},{id:"hours",label:"Business hours",route:"/backoffice/more/operations/hours"},{id:"menu",label:"Menu settings",route:"/backoffice/more/operations/menu"},{id:"devices",label:"Devices and printers",route:"/backoffice/more/operations/devices"},{id:"dine-in",label:"Dine-in / QR ordering",route:"/backoffice/more/operations/qr-ordering"},{id:"tokens",label:"API tokens",route:"/backoffice/more/operations/tokens"}],icon:ex,iconColor:"text-amber-500"}),ti=(0,i.default)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),tn=()=>(0,t.jsx)(e8,{title:"Transactions",description:"Configure how orders and payments are handled and recorded.",items:[{id:"orders",label:"Orders",route:"/backoffice/more/transactions/orders"},{id:"order-receipts",label:"Order receipts",route:"/backoffice/more/transactions/order-receipts"},{id:"order-types",label:"Order types",route:"/backoffice/more/transactions/order-types"},{id:"payments",label:"Payments",route:"/backoffice/more/transactions/payments"},{id:"payment-receipts",label:"Payment receipts",route:"/backoffice/more/transactions/payment-receipts"},{id:"virtual-terminal",label:"Virtual terminal",route:"/backoffice/more/transactions/virtual-terminal"}],icon:ti,iconColor:"text-cyan-500"}),td=(0,i.default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),to=()=>(0,t.jsx)(e8,{title:"Ecommerce",description:"Control your online storefront and digital payment experience.",items:[{id:"ecommerce-payments",label:"Ecommerce payments",route:"/backoffice/more/ecommerce/payments"},{id:"ecommerce-tokens",label:"Ecommerce API tokens",route:"/backoffice/more/ecommerce/tokens"},{id:"hosted-checkout",label:"Hosted checkout",route:"/backoffice/more/ecommerce/checkout"},{id:"custom-fields",label:"Custom fields",route:"/backoffice/more/ecommerce/fields"},{id:"payment-links",label:"Payment links",route:"/backoffice/more/ecommerce/links"},{id:"fraud-tools",label:"Fraud tools",route:"/backoffice/more/ecommerce/fraud"}],icon:td,iconColor:"text-indigo-500"});var tc=e.i(41071);e.s(["MorePage",0,()=>{let{role:e,user:a}=(0,b.useRouteAccess)(),l=(0,ea.useRouter)();if("POS_USER"===e||"KDS_USER"===e||"EMPLOYEE"===e)return(0,s.useEffect)(()=>{l.replace("/backoffice/home")},[l]),null;let r="ADMIN"===e,i={name:a?.name||"John Doe",email:"admin@zyappy.com",phone:"+1 (555) 123-4567",role:e||"ADMIN",twoFactorEnabled:!0};return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto pb-20 px-4 space-y-8",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-100 pb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-slate-900 rounded-2xl shadow-xl shadow-slate-200",children:(0,t.jsx)(tc.MoreHorizontal,{className:"w-6 h-6 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"More & Settings"}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-slate-100 rounded-full border border-slate-200",children:[(0,t.jsx)(eb,{className:"w-3 h-3 text-slate-500"}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:r?"Full Access":"Store Managed"})]})]}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:"Unified configuration for operations and accounts."})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[(0,t.jsx)(te,{profile:i}),(0,t.jsx)(tt,{}),(0,t.jsx)(ta,{}),(0,t.jsx)(tl,{}),(0,t.jsx)(tr,{}),(0,t.jsx)(tn,{}),(0,t.jsx)(to,{})]}),(0,t.jsxs)("div",{className:"pt-12 flex items-center justify-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-[0.2em]",children:[(0,t.jsx)(eb,{className:"w-3.5 h-3.5"}),"Secure Portal â€¢ System Configuration"]})]})}],74382);let tx=(0,i.default)("circle-minus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),tm=({data:e,isLoading:s,onRowClick:a,currentPage:l,itemsPerPage:r,totalItems:i,onPageChange:o})=>{let c=Math.ceil(i/r),x=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return s?(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 h-96 flex flex-col items-center justify-center gap-3",children:[(0,t.jsx)(n,{className:"w-8 h-8 text-slate-400 animate-spin"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Loading reconciliation data..."})]}):(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"User"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Store"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Opening Cash"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Closing Cash"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Expected Cash"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Variance"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-center",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-100",children:e.length>0?e.map(e=>{var s;return(0,t.jsxs)("tr",{onClick:()=>a(e),className:"hover:bg-slate-50/80 cursor-pointer transition-colors group",children:[(0,t.jsxs)("td",{className:"px-4 py-3",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-slate-900",children:new Date(e.date).toLocaleDateString()}),(0,t.jsx)("div",{className:"text-[10px] text-slate-400 font-mono",children:e.id})]}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("div",{className:"text-sm text-slate-700",children:e.userName})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-600",children:e.storeName}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-900 text-right font-mono",children:x(e.openingCash)}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-900 text-right font-mono",children:x(e.closingCash)}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-900 text-right font-mono",children:x(e.expectedCash)}),(0,t.jsxs)("td",{className:`px-4 py-3 text-sm text-right font-mono ${0===(s=e.variance)?"text-slate-500":s>0?"text-emerald-600 font-bold":"text-rose-600 font-bold"}`,children:[e.variance>0?"+":"",x(e.variance)]}),(0,t.jsx)("td",{className:"px-4 py-3 text-center",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-[10px] font-bold border ${(e=>{switch(e){case"Balanced":return"bg-emerald-50 text-emerald-700 border-emerald-100";case"Over":return"bg-blue-50 text-blue-700 border-blue-100";case"Short":return"bg-rose-50 text-rose-700 border-rose-100";default:return"bg-slate-50 text-slate-700 border-slate-100"}})(e.status)}`,children:["Balanced"===e.status&&(0,t.jsx)(e2,{className:"w-3 h-3"}),"Over"===e.status&&(0,t.jsx)(d.AlertCircle,{className:"w-3 h-3"}),"Short"===e.status&&(0,t.jsx)(tx,{className:"w-3 h-3"}),e.status.toUpperCase()]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsx)("button",{className:"p-1.5 hover:bg-white rounded-md border border-transparent hover:border-slate-200 transition-all text-slate-400 hover:text-slate-900",children:(0,t.jsx)(f.ChevronRight,{className:"w-4 h-4"})})})]},e.id)}):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:9,className:"px-4 py-12 text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:"p-3 bg-slate-50 rounded-full",children:(0,t.jsx)(d.AlertCircle,{className:"w-6 h-6 text-slate-300"})}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"No variance records found"})]})})})})]})}),(0,t.jsxs)("div",{className:"p-4 border-t border-slate-100 bg-slate-50/30 flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-xs text-slate-500 font-medium",children:["Showing ",e.length," of ",i," records"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{disabled:1===l,onClick:()=>o(l-1),className:"px-3 py-1.5 text-xs font-semibold text-slate-600 hover:bg-white border border-slate-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm",children:"Previous"}),(0,t.jsx)("div",{className:"flex items-center gap-1 px-2",children:[...Array(c)].map((e,s)=>(0,t.jsx)("button",{onClick:()=>o(s+1),className:`w-8 h-8 text-xs font-bold rounded-lg transition-all ${l===s+1?"bg-slate-900 text-white shadow-md":"text-slate-500 hover:bg-white border border-transparent hover:border-slate-200"}`,children:s+1},s))}),(0,t.jsx)("button",{disabled:l===c,onClick:()=>o(l+1),className:"px-3 py-1.5 text-xs font-semibold text-slate-600 hover:bg-white border border-slate-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm",children:"Next"})]})]})]})};var tp=e.i(23945);let th=({filters:e,onFilterChange:s,onClear:a})=>{let{role:l}=(0,b.useRouteAccess)();return(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P.Filter,{className:"w-4 h-4 text-slate-500"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:"Audit Filters"})]}),(0,t.jsxs)("button",{onClick:a,className:"flex items-center gap-1.5 text-xs font-medium text-slate-500 hover:text-slate-800 transition-colors",children:[(0,t.jsx)(A.RotateCcw,{className:"w-3.5 h-3.5"}),"Reset"]})]}),(0,t.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider flex items-center gap-1.5",children:[(0,t.jsx)(I.Calendar,{className:"w-3.5 h-3.5"}),"Date Range"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)("input",{type:"date",value:e.startDate||"",onChange:t=>s({...e,startDate:t.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-slate-900/5 focus:border-slate-900 transition-all"}),(0,t.jsx)("input",{type:"date",value:e.endDate||"",onChange:t=>s({...e,endDate:t.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-slate-900/5 focus:border-slate-900 transition-all"})]})]}),"ADMIN"===l&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider flex items-center gap-1.5",children:[(0,t.jsx)(tp.Store,{className:"w-3.5 h-3.5"}),"Store"]}),(0,t.jsxs)("select",{value:e.storeId||"",onChange:t=>s({...e,storeId:t.target.value||void 0}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-slate-900/5 focus:border-slate-900 transition-all appearance-none",children:[(0,t.jsx)("option",{value:"",children:"All Stores"}),(0,t.jsx)("option",{value:"store-01",children:"Downtown Store"}),(0,t.jsx)("option",{value:"store-02",children:"Westside Mall"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider flex items-center gap-1.5",children:[(0,t.jsx)(P.Filter,{className:"w-3.5 h-3.5"}),"Variance Status"]}),(0,t.jsxs)("select",{value:e.status||"",onChange:t=>s({...e,status:t.target.value||void 0}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-slate-900/5 focus:border-slate-900 transition-all appearance-none",children:[(0,t.jsx)("option",{value:"",children:"All Statuses"}),(0,t.jsx)("option",{value:"Balanced",children:"Balanced"}),(0,t.jsx)("option",{value:"Over",children:"Over"}),(0,t.jsx)("option",{value:"Short",children:"Short"})]})]}),(0,t.jsx)("div",{className:"flex items-end pb-1",children:(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.varianceOnly,onChange:t=>s({...e,varianceOnly:t.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-10 h-5 bg-slate-200 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-slate-900"})]}),(0,t.jsx)("span",{className:"text-sm font-medium text-slate-600 group-hover:text-slate-900 transition-colors",children:"Show Variances Only"})]})})]})]})},tu=({record:e,isOpen:s,onClose:a})=>{if(!e)return null;let l=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:e.currency||"USD"}).format(t);return(0,t.jsxs)("div",{className:`fixed inset-0 z-[100] transition-all duration-300 ${s?"visible":"invisible"}`,children:[(0,t.jsx)("div",{className:`absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity duration-300 ${s?"opacity-100":"opacity-0"}`,onClick:a}),(0,t.jsxs)("div",{className:`absolute right-0 top-0 h-full w-full max-w-lg bg-white shadow-2xl transition-transform duration-300 ease-out flex flex-col ${s?"translate-x-0":"translate-x-full"}`,children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Variance Audit"}),(0,t.jsx)(()=>{let s={Balanced:"bg-emerald-50 text-emerald-700 border-emerald-100",Over:"bg-blue-50 text-blue-700 border-blue-100",Short:"bg-rose-50 text-rose-700 border-rose-100"}[e.status];return(0,t.jsx)("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold border ${s}`,children:e.status.toUpperCase()})},{})]}),(0,t.jsxs)("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[(0,t.jsx)(q,{className:"w-3 h-3"}),"Record ID: ",e.id]})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-slate-200 transition-all text-slate-400 hover:text-slate-900",children:(0,t.jsx)(V,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-xs font-bold text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1 h-4 bg-slate-900 rounded-full"}),"Shift Metadata"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 space-y-1",children:[(0,t.jsxs)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1.5",children:[(0,t.jsx)(I.Calendar,{className:"w-3 h-3"})," Date"]}),(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:new Date(e.date).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 space-y-1",children:[(0,t.jsxs)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1.5",children:[(0,t.jsx)(B,{className:"w-3 h-3"})," Timestamp"]}),(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,t.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 space-y-1",children:[(0,t.jsxs)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1.5",children:[(0,t.jsx)(W,{className:"w-3 h-3"})," Assigned User"]}),(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:e.userName})]}),(0,t.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 space-y-1",children:[(0,t.jsxs)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1.5",children:[(0,t.jsx)(tp.Store,{className:"w-3 h-3"})," Location"]}),(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:e.storeName})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-xs font-bold text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1 h-4 bg-slate-900 rounded-full"}),"Financial Breakdown"]}),(0,t.jsxs)("div",{className:"border border-slate-200 rounded-xl overflow-hidden divide-y divide-slate-100",children:[[{label:"Opening Cash",value:e.openingCash,icon:en},{label:"Expected System Cash",value:e.expectedCash,icon:eu},{label:"Physical Closing Cash",value:e.closingCash,icon:en,highlight:!0}].map((e,s)=>(0,t.jsxs)("div",{className:`p-4 flex items-center justify-between ${e.highlight?"bg-slate-50/50":""}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-white rounded-lg border border-slate-100 shadow-sm",children:(0,t.jsx)(e.icon,{className:"w-4 h-4 text-slate-500"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-slate-600",children:e.label})]}),(0,t.jsx)("span",{className:"text-sm font-mono font-bold text-slate-900",children:l(e.value)})]},s)),(0,t.jsxs)("div",{className:"p-4 bg-slate-900 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Final Variance"}),(0,t.jsxs)("span",{className:`text-lg font-mono font-black ${e.variance>=0?"text-emerald-400":"text-rose-400"}`,children:[e.variance>0?"+":"",l(e.variance)]})]})]})]}),e.paymentBreakdown&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-xs font-bold text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1 h-4 bg-slate-900 rounded-full"}),"Payment Summary"]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"p-3 bg-slate-50 border border-slate-100 rounded-xl text-center",children:[(0,t.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Cash"}),(0,t.jsx)("p",{className:"text-sm font-bold text-slate-900",children:l(e.paymentBreakdown.cash)})]}),(0,t.jsxs)("div",{className:"p-3 bg-slate-50 border border-slate-100 rounded-xl text-center",children:[(0,t.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Card"}),(0,t.jsx)("p",{className:"text-sm font-bold text-slate-900",children:l(e.paymentBreakdown.card)})]}),(0,t.jsxs)("div",{className:"p-3 bg-slate-50 border border-slate-100 rounded-xl text-center",children:[(0,t.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Other"}),(0,t.jsx)("p",{className:"text-sm font-bold text-slate-900",children:l(e.paymentBreakdown.other)})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-xs font-bold text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1 h-4 bg-slate-900 rounded-full"}),"Audit Trail"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"p-4 border border-slate-100 rounded-xl flex items-center justify-between group hover:bg-slate-50 transition-colors cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(ti,{className:"w-4 h-4 text-slate-400"}),(0,t.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Linked Sales Activity"})]}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Read-Only"})]}),(0,t.jsxs)("div",{className:"p-4 border border-slate-100 rounded-xl flex items-center justify-between group hover:bg-slate-50 transition-colors cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(ec,{className:"w-4 h-4 text-slate-400"}),(0,t.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Shift Record (M9-T6)"})]}),(0,t.jsxs)("span",{className:"text-sm font-mono text-slate-400 font-medium",children:["#",e.shiftId]})]})]})]})]}),(0,t.jsx)("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:(0,t.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-100 rounded-xl",children:[(0,t.jsx)(eu,{className:"w-4 h-4 text-amber-600 mt-0.5"}),(0,t.jsx)("p",{className:"text-[11px] font-medium text-amber-800 leading-relaxed",children:"This record is immutable and locked for audit purposes. Any discrepancies must be reported to the regional financial controller. Calculations are performed by the core engine."})]})})]})]})},tb=({onSearch:e,onExport:s})=>(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"relative w-full sm:max-w-md",children:[(0,t.jsx)(R.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by user or record ID...",onChange:t=>e(t.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-slate-900/5 focus:border-slate-900 transition-all"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto overflow-x-auto pb-2 sm:pb-0",children:[(0,t.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mr-2 whitespace-nowrap",children:"Exports:"}),(0,t.jsxs)("button",{onClick:()=>s("CSV"),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-600 hover:text-slate-900 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition-all whitespace-nowrap",children:[(0,t.jsx)(O.FileText,{className:"w-3.5 h-3.5"}),"CSV"]}),(0,t.jsxs)("button",{onClick:()=>s("PDF"),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-600 hover:text-slate-900 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition-all whitespace-nowrap",children:[(0,t.jsx)(eB.Download,{className:"w-3.5 h-3.5"}),"Excel"]}),(0,t.jsxs)("button",{onClick:()=>s("PRINT"),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-600 hover:text-slate-900 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition-all whitespace-nowrap",children:[(0,t.jsx)(z.Printer,{className:"w-3.5 h-3.5"}),"Print"]})]})]}),tg=[{id:"VAR-001",date:new Date().toISOString().split("T")[0],userName:"John Doe",userId:"user-001",storeName:"Downtown Store",storeId:"store-01",openingCash:500,closingCash:1250,expectedCash:1250,variance:0,status:"Balanced",currency:"USD",shiftId:"SHIFT-101",timestamp:new Date().toISOString(),paymentBreakdown:{cash:750,card:500,other:0}},{id:"VAR-002",date:new Date(new Date().setDate(new Date().getDate()-1)).toISOString().split("T")[0],userName:"Jane Smith",userId:"user-002",storeName:"Downtown Store",storeId:"store-01",openingCash:500,closingCash:1100,expectedCash:1120,variance:-20,status:"Short",currency:"USD",shiftId:"SHIFT-102",timestamp:new Date(new Date().setDate(new Date().getDate()-1)).toISOString(),paymentBreakdown:{cash:600,card:450,other:70}},{id:"VAR-003",date:new Date(new Date().setDate(new Date().getDate()-2)).toISOString().split("T")[0],userName:"Mike Wilson",userId:"user-003",storeName:"Westside Mall",storeId:"store-02",openingCash:300,closingCash:955.5,expectedCash:940,variance:15.5,status:"Over",currency:"USD",shiftId:"SHIFT-103",timestamp:new Date(new Date().setDate(new Date().getDate()-2)).toISOString(),paymentBreakdown:{cash:640,card:300,other:15.5}}];e.s(["CashVariancePage",0,()=>{let{role:e,user:a}=(0,b.useRouteAccess)(),l=(0,ea.useRouter)();if("EMPLOYEE"===e)return(0,s.useEffect)(()=>{l.replace("/backoffice/home")},[l]),null;let[r,i]=(0,s.useState)([]),[n,d]=(0,s.useState)([]),[o,c]=(0,s.useState)(!0),[x,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(!1),[u,g]=(0,s.useState)(1),[f]=(0,s.useState)(10),[j,v]=(0,s.useState)({startDate:new Date(new Date().setDate(new Date().getDate()-7)).toISOString().split("T")[0]||null,endDate:new Date().toISOString().split("T")[0]||null,varianceOnly:!1,searchQuery:""});(0,s.useEffect)(()=>{(async()=>{c(!0);try{await new Promise(e=>setTimeout(e,1e3));let t=[...tg];"STORE_MANAGER"===e&&a?.storeIds&&(t=t.filter(e=>a.storeIds.includes(e.storeId))),i(t)}catch(e){console.error("Failed to fetch cash variance data:",e)}finally{c(!1)}})()},[e,a]),(0,s.useEffect)(()=>{let t=[...r];if(j.startDate&&(t=t.filter(e=>e.date>=j.startDate)),j.endDate&&(t=t.filter(e=>e.date<=j.endDate)),"ADMIN"===e&&j.storeId&&(t=t.filter(e=>e.storeId===j.storeId)),j.status&&(t=t.filter(e=>e.status===j.status)),j.varianceOnly&&(t=t.filter(e=>0!==e.variance)),j.searchQuery){let e=j.searchQuery.toLowerCase();t=t.filter(t=>t.userName.toLowerCase().includes(e)||t.id.toLowerCase().includes(e))}d(t),g(1)},[j,r,e]);let N=n.slice((u-1)*f,u*f);return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto pb-20 px-4 space-y-6",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-100 pb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-slate-900 rounded-2xl shadow-xl shadow-slate-200",children:(0,t.jsx)(en,{className:"w-6 h-6 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Cash Variance"}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-slate-100 rounded-full border border-slate-200",children:[(0,t.jsx)(eb,{className:"w-3 h-3 text-slate-500"}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Audit Log"})]})]}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:"Physical reconciliation and exception tracking."})]})]})}),(0,t.jsx)(th,{filters:j,onFilterChange:v,onClear:()=>v({startDate:new Date(new Date().setDate(new Date().getDate()-7)).toISOString().split("T")[0]||null,endDate:new Date().toISOString().split("T")[0]||null,varianceOnly:!1,searchQuery:""})}),(0,t.jsx)(tb,{onSearch:e=>v({...j,searchQuery:e}),onExport:e=>{console.log(`Exporting ${e} with current filters:`,j)}}),(0,t.jsx)(tm,{data:N,isLoading:o,onRowClick:e=>{m(e),h(!0)},currentPage:u,itemsPerPage:f,totalItems:n.length,onPageChange:g}),(0,t.jsx)(tu,{record:x,isOpen:p,onClose:()=>{h(!1),m(null)}}),(0,t.jsxs)("div",{className:"pt-4 flex items-center justify-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-[0.2em]",children:[(0,t.jsx)(eb,{className:"w-3.5 h-3.5"}),"Immutable Audit Trail â€¢ System of Record"]})]})}],46080),e.s(["CustomerProfilePage",0,()=>{let{customerId:e}=(0,ea.useParams)(),a=(0,ea.useRouter)(),[l,r]=(0,s.useState)(null),[i,n]=(0,s.useState)(!0),[o,c]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{n(!0);try{await new Promise(e=>setTimeout(e,800));let t=e3[e||""];t?r(t):c("Customer profile not found in decentralized identity record.")}finally{n(!1)}})()},[e]);let x=async e=>{console.log(`Triggering One-Click Reorder for order: ${e}`),await new Promise(e=>setTimeout(e,1500)),alert("Reorder successful! Redirecting to POS with pre-populated cart (Current pricing applied).")};return i?(0,t.jsxs)("div",{className:"max-w-[1200px] mx-auto p-10 flex flex-col items-center justify-center gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-slate-100 border-t-slate-900 rounded-full animate-spin"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-bold uppercase tracking-widest",children:"Hydrating Customer Profile..."})]}):o||!l?(0,t.jsxs)("div",{className:"max-w-[1200px] mx-auto p-10 flex flex-col items-center justify-center gap-6",children:[(0,t.jsx)("div",{className:"p-4 bg-rose-50 rounded-full",children:(0,t.jsx)(d.AlertCircle,{className:"w-10 h-10 text-rose-500"})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:o}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Please verify the customer ID and try again."})]}),(0,t.jsx)("button",{onClick:()=>a.push("/backoffice/customers"),className:"px-6 py-2 bg-slate-900 text-white rounded-xl text-xs font-bold",children:"Return to Hub"})]}):(0,t.jsxs)("div",{className:"max-w-[1200px] mx-auto pb-20 px-4 space-y-8",children:[(0,t.jsxs)("button",{onClick:()=>a.push("/backoffice/customers"),className:"flex items-center gap-2 text-xs font-bold text-slate-400 hover:text-slate-900 transition-all uppercase tracking-widest group",children:[(0,t.jsx)(g.ChevronLeft,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Customer Hub"]}),(0,t.jsx)(e0,{customer:l}),(0,t.jsxs)("div",{className:"p-4 bg-emerald-50 border border-emerald-100 rounded-2xl flex items-start gap-4 shadow-sm shadow-emerald-100/50",children:[(0,t.jsx)("div",{className:"p-2 bg-white rounded-xl shadow-sm",children:(0,t.jsx)(es,{className:"w-5 h-5 text-emerald-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-black text-emerald-900 uppercase tracking-wide",children:"One-Click Reorder Enabled"}),(0,t.jsxs)("p",{className:"text-xs text-emerald-700 leading-relaxed mt-1",children:["Recent orders can be replicated with a single click. The system will automatically re-validate",(0,t.jsx)("span",{className:"font-bold underline ml-1",children:"Current Menu Prices"})," and",(0,t.jsx)("span",{className:"font-bold underline ml-1",children:"Ingredient Availability"})," before rebuilding the cart."]})]})]}),(0,t.jsx)(e5,{orders:l.orderHistory,onReorder:x}),(0,t.jsxs)("div",{className:"p-6 bg-slate-50 rounded-2xl border border-slate-200 flex items-start gap-4",children:[(0,t.jsx)(eu,{className:"w-5 h-5 text-slate-400 shrink-0"}),(0,t.jsx)("p",{className:"text-[11px] font-medium text-slate-500 leading-relaxed italic",children:"Note: Financial totals are aggregated from POS, Online, and 3rd-party delivery logs. Historical order items reflect the menu structure at the time of purchase. Reordering will map these items to current inventory definitions."})]})]})}],59073);let tf=({title:e,description:s,children:a,onSave:l,isLoading:r=!1})=>{let i=(0,ea.useRouter)();return(0,t.jsxs)("div",{className:"max-w-[1000px] mx-auto pb-24 px-4 space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-100 pb-6 pt-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>i.push("/backoffice/more"),className:"p-2 text-slate-400 hover:text-slate-900 transition-colors bg-white rounded-xl border border-slate-100 shadow-sm",children:(0,t.jsx)(g.ChevronLeft,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-black text-slate-900 tracking-tight",children:e}),(0,t.jsx)("p",{className:"text-xs text-slate-500 font-medium mt-0.5",children:s})]})]}),l&&(0,t.jsxs)("button",{onClick:l,disabled:r,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 disabled:opacity-50 transition-all shadow-lg shadow-slate-200 active:scale-95",children:[(0,t.jsx)(H,{className:"w-4 h-4 text-emerald-400"}),"Save Changes"]})]}),(0,t.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-xl shadow-slate-200/50 overflow-hidden",children:(0,t.jsx)("div",{className:"p-8",children:a})}),(0,t.jsxs)("div",{className:"pt-8 flex items-center justify-center gap-2 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:[(0,t.jsx)(eb,{className:"w-3.5 h-3.5"}),"Secure Configuration Portal"]})]})},tj=(0,i.default)("fingerprint-pattern",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);e.s(["ProfileDetailSettings",0,()=>{let[e,a]=(0,s.useState)({name:"John Doe",email:"admin@zyappy.com",phone:"+1 (555) 123-4567",twoFactor:!0});return(0,t.jsx)(tf,{title:"Edit Profile",description:"Manage your personal information and security preferences.",onSave:()=>{alert("Profile updated successfully (Mock)")},children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest",children:"Full Name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:e.name,onChange:t=>a({...e,name:t.target.value}),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:border-slate-900 transition-all"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest",children:"Email Address"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eX,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"email",value:e.email,onChange:t=>a({...e,email:t.target.value}),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:border-slate-900 transition-all"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest",children:"Phone Number"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eH,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:e.phone,onChange:t=>a({...e,phone:t.target.value}),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:border-slate-900 transition-all"})]})]}),(0,t.jsx)("div",{className:"space-y-4 flex flex-col justify-center",children:(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.twoFactor,onChange:t=>a({...e,twoFactor:t.target.checked}),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-12 h-6 bg-slate-200 rounded-full peer-checked:bg-emerald-500 transition-all after:content-[''] after:absolute after:top-1 after:left-1 after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:after:translate-x-6"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-sm font-black text-slate-900 uppercase tracking-tight",children:"Two-Factor Authentication"}),(0,t.jsx)("span",{className:"text-[10px] text-slate-500 font-medium",children:"Add an extra layer of security to your account."})]})]})})]}),(0,t.jsxs)("div",{className:"p-6 bg-slate-50 rounded-3xl border border-slate-100 space-y-4",children:[(0,t.jsxs)("h3",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[(0,t.jsx)(eK,{className:"w-4 h-4 text-indigo-500"}),"Account Governance"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-white rounded-2xl border border-slate-100",children:[(0,t.jsx)("p",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:"Assigned Role"}),(0,t.jsx)("p",{className:"text-xs font-bold text-slate-900",children:"Brand Admin"})]}),(0,t.jsxs)("div",{className:"p-4 bg-white rounded-2xl border border-slate-100",children:[(0,t.jsx)("p",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:"Access Scope"}),(0,t.jsx)("p",{className:"text-xs font-bold text-slate-900",children:"All Stores (Full)"})]}),(0,t.jsxs)("div",{className:"p-4 bg-white rounded-2xl border border-slate-100",children:[(0,t.jsx)("p",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:"Security Level"}),(0,t.jsx)("p",{className:"text-xs font-bold text-slate-900",children:"Highest (L1)"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-amber-50 rounded-2xl border border-amber-100",children:[(0,t.jsx)(tj,{className:"w-5 h-5 text-amber-600 shrink-0"}),(0,t.jsx)("p",{className:"text-[10px] font-bold text-amber-800 leading-relaxed uppercase tracking-wider",children:"Changes to your primary credentials may require re-verification. Multi-store access permissions are managed by the master account holder."})]})]})})}],82871);var tv=e.i(45423);let tN=(0,i.default)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),ty=(0,i.default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),tw={notifications:{title:"Notification Preferences",description:"Configure system alerts and push notifications.",icon:tv.Bell},"online-ordering":{title:"Online Ordering",description:"Enable or disable digital sales channels.",icon:ek},taxes:{title:"Taxes and Fees",description:"Manage regional tax rates and service charges.",icon:ei},hours:{title:"Business Hours",description:"Define operational availability for each store.",icon:B},devices:{title:"Devices and Printers",description:"Manage hardware connections and receipt routing.",icon:z.Printer},tokens:{title:"API Tokens",description:"Integrate 3rd party services via secure tokens.",icon:ty},fraud:{title:"Fraud & Security",description:"Configure payment protection and risk rules.",icon:tN}};e.s(["GenericSettingsDetail",0,()=>{let{subItem:e}=(0,ea.useParams)(),s=tw[e||""]||{title:"Settings Configuration",description:"Manage advanced system parameters.",icon:tN};return(0,t.jsx)(tf,{title:s.title,description:s.description,onSave:()=>{alert(`${s.title} updated successfully (Mock)`)},children:(0,t.jsxs)("div",{className:"space-y-8 py-10",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[(0,t.jsx)("div",{className:"p-5 bg-slate-50 rounded-3xl border border-slate-100 text-slate-400",children:(0,t.jsx)(s.icon,{size:48,strokeWidth:1.5})}),(0,t.jsxs)("div",{className:"max-w-md",children:[(0,t.jsx)("h2",{className:"text-lg font-black text-slate-900 tracking-tight",children:"Configuration Module"}),(0,t.jsxs)("p",{className:"text-sm text-slate-500 font-medium leading-relaxed mt-2 uppercase tracking-wide",children:["The ",s.title," management interface is fully compliant with the Backoffice architectural core. All parameters are rule-driven and validated on the server."]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto pt-8",children:[1,2,3,4].map(e=>(0,t.jsxs)("div",{className:"p-4 bg-slate-50/50 rounded-2xl border border-slate-200 flex items-center justify-between group hover:bg-white hover:border-slate-900 transition-all cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["Parameter 0",e]}),(0,t.jsx)("span",{className:"text-sm font-bold text-slate-700 uppercase",children:"System Default"})]}),(0,t.jsx)("div",{className:"w-8 h-4 bg-slate-200 rounded-full relative after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-3 after:w-3"})]},e))})]})})}],83748);let tk=(0,i.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),tS=(0,i.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),tC=[{id:"VEN001",name:"Fresh Produce Co.",contactPerson:"John Smith",phone:"+1-555-0101",email:"john@freshproduce.com",address:"123 Market Street, City, State 12345",totalPurchases:45e3,totalPaid:4e4,totalDue:5e3,lastInventoryDate:"2026-01-28T10:30:00Z",status:"Active",createdAt:"2025-06-01T00:00:00Z",updatedAt:"2026-01-28T10:30:00Z"},{id:"VEN002",name:"Dairy Delights Ltd.",contactPerson:"Sarah Johnson",phone:"+1-555-0202",email:"sarah@dairydelights.com",address:"456 Dairy Lane, City, State 12345",totalPurchases:32e3,totalPaid:32e3,totalDue:0,lastInventoryDate:"2026-01-27T14:00:00Z",status:"Active",createdAt:"2025-07-15T00:00:00Z",updatedAt:"2026-01-27T14:00:00Z"},{id:"VEN003",name:"Spice World Suppliers",contactPerson:"Mike Chen",phone:"+1-555-0303",email:"mike@spiceworld.com",address:"789 Spice Road, City, State 12345",totalPurchases:18500,totalPaid:15e3,totalDue:3500,lastInventoryDate:"2026-01-25T09:00:00Z",status:"Active",createdAt:"2025-08-20T00:00:00Z",updatedAt:"2026-01-25T09:00:00Z"}],tI=[{id:"INV001",name:"Tomatoes",sku:"VEG-TOM-001",baseUnit:"Kilogram",currentStock:45.5,averageCost:3.5,lowStockThreshold:20,status:"Active",description:"Fresh red tomatoes",tenantId:"TENANT001",createdAt:"2025-06-01T00:00:00Z",updatedAt:"2026-01-28T10:30:00Z"},{id:"INV002",name:"Mozzarella Cheese",sku:"DAI-MOZ-001",baseUnit:"Kilogram",currentStock:12,averageCost:8.75,lowStockThreshold:10,status:"Active",description:"Premium mozzarella cheese",tenantId:"TENANT001",createdAt:"2025-06-01T00:00:00Z",updatedAt:"2026-01-27T14:00:00Z"},{id:"INV003",name:"Pizza Dough",sku:"BAK-DOU-001",baseUnit:"Kilogram",currentStock:8.5,averageCost:2.25,lowStockThreshold:15,status:"Active",description:"Fresh pizza dough",tenantId:"TENANT001",createdAt:"2025-06-01T00:00:00Z",updatedAt:"2026-01-26T11:00:00Z"},{id:"INV004",name:"Olive Oil",sku:"OIL-OLI-001",baseUnit:"Liter",currentStock:5.2,averageCost:12.5,lowStockThreshold:3,status:"Active",description:"Extra virgin olive oil",tenantId:"TENANT001",createdAt:"2025-06-01T00:00:00Z",updatedAt:"2026-01-25T09:00:00Z"},{id:"INV005",name:"Basil Leaves",sku:"HRB-BAS-001",baseUnit:"Gram",currentStock:250,averageCost:.15,lowStockThreshold:100,status:"Active",description:"Fresh basil leaves",tenantId:"TENANT001",createdAt:"2025-06-01T00:00:00Z",updatedAt:"2026-01-24T16:00:00Z"}],tP=[{id:"IE001",referenceNo:"PO-2026-001",supplierId:"VEN001",supplierName:"Fresh Produce Co.",storeId:"STORE001",storeName:"Main Store",inventoryDate:"2026-01-28T10:30:00Z",inventoryStatus:"Received",paymentStatus:"Partial",payTerm:"Net 30",products:[{id:"IEP001",inventoryItemId:"INV001",inventoryItemName:"Tomatoes",sku:"VEG-TOM-001",purchaseQuantity:50,unitCostBeforeTax:3,subtotal:150,taxPercentage:10,taxAmount:15,unitCostAfterTax:3.3,lineTotal:165}],purchaseTax:15,shippingCharges:10,additionalNotes:"Delivery received in good condition",subtotal:150,totalTax:15,grandTotal:175,paymentDue:75,createdBy:"USER001",createdByName:"Admin User",createdAt:"2026-01-28T10:30:00Z",updatedAt:"2026-01-28T10:30:00Z"},{id:"IE002",referenceNo:"PO-2026-002",supplierId:"VEN002",supplierName:"Dairy Delights Ltd.",storeId:"STORE001",storeName:"Main Store",inventoryDate:"2026-01-27T14:00:00Z",inventoryStatus:"Received",paymentStatus:"Paid",payTerm:"Cash on Delivery",products:[{id:"IEP002",inventoryItemId:"INV002",inventoryItemName:"Mozzarella Cheese",sku:"DAI-MOZ-001",purchaseQuantity:15,unitCostBeforeTax:8,subtotal:120,taxPercentage:5,taxAmount:6,unitCostAfterTax:8.4,lineTotal:126}],purchaseTax:6,shippingCharges:5,subtotal:120,totalTax:6,grandTotal:131,paymentDue:0,createdBy:"USER001",createdByName:"Admin User",createdAt:"2026-01-27T14:00:00Z",updatedAt:"2026-01-27T14:00:00Z"},{id:"IE003",referenceNo:"PO-2026-003",supplierId:"VEN001",supplierName:"Fresh Produce Co.",storeId:"STORE001",storeName:"Main Store",inventoryDate:"2026-01-26T09:00:00Z",inventoryStatus:"Draft",paymentStatus:"Unpaid",products:[{id:"IEP003",inventoryItemId:"INV003",inventoryItemName:"Pizza Dough",sku:"BAK-DOU-001",purchaseQuantity:20,unitCostBeforeTax:2,subtotal:40,taxPercentage:8,taxAmount:3.2,unitCostAfterTax:2.16,lineTotal:43.2}],purchaseTax:3.2,shippingCharges:0,subtotal:40,totalTax:3.2,grandTotal:43.2,paymentDue:43.2,createdBy:"USER002",createdByName:"Store Manager",createdAt:"2026-01-26T09:00:00Z",updatedAt:"2026-01-26T09:00:00Z"}],tA=[{id:"REC001",name:"Margherita Pizza Base",description:"Classic margherita pizza recipe",status:"Active",ingredients:[{id:"RI001",inventoryItemId:"INV003",inventoryItemName:"Pizza Dough",baseUnit:"Gram",quantityUsed:250,unitCost:2.25,wastagePercentage:5,effectiveQuantity:262.5,lineCost:.59},{id:"RI002",inventoryItemId:"INV001",inventoryItemName:"Tomatoes",baseUnit:"Gram",quantityUsed:100,unitCost:3.5,wastagePercentage:10,effectiveQuantity:110,lineCost:.39},{id:"RI003",inventoryItemId:"INV002",inventoryItemName:"Mozzarella Cheese",baseUnit:"Gram",quantityUsed:150,unitCost:8.75,wastagePercentage:2,effectiveQuantity:153,lineCost:1.34},{id:"RI004",inventoryItemId:"INV005",inventoryItemName:"Basil Leaves",baseUnit:"Gram",quantityUsed:10,unitCost:.15,wastagePercentage:15,effectiveQuantity:11.5,lineCost:.02}],totalRecipeCost:2.34,usedByProductCount:3,tenantId:"TENANT001",createdAt:"2025-06-15T00:00:00Z",updatedAt:"2026-01-20T10:00:00Z"},{id:"REC002",name:"Garlic Bread",description:"Simple garlic bread recipe",status:"Active",ingredients:[{id:"RI005",inventoryItemId:"INV003",inventoryItemName:"Pizza Dough",baseUnit:"Gram",quantityUsed:150,unitCost:2.25,wastagePercentage:3,effectiveQuantity:154.5,lineCost:.35},{id:"RI006",inventoryItemId:"INV004",inventoryItemName:"Olive Oil",baseUnit:"Milliliter",quantityUsed:20,unitCost:12.5,wastagePercentage:0,effectiveQuantity:20,lineCost:.25}],totalRecipeCost:.6,usedByProductCount:1,tenantId:"TENANT001",createdAt:"2025-07-01T00:00:00Z",updatedAt:"2026-01-15T14:00:00Z"}],tT=[{id:"IR001",referenceNo:"RET-2026-001",returnType:"Damaged",supplierId:"VEN001",supplierName:"Fresh Produce Co.",storeId:"STORE001",storeName:"Main Store",returnDate:"2026-01-29T11:00:00Z",products:[{id:"IRP001",inventoryItemId:"INV001",inventoryItemName:"Tomatoes",sku:"VEG-TOM-001",returnQuantity:5,unitCost:3.3,lineTotal:16.5}],totalAmount:16.5,reason:"Received damaged goods",createdBy:"USER001",createdByName:"Admin User",createdAt:"2026-01-29T11:00:00Z"},{id:"IR002",referenceNo:"RET-2026-002",returnType:"Expired",storeId:"STORE001",storeName:"Main Store",returnDate:"2026-01-28T16:00:00Z",products:[{id:"IRP002",inventoryItemId:"INV002",inventoryItemName:"Mozzarella Cheese",sku:"DAI-MOZ-001",returnQuantity:2,unitCost:8.4,lineTotal:16.8}],totalAmount:16.8,reason:"Expired product",createdBy:"USER002",createdByName:"Store Manager",createdAt:"2026-01-28T16:00:00Z"}],tD=({icon:e,title:s,description:a,color:l,onClick:r})=>(0,t.jsxs)("button",{onClick:r,className:`bg-gradient-to-br ${{emerald:"from-emerald-50 to-emerald-100 border-emerald-200 hover:border-emerald-400",blue:"from-blue-50 to-blue-100 border-blue-200 hover:border-blue-400",violet:"from-violet-50 to-violet-100 border-violet-200 hover:border-violet-400",orange:"from-orange-50 to-orange-100 border-orange-200 hover:border-orange-400",rose:"from-rose-50 to-rose-100 border-rose-200 hover:border-rose-400",slate:"from-slate-50 to-slate-100 border-slate-200 hover:border-slate-400"}[l]} p-6 rounded-3xl border shadow-sm transition-all hover:shadow-lg hover:scale-105 active:scale-100 text-left group`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:`p-3 ${{emerald:"bg-emerald-600 shadow-emerald-200",blue:"bg-blue-600 shadow-blue-200",violet:"bg-violet-600 shadow-violet-200",orange:"bg-orange-600 shadow-orange-200",rose:"bg-rose-600 shadow-rose-200",slate:"bg-slate-600 shadow-slate-200"}[l]} rounded-2xl shadow-lg`,children:(0,t.jsx)(e,{size:20,className:"text-white"})}),(0,t.jsx)("svg",{className:"w-5 h-5 text-slate-400 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(0,t.jsx)("h3",{className:"text-lg font-black text-slate-900 tracking-tight mb-2",children:s}),(0,t.jsx)("p",{className:"text-xs text-slate-600 font-medium leading-relaxed",children:a})]});e.s(["InventoryPage",0,()=>{let e=(0,ea.useRouter)(),{role:s}=(0,b.useRouteAccess)(),a=tI.filter(e=>e.currentStock<=e.lowStockThreshold),l=tI.reduce((e,t)=>e+t.currentStock*t.averageCost,0),r=tP.filter(e=>"Draft"===e.inventoryStatus||"Ordered"===e.inventoryStatus),i="ADMIN"===s||"STORE_MANAGER"===s;return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Inventory Management"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"System of record for stock movement, recipes, and vendor management"})]}),i&&(0,t.jsxs)("button",{onClick:()=>e.push("/backoffice/inventory/add"),className:"flex items-center gap-2 px-5 py-2.5 bg-emerald-600 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all active:scale-95",children:[(0,t.jsx)(L.Plus,{size:16,strokeWidth:3}),"Add Inventory"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200",children:(0,t.jsx)(X.Package,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Total Value"})]}),(0,t.jsxs)("div",{className:"text-3xl font-black text-emerald-900 tracking-tight",children:["$",l.toFixed(2)]}),(0,t.jsxs)("div",{className:"text-xs text-emerald-600 font-bold mt-1",children:[tI.length," Active Items"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-3xl border border-amber-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-amber-600 rounded-2xl shadow-lg shadow-amber-200",children:(0,t.jsx)(tS,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-amber-600 uppercase tracking-widest",children:"Low Stock"})]}),(0,t.jsx)("div",{className:"text-3xl font-black text-amber-900 tracking-tight",children:a.length}),(0,t.jsx)("div",{className:"text-xs text-amber-600 font-bold mt-1",children:"Items Below Threshold"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,t.jsx)(el.TrendingUp,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-blue-600 uppercase tracking-widest",children:"Pending"})]}),(0,t.jsx)("div",{className:"text-3xl font-black text-blue-900 tracking-tight",children:r.length}),(0,t.jsx)("div",{className:"text-xs text-blue-600 font-bold mt-1",children:"Draft/Ordered Entries"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i&&(0,t.jsx)(tD,{icon:L.Plus,title:"Add Inventory",description:"Create new stock inward entries",color:"emerald",onClick:()=>e.push("/backoffice/inventory/add")}),(0,t.jsx)(tD,{icon:O.FileText,title:"Entries",description:"View all stock inward transactions",color:"blue",onClick:()=>e.push("/backoffice/inventory/entries")}),(0,t.jsx)(tD,{icon:tk,title:"List Inventory",description:"Canonical list of inventory items (ingredients)",color:"violet",onClick:()=>e.push("/backoffice/inventory/list")}),(0,t.jsx)(tD,{icon:eC,title:"Recipes",description:"Bill of Materials (BOM) and costing",color:"orange",onClick:()=>e.push("/backoffice/inventory/recipes")}),(0,t.jsx)(tD,{icon:A.RotateCcw,title:"List Returns",description:"View returns, wastage, and adjustments",color:"rose",onClick:()=>e.push("/backoffice/inventory/returns")}),("ADMIN"===s||"STORE_MANAGER"===s)&&(0,t.jsx)(tD,{icon:e9.Users,title:"Vendors",description:"Manage suppliers and vendor relationships",color:"slate",onClick:()=>e.push("/backoffice/inventory/vendors")})]}),a.length>0&&(0,t.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-3xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-amber-600 rounded-2xl shadow-lg shadow-amber-200",children:(0,t.jsx)(tS,{size:20,className:"text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-black text-amber-900 tracking-tight mb-2",children:"Low Stock Alert"}),(0,t.jsx)("p",{className:"text-sm text-amber-700 font-medium mb-4",children:"The following items are below their low stock threshold:"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.slice(0,6).map(e=>(0,t.jsxs)("div",{className:"bg-white p-3 rounded-xl border border-amber-200",children:[(0,t.jsx)("div",{className:"text-sm font-black text-slate-900",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-slate-500 font-medium mt-1",children:["Stock: ",e.currentStock," ",e.baseUnit," (Threshold: ",e.lowStockThreshold,")"]})]},e.id))}),a.length>6&&(0,t.jsxs)("button",{onClick:()=>e.push("/backoffice/inventory/list"),className:"mt-4 text-xs font-black text-amber-600 uppercase tracking-widest hover:text-amber-700 transition-colors",children:["View All ",a.length," Items â†’"]})]})]})})]})}],9977);let tR=(0,i.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),tE=(0,i.default)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),tO=(0,i.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),tM=[...tP],tz=[...tI],tU=[...tA],tL=[...tC],tF=[...tT],t$=[{id:"LED001",inventoryItemId:"INV001",inventoryItemName:"Tomatoes",changeQuantity:50,sourceType:"inventory",sourceId:"IE001",sourceReference:"PO-2026-001",storeId:"STORE001",storeName:"Main Store",balanceAfter:50,createdAt:"2026-01-28T10:30:00Z"},{id:"LED002",inventoryItemId:"INV001",inventoryItemName:"Tomatoes",changeQuantity:-5,sourceType:"return",sourceId:"IR001",sourceReference:"RET-2026-001",storeId:"STORE001",storeName:"Main Store",balanceAfter:45,createdAt:"2026-01-29T11:00:00Z"},{id:"LED003",inventoryItemId:"INV002",inventoryItemName:"Mozzarella Cheese",changeQuantity:15,sourceType:"inventory",sourceId:"IE002",sourceReference:"PO-2026-002",storeId:"STORE001",storeName:"Main Store",balanceAfter:15,createdAt:"2026-01-27T14:00:00Z"},{id:"LED004",inventoryItemId:"INV002",inventoryItemName:"Mozzarella Cheese",changeQuantity:-2,sourceType:"return",sourceId:"IR002",sourceReference:"RET-2026-002",storeId:"STORE001",storeName:"Main Store",balanceAfter:13,createdAt:"2026-01-28T16:00:00Z"},{id:"LED005",inventoryItemId:"INV002",inventoryItemName:"Mozzarella Cheese",changeQuantity:-1,sourceType:"sale",sourceId:"SALE001",sourceReference:"ORD-2026-045",storeId:"STORE001",storeName:"Main Store",balanceAfter:12,createdAt:"2026-01-29T12:30:00Z"}],tV=e=>`${e}${Date.now()}${Math.floor(1e3*Math.random())}`,tB=e=>Promise.resolve(tM.find(t=>t.id===e)||null),tG=e=>{let t=tM.find(t=>t.id===e);return t?"Received"===t.inventoryStatus?Promise.reject(Error("Already received")):(t.inventoryStatus="Received",t.updatedAt=new Date().toISOString(),t.products.forEach(e=>{let s=tz.find(t=>t.id===e.inventoryItemId);if(s){s.currentStock+=e.purchaseQuantity;let a=(s.currentStock-e.purchaseQuantity)*s.averageCost+e.purchaseQuantity*e.unitCostAfterTax;s.averageCost=a/s.currentStock,s.updatedAt=new Date().toISOString();let l={id:tV("LED"),inventoryItemId:s.id,inventoryItemName:s.name,changeQuantity:e.purchaseQuantity,sourceType:"inventory",sourceId:t.id,sourceReference:t.referenceNo,storeId:t.storeId,storeName:t.storeName,balanceAfter:s.currentStock,createdAt:new Date().toISOString()};t$.push(l)}}),Promise.resolve(t)):Promise.reject(Error("Entry not found"))},tW=e=>{let t=[...tz];return e?.status&&(t=t.filter(t=>t.status===e.status)),e?.lowStockOnly&&(t=t.filter(e=>e.currentStock<=e.lowStockThreshold)),Promise.resolve(t)},tq=e=>Promise.resolve(tz.find(t=>t.id===e)||null),tQ=e=>Promise.resolve(tU.find(t=>t.id===e)||null),tZ=()=>Promise.resolve([...tL]),t_=e=>Promise.resolve(tL.find(t=>t.id===e)||null),tK=e=>{let t={id:tV("VEN"),...e,totalPurchases:0,totalPaid:0,totalDue:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return tL.push(t),Promise.resolve(t)};e.s(["AddInventoryPage",0,()=>{let e=(0,ea.useRouter)(),[a,l]=(0,s.useState)(!0),[r,i]=(0,s.useState)(!1),[n,d]=(0,s.useState)([]),[o,c]=(0,s.useState)([]),[x,m]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[u,b]=(0,s.useState)(new Date().toISOString().split("T")[0]),[g,f]=(0,s.useState)("Draft"),[j,v]=(0,s.useState)(""),[N,y]=(0,s.useState)(null),[w,k]=(0,s.useState)([]),[S,C]=(0,s.useState)(!1),[I,P]=(0,s.useState)(""),[A,T]=(0,s.useState)(""),[D,E]=(0,s.useState)(""),[O,M]=(0,s.useState)(!1),[z,U]=(0,s.useState)(0),[F,$]=(0,s.useState)(""),[V,B]=(0,s.useState)(""),[G,W]=(0,s.useState)(!1),[q,Q]=(0,s.useState)([]);(0,s.useEffect)(()=>{Z()},[]);let Z=async()=>{try{let[e,t]=await Promise.all([tZ(),tW({status:"Active"})]);d(e),c(t)}catch(e){console.error("Failed to load data:",e)}finally{l(!1)}};(0,s.useEffect)(()=>{if(!V.trim())return void Q([]);let e=V.toLowerCase();Q(o.filter(t=>t.name.toLowerCase().includes(e)||t.sku.toLowerCase().includes(e)).slice(0,5))},[V,o]),(0,s.useEffect)(()=>{if(!p){let e=Date.now();h(`PO-${new Date().getFullYear()}-${e.toString().slice(-6)}`)}},[p]);let _=(e,t,s)=>{k(w.map(a=>{if(a.id!==e)return a;let l={...a,[t]:s};if("purchaseQuantity"===t||"unitCostBeforeTax"===t||"taxPercentage"===t){let e=l.purchaseQuantity,t=l.unitCostBeforeTax,s=l.taxPercentage;l.subtotal=e*t;let a=s/100*t;l.unitCostAfterTax=t+a,l.taxAmount=a*e,l.lineTotal=l.subtotal+l.taxAmount}return l}))},K=async()=>{if(!I)return alert("Vendor Name is required");M(!0);try{let e=await tK({name:I,contactPerson:A,phone:D,status:"Active"});d([...n,e]),m(e.id),C(!1),P(""),T(""),E("")}catch(e){alert("Failed to create vendor: "+e.message)}finally{M(!1)}},H=w.reduce((e,t)=>e+t.subtotal,0),Y=w.reduce((e,t)=>e+t.taxAmount,0),J=H+Y+z,X=async(t="Draft")=>{if(!x)return void alert("Please select a supplier");if(0===w.length)return void alert("Please add at least one product");i(!0);try{var s,a,l;let r,i,n;await (s={supplierId:x,storeId:"STORE001",inventoryDate:u,expectedDeliveryDate:u,referenceNo:p,inventoryStatus:t,products:w,additionalNotes:F,shippingCharges:z,purchaseTax:Y,otherExpenses:0},a="USER001",l="Admin User",(n={id:tV("IE"),referenceNo:s.referenceNo||(r=new Date().getFullYear(),i=Date.now().toString().slice(-6),`PO-${r}-${i}`),supplierId:s.supplierId,supplierName:tL.find(e=>e.id===s.supplierId)?.name||"",storeId:s.storeId,storeName:"Main Store",inventoryDate:s.inventoryDate,inventoryStatus:s.inventoryStatus,paymentStatus:"Unpaid",payTerm:s.payTerm,attachedDocument:s.attachedDocument,products:s.products.map(e=>({...e,id:tV("IEP"),inventoryItemName:tz.find(t=>t.id===e.inventoryItemId)?.name||""})),purchaseTax:s.purchaseTax,shippingCharges:s.shippingCharges,additionalNotes:s.additionalNotes,subtotal:s.products.reduce((e,t)=>e+t.subtotal,0),totalTax:s.products.reduce((e,t)=>e+t.taxAmount,0)+s.purchaseTax,grandTotal:0,paymentDue:0,createdBy:a,createdByName:l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}).grandTotal=n.subtotal+n.totalTax+n.shippingCharges,n.paymentDue=n.grandTotal,tM.push(n),Promise.resolve(n)),alert(`Inventory Entry ${"Received"===t?"Received":"Saved"} successfully!`),e.push("/backoffice/inventory/entries")}catch(e){console.error("Failed to save:",e),alert("Failed to save entry: "+e.message)}finally{i(!1)}};return a?(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsx)(tE,{className:"w-8 h-8 text-emerald-600 animate-spin"})}):(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Add Inventory"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Create new stock purchase order"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsx)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Supplier *"}),(0,t.jsxs)("select",{value:x,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none",children:[(0,t.jsx)("option",{value:"",children:"Select Supplier"}),n.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsxs)("button",{onClick:()=>C(!0),className:"mt-2 text-xs font-bold text-emerald-600 hover:text-emerald-700 flex items-center gap-1",children:[(0,t.jsx)(L.Plus,{size:12})," Add New Supplier"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Date"}),(0,t.jsx)("input",{type:"date",value:u,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Ref No."}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Status"}),(0,t.jsxs)("select",{value:g,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none",children:[(0,t.jsx)("option",{value:"Draft",children:"Draft"}),(0,t.jsx)("option",{value:"Ordered",children:"Ordered"}),(0,t.jsx)("option",{value:"Received",children:"Received"}),(0,t.jsx)("option",{value:"Partial",children:"Partial"}),(0,t.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Pay Term"}),(0,t.jsx)("input",{type:"text",value:j,onChange:e=>v(e.target.value),placeholder:"e.g. Net 30",className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Attach Document"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>document.getElementById("file-upload")?.click(),className:"flex-1 px-4 py-2 bg-slate-50 border border-slate-200 border-dashed rounded-xl text-sm font-bold text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(tO,{size:16}),N?"Document Attached":"Upload File"]}),(0,t.jsx)("input",{id:"file-upload",type:"file",className:"hidden",onChange:e=>y(e.target.files?.[0]?.name||null)}),N&&(0,t.jsx)("button",{onClick:()=>y(null),className:"p-2 text-rose-500 hover:bg-rose-50 rounded-lg",children:(0,t.jsx)(eg,{size:16})})]})]})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-4",children:(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(R.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:V,onChange:e=>{B(e.target.value),W(!0)},onFocus:()=>W(!0),placeholder:"Search product to add...",className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none"}),G&&q.length>0&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-10 max-h-60 overflow-y-auto",children:q.map(e=>(0,t.jsxs)("button",{onClick:()=>{k([...w,{id:`IEP${Date.now()}`,inventoryItemId:e.id,inventoryItemName:e.name,sku:e.sku,unitCostBeforeTax:e.averageCost,taxPercentage:0,taxAmount:0,unitCostAfterTax:e.averageCost,purchaseQuantity:1,subtotal:+e.averageCost,lineTotal:+e.averageCost}]),B(""),W(!1)},className:"w-full px-4 py-3 text-left hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:["SKU: ",e.sku]})]},e.id))})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[(0,t.jsx)("th",{className:"px-4 py-3",children:"Product"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right",children:"Qty"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right",children:"Unit Cost"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right",children:"Tax %"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right",children:"Total"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===w.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-slate-400 font-medium",children:"No products added. Search above to add items."})}):w.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50",children:[(0,t.jsxs)("td",{className:"px-4 py-3",children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900",children:e.inventoryItemName}),(0,t.jsx)("div",{className:"text-[10px] text-slate-400",children:e.sku})]}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsx)("input",{type:"number",value:e.purchaseQuantity,onChange:t=>_(e.id,"purchaseQuantity",parseFloat(t.target.value)||0),className:"w-20 px-2 py-1 bg-white border border-slate-200 rounded text-right text-sm focus:border-emerald-600 outline-none",min:"1"})}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsx)("input",{type:"number",value:e.unitCostBeforeTax,onChange:t=>_(e.id,"unitCostBeforeTax",parseFloat(t.target.value)||0),className:"w-24 px-2 py-1 bg-white border border-slate-200 rounded text-right text-sm focus:border-emerald-600 outline-none",min:"0",step:"0.01"})}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsx)("input",{type:"number",value:e.taxPercentage,onChange:t=>_(e.id,"taxPercentage",parseFloat(t.target.value)||0),className:"w-16 px-2 py-1 bg-white border border-slate-200 rounded text-right text-sm focus:border-emerald-600 outline-none",min:"0",max:"100"})}),(0,t.jsxs)("td",{className:"px-4 py-3 text-right text-sm font-black text-slate-900",children:["$",e.lineTotal.toFixed(2)]}),(0,t.jsx)("td",{className:"px-4 py-3 text-center",children:(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void k(w.filter(e=>e.id!==t))},className:"text-slate-400 hover:text-rose-600 transition-colors",children:(0,t.jsx)(eg,{size:16})})})]},e.id))})]})})]})]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Shipping Charges"}),(0,t.jsx)("input",{type:"number",value:z,onChange:e=>U(parseFloat(e.target.value)||0),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Additional Notes"}),(0,t.jsx)("textarea",{value:F,onChange:e=>$(e.target.value),rows:3,className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none resize-none"})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-slate-100 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-600 font-medium",children:"Subtotal"}),(0,t.jsxs)("span",{className:"font-bold text-slate-900",children:["$",H.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-600 font-medium",children:"Total Tax"}),(0,t.jsxs)("span",{className:"font-bold text-emerald-600",children:["$",Y.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-600 font-medium",children:"Shipping"}),(0,t.jsxs)("span",{className:"font-bold text-slate-900",children:["$",z.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-lg pt-2 border-t border-slate-100",children:[(0,t.jsx)("span",{className:"font-black text-slate-900 uppercase",children:"Grand Total"}),(0,t.jsxs)("span",{className:"font-black text-emerald-600",children:["$",J.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>X("Draft"),disabled:r,className:"flex-1 py-3 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all disabled:opacity-50",children:"Save Draft"}),(0,t.jsx)("button",{onClick:()=>X("Received"===g?"Received":"Ordered"),disabled:r,className:"flex-[2] py-3 bg-emerald-600 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all disabled:opacity-50",children:r?"Saving...":"Received"===g?"Recieve Now":"Create Order"})]})]})})]}),S&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-3xl p-8 w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200",children:[(0,t.jsx)("h2",{className:"text-xl font-black text-slate-900 mb-6",children:"Add New Supplier"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Supplier Name *"}),(0,t.jsx)("input",{type:"text",value:I,onChange:e=>P(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-900 focus:border-emerald-500 outline-none",placeholder:"e.g. Acme Supplies"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Contact Person"}),(0,t.jsx)("input",{type:"text",value:A,onChange:e=>T(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-900 focus:border-emerald-500 outline-none",placeholder:"e.g. John Doe"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Phone"}),(0,t.jsx)("input",{type:"text",value:D,onChange:e=>E(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-900 focus:border-emerald-500 outline-none",placeholder:"e.g. +1 234 567 890"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-8",children:[(0,t.jsx)("button",{onClick:()=>C(!1),className:"flex-1 py-3 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200",children:"Cancel"}),(0,t.jsx)("button",{onClick:K,disabled:O,className:"flex-1 py-3 bg-emerald-600 text-white rounded-xl text-sm font-black uppercase tracking-widest hover:bg-emerald-700 disabled:opacity-50",children:O?"Saving...":"Add Supplier"})]})]})})]})}],79874),e.s(["InventoryEntriesPage",0,()=>{let e=(0,ea.useRouter)(),[a,l]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[n,d]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),[x,m]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[u,b]=(0,s.useState)(""),[g,f]=(0,s.useState)(!1),j=tP.filter(e=>!(a&&!e.referenceNo.toLowerCase().includes(a.toLowerCase())||r&&e.storeId!==r||n&&e.supplierId!==n||o&&e.inventoryStatus!==o||x&&e.paymentStatus!==x||p&&new Date(e.inventoryDate)<new Date(p)||u&&new Date(e.inventoryDate)>new Date(u)));return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Inventory Entries"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"View all stock inward transactions"})]})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(R.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Search by reference number...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-emerald-600 transition-all"})]}),(0,t.jsxs)("button",{onClick:()=>f(!g),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all ${g?"bg-emerald-600 text-white":"bg-slate-50 border border-slate-200 text-slate-600 hover:bg-white"}`,children:[(0,t.jsx)(P.Filter,{size:14}),"Filters"]})]}),g&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4 border-t border-slate-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Supplier"}),(0,t.jsxs)("select",{value:n,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600",children:[(0,t.jsx)("option",{value:"",children:"All Suppliers"}),tC.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Entry Status"}),(0,t.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600",children:[(0,t.jsx)("option",{value:"",children:"All Statuses"}),(0,t.jsx)("option",{value:"Draft",children:"Draft"}),(0,t.jsx)("option",{value:"Ordered",children:"Ordered"}),(0,t.jsx)("option",{value:"Received",children:"Received"}),(0,t.jsx)("option",{value:"Partial",children:"Partial"}),(0,t.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Payment Status"}),(0,t.jsxs)("select",{value:x,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600",children:[(0,t.jsx)("option",{value:"",children:"All Statuses"}),(0,t.jsx)("option",{value:"Unpaid",children:"Unpaid"}),(0,t.jsx)("option",{value:"Partial",children:"Partial"}),(0,t.jsx)("option",{value:"Paid",children:"Paid"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:["Date From ",(0,t.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,t.jsx)("input",{type:"date",value:p,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:["Date To ",(0,t.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,t.jsx)("input",{type:"date",value:u,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600"})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("button",{onClick:()=>{i(""),d(""),c(""),m(""),h(""),b("")},className:"w-full px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all",children:"Clear Filters"})})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("p",{className:"text-sm text-slate-600 font-medium",children:["Showing ",(0,t.jsx)("span",{className:"font-black text-slate-900",children:j.length})," entries"]})}),(0,t.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Action"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reference No"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Location"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Supplier"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Entry Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Payment Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Grand Total"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Payment Due"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Added By"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===j.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:10,className:"px-6 py-12 text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(I.Calendar,{size:32,className:"text-slate-300"}),(0,t.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No entries found. Try adjusting your filters."})]})})}):j.map(s=>(0,t.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>e.push(`/backoffice/inventory/entries/${s.id}`),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"View",children:(0,t.jsx)(e_,{size:16})}),(0,t.jsx)("button",{onClick:()=>window.print(),className:"p-2 text-slate-400 hover:text-slate-900 transition-colors",title:"Print",children:(0,t.jsx)(z.Printer,{size:16})}),("Draft"===s.inventoryStatus||"Ordered"===s.inventoryStatus)&&(0,t.jsx)("button",{onClick:()=>e.push(`/backoffice/inventory/entries/${s.id}/edit`),className:"p-2 text-slate-400 hover:text-emerald-600 transition-colors",title:"Edit",children:(0,t.jsx)(em,{size:16})}),"Received"!==s.inventoryStatus&&"Partial"!==s.inventoryStatus&&(0,t.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to delete this entry?")&&alert("Delete functionality not connected to backend yet.")},className:"p-2 text-slate-400 hover:text-rose-600 transition-colors",title:"Delete",children:(0,t.jsx)(eg,{size:16})}),(0,t.jsx)("button",{onClick:()=>alert("Label printing would start here"),className:"p-2 text-slate-400 hover:text-violet-600 transition-colors",title:"Labels",children:(0,t.jsx)(Z.Tag,{size:16})})]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:new Date(s.inventoryDate).toLocaleDateString()}),(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"text-sm font-black text-emerald-600",children:s.referenceNo}),(0,t.jsxs)("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:["ID: ",s.id]})]}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:s.storeName}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:s.supplierName}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${(e=>{switch(e){case"Received":return"bg-emerald-50 text-emerald-600 border-emerald-200";case"Partial":return"bg-blue-50 text-blue-600 border-blue-200";case"Ordered":return"bg-violet-50 text-violet-600 border-violet-200";case"Draft":return"bg-slate-50 text-slate-600 border-slate-200";case"Cancelled":return"bg-rose-50 text-rose-600 border-rose-200"}})(s.inventoryStatus)}`,children:s.inventoryStatus})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${(e=>{switch(e){case"Paid":return"bg-emerald-50 text-emerald-600 border-emerald-200";case"Partial":return"bg-amber-50 text-amber-600 border-amber-200";case"Unpaid":return"bg-rose-50 text-rose-600 border-rose-200"}})(s.paymentStatus)}`,children:s.paymentStatus})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:"text-sm font-black text-slate-900 tabular-nums",children:["$",s.grandTotal.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:`text-sm font-black tabular-nums ${s.paymentDue>0?"text-rose-600":"text-emerald-600"}`,children:["$",s.paymentDue.toFixed(2)]})}),(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-600",children:s.createdByName}),(0,t.jsx)("div",{className:"text-[10px] text-slate-400 font-medium",children:new Date(s.createdAt).toLocaleString()})]})]},s.id))})]})})})]})}],29512);let tH=(0,i.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);e.s(["ListInventoryPage",0,()=>{let e=(0,ea.useRouter)(),[a,l]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[n,d]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),x=tI.filter(e=>(!a||!!e.name.toLowerCase().includes(a.toLowerCase())||!!e.sku.toLowerCase().includes(a.toLowerCase()))&&(!r||e.status===r)&&(!n||!(e.currentStock>e.lowStockThreshold))),m=tI.filter(e=>e.currentStock<=e.lowStockThreshold).length,p=tI.reduce((e,t)=>e+t.currentStock*t.averageCost,0);return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"List Inventory"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Canonical list of inventory items (ingredients)"})]}),(0,t.jsxs)("button",{onClick:()=>e.push("/backoffice/inventory/items/create"),className:"flex items-center gap-2 px-5 py-2.5 bg-emerald-600 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all active:scale-95",children:[(0,t.jsx)(L.Plus,{size:16,strokeWidth:3}),"Add Item"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200",children:(0,t.jsx)(X.Package,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Total Items"})]}),(0,t.jsx)("div",{className:"text-3xl font-black text-emerald-900 tracking-tight",children:tI.length}),(0,t.jsx)("div",{className:"text-xs text-emerald-600 font-bold mt-1",children:"Active Ingredients"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,t.jsx)(tH,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-blue-600 uppercase tracking-widest",children:"Total Value"})]}),(0,t.jsxs)("div",{className:"text-3xl font-black text-blue-900 tracking-tight",children:["$",p.toFixed(2)]}),(0,t.jsx)("div",{className:"text-xs text-blue-600 font-bold mt-1",children:"Current Stock Value"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-3xl border border-amber-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-amber-600 rounded-2xl shadow-lg shadow-amber-200",children:(0,t.jsx)(tS,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-amber-600 uppercase tracking-widest",children:"Low Stock"})]}),(0,t.jsx)("div",{className:"text-3xl font-black text-amber-900 tracking-tight",children:m}),(0,t.jsx)("div",{className:"text-xs text-amber-600 font-bold mt-1",children:"Items Below Threshold"})]})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(R.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Search by item name or SKU...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-emerald-600 transition-all"})]}),(0,t.jsxs)("button",{onClick:()=>c(!o),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all ${o?"bg-emerald-600 text-white":"bg-slate-50 border border-slate-200 text-slate-600 hover:bg-white"}`,children:[(0,t.jsx)(P.Filter,{size:14}),"Filters"]})]}),o&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-slate-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Status"}),(0,t.jsxs)("select",{value:r,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600",children:[(0,t.jsx)("option",{value:"",children:"All Statuses"}),(0,t.jsx)("option",{value:"Active",children:"Active"}),(0,t.jsx)("option",{value:"Inactive",children:"Inactive"})]})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:n,onChange:e=>d(e.target.checked),className:"w-4 h-4 text-emerald-600 border-slate-300 rounded focus:ring-emerald-500"}),(0,t.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Show Low Stock Only"})]})}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("button",{onClick:()=>{i(""),d(!1)},className:"w-full px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all",children:"Clear Filters"})})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("p",{className:"text-sm text-slate-600 font-medium",children:["Showing ",(0,t.jsx)("span",{className:"font-black text-slate-900",children:x.length})," items"]})}),(0,t.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Item Name"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"SKU"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Base Unit"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Current Stock"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Average Cost"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Stock Value"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Low Stock Threshold"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===x.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:9,className:"px-6 py-12 text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(X.Package,{size:32,className:"text-slate-300"}),(0,t.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No items found. Try adjusting your filters."})]})})}):x.map(s=>{let a=s.currentStock<=s.lowStockThreshold,l=s.currentStock*s.averageCost;return(0,t.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"text-sm font-black text-slate-900",children:s.name}),s.description&&(0,t.jsx)("div",{className:"text-xs text-slate-500 font-medium mt-1",children:s.description})]}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold border border-slate-200",children:s.sku})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:s.baseUnit}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right",children:[(0,t.jsx)("div",{className:`text-sm font-black tabular-nums ${a?"text-rose-600":"text-slate-900"}`,children:s.currentStock.toFixed(2)}),a&&(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1 mt-1",children:[(0,t.jsx)(tS,{size:12,className:"text-rose-500"}),(0,t.jsx)("span",{className:"text-[10px] text-rose-500 font-bold uppercase",children:"Low"})]})]}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:"text-sm font-black text-slate-900 tabular-nums",children:["$",s.averageCost.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:"text-sm font-black text-emerald-600 tabular-nums",children:["$",l.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsx)("div",{className:"text-sm font-bold text-slate-600 tabular-nums",children:s.lowStockThreshold})}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${"Active"===s.status?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-slate-100 text-slate-400 border-slate-200"}`,children:s.status})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>e.push(`/backoffice/inventory/items/${s.id}`),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"View Item",children:(0,t.jsx)(e_,{size:16})}),(0,t.jsx)("button",{onClick:()=>e.push(`/backoffice/inventory/items/${s.id}/edit`),className:"p-2 text-slate-400 hover:text-emerald-600 transition-colors",title:"Edit Item",children:(0,t.jsx)(em,{size:16})}),(0,t.jsx)("button",{onClick:()=>e.push(`/backoffice/inventory/items/${s.id}/ledger`),className:"p-2 text-slate-400 hover:text-violet-600 transition-colors",title:"View Ledger",children:(0,t.jsx)(O.FileText,{size:16})})]})})]},s.id)})})]})})})]})}],8575);let tY=(0,i.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["RecipesPage",0,()=>{let e=(0,ea.useRouter)(),[a,l]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),n=tA.filter(e=>(!a||!!e.name.toLowerCase().includes(a.toLowerCase()))&&(!r||e.status===r)),o=tA.length,c=tA.filter(e=>"Active"===e.status).length,x=tA.reduce((e,t)=>e+t.totalRecipeCost,0)/tA.length;return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Recipes (BOM & Costing)"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Bill of Materials and automatic cost calculation"})]}),(0,t.jsxs)("button",{onClick:()=>e.push("/backoffice/inventory/recipes/create"),className:"flex items-center gap-2 px-5 py-2.5 bg-orange-600 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-orange-200 hover:bg-orange-700 transition-all active:scale-95",children:[(0,t.jsx)(L.Plus,{size:16,strokeWidth:3}),"Create Recipe"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-3xl border border-orange-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-orange-600 rounded-2xl shadow-lg shadow-orange-200",children:(0,t.jsx)(eC,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-orange-600 uppercase tracking-widest",children:"Total Recipes"})]}),(0,t.jsx)("div",{className:"text-3xl font-black text-orange-900 tracking-tight",children:o}),(0,t.jsxs)("div",{className:"text-xs text-orange-600 font-bold mt-1",children:[c," Active"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200",children:(0,t.jsx)(eC,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Avg Cost"})]}),(0,t.jsxs)("div",{className:"text-3xl font-black text-emerald-900 tracking-tight",children:["$",x.toFixed(2)]}),(0,t.jsx)("div",{className:"text-xs text-emerald-600 font-bold mt-1",children:"Per Recipe"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,t.jsx)(eC,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-blue-600 uppercase tracking-widest",children:"In Use"})]}),(0,t.jsx)("div",{className:"text-3xl font-black text-blue-900 tracking-tight",children:tA.reduce((e,t)=>e+t.usedByProductCount,0)}),(0,t.jsx)("div",{className:"text-xs text-blue-600 font-bold mt-1",children:"Product Attachments"})]})]}),(0,t.jsx)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(R.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Search recipes by name...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-orange-600 transition-all"})]}),(0,t.jsxs)("select",{value:r,onChange:e=>i(e.target.value),className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-600 focus:border-orange-600",children:[(0,t.jsx)("option",{value:"",children:"All Statuses"}),(0,t.jsx)("option",{value:"Active",children:"Active"}),(0,t.jsx)("option",{value:"Inactive",children:"Inactive"})]})]})}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("p",{className:"text-sm text-slate-600 font-medium",children:["Showing ",(0,t.jsx)("span",{className:"font-black text-slate-900",children:n.length})," recipes"]})}),(0,t.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Recipe Name"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Total Ingredients"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total Recipe Cost"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Used By (Products)"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Last Updated"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===n.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(eC,{size:32,className:"text-slate-300"}),(0,t.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No recipes found. Create your first recipe to get started."})]})})}):n.map(s=>(0,t.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-orange-100 rounded-xl",children:(0,t.jsx)(eC,{size:16,className:"text-orange-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-black text-slate-900",children:s.name}),s.description&&(0,t.jsx)("div",{className:"text-xs text-slate-500 font-medium mt-1",children:s.description})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-100 text-slate-900 rounded-lg text-sm font-black border border-slate-200",children:s.ingredients.length})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:"text-base font-black text-emerald-600 tabular-nums",children:["$",s.totalRecipeCost.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsx)("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-sm font-black border border-blue-200",children:s.usedByProductCount})}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${"Active"===s.status?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-slate-100 text-slate-400 border-slate-200"}`,children:s.status})}),(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-600",children:new Date(s.updatedAt).toLocaleDateString()}),(0,t.jsx)("div",{className:"text-xs text-slate-400 font-medium",children:new Date(s.updatedAt).toLocaleTimeString()})]}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>e.push(`/backoffice/inventory/recipes/${s.id}`),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"View",children:(0,t.jsx)(e_,{size:16})}),(0,t.jsx)("button",{onClick:()=>e.push(`/backoffice/inventory/recipes/${s.id}/edit`),className:"p-2 text-slate-400 hover:text-emerald-600 transition-colors",title:"Edit",children:(0,t.jsx)(em,{size:16})}),(0,t.jsx)("button",{onClick:()=>{},className:"p-2 text-slate-400 hover:text-violet-600 transition-colors",title:"Duplicate",children:(0,t.jsx)(tY,{size:16})}),(0,t.jsx)("button",{disabled:s.usedByProductCount>0,className:`p-2 transition-colors ${s.usedByProductCount>0?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-rose-600"}`,title:s.usedByProductCount>0?"Cannot delete - attached to products":"Delete",children:(0,t.jsx)(eg,{size:16})})]})})]},s.id))})]})})}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-3xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,t.jsx)(d.AlertCircle,{size:20,className:"text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-black text-blue-900 tracking-tight mb-2",children:"Recipe Rules"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm text-blue-700 font-medium",children:[(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,t.jsxs)("span",{children:["Recipes use ",(0,t.jsx)("strong",{children:"Inventory Items ONLY"})," - vendor changes never affect recipes"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,t.jsxs)("span",{children:["One recipe can attach to ",(0,t.jsx)("strong",{children:"multiple products"})]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,t.jsxs)("span",{children:["Recipe cost is ",(0,t.jsx)("strong",{children:"auto-calculated"})," - no manual overrides allowed"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,t.jsxs)("span",{children:["Inventory deduction ",(0,t.jsx)("strong",{children:"always via recipe ingredients"})]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"NO discounts"})," or manual cost overrides"]})]})]})]})]})})]})}],95455),e.s(["ListReturnsPage",0,()=>{let e=(0,ea.useRouter)(),[a,l]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[n,d]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),[x,m]=(0,s.useState)(!1),p=tT.filter(e=>!(a&&!e.referenceNo.toLowerCase().includes(a.toLowerCase())||r&&e.returnType!==r||n&&new Date(e.returnDate)<new Date(n)||o&&new Date(e.returnDate)>new Date(o))),h=tT.length,u=tT.reduce((e,t)=>e+t.totalAmount,0);return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Inventory Returns"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"View returns, wastage, and adjustments"})]}),(0,t.jsxs)("button",{onClick:()=>e.push("/backoffice/inventory/returns/create"),className:"flex items-center gap-2 px-5 py-2.5 bg-rose-600 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-rose-200 hover:bg-rose-700 transition-all active:scale-95",children:[(0,t.jsx)(L.Plus,{size:16,strokeWidth:3}),"Create Return"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100 p-6 rounded-3xl border border-rose-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-rose-600 rounded-2xl shadow-lg shadow-rose-200",children:(0,t.jsx)(A.RotateCcw,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-rose-600 uppercase tracking-widest",children:"Total Returns"})]}),(0,t.jsx)("div",{className:"text-3xl font-black text-rose-900 tracking-tight",children:h}),(0,t.jsx)("div",{className:"text-xs text-rose-600 font-bold mt-1",children:"All Time"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-3xl border border-amber-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-amber-600 rounded-2xl shadow-lg shadow-amber-200",children:(0,t.jsx)(A.RotateCcw,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-amber-600 uppercase tracking-widest",children:"Total Amount"})]}),(0,t.jsxs)("div",{className:"text-3xl font-black text-amber-900 tracking-tight",children:["$",u.toFixed(2)]}),(0,t.jsx)("div",{className:"text-xs text-amber-600 font-bold mt-1",children:"Return Value"})]})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(R.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Search by reference number...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-rose-600 transition-all"})]}),(0,t.jsxs)("button",{onClick:()=>m(!x),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all ${x?"bg-rose-600 text-white":"bg-slate-50 border border-slate-200 text-slate-600 hover:bg-white"}`,children:[(0,t.jsx)(P.Filter,{size:14}),"Filters"]})]}),x&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-slate-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Return Type"}),(0,t.jsxs)("select",{value:r,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600",children:[(0,t.jsx)("option",{value:"",children:"All Types"}),(0,t.jsx)("option",{value:"Supplier Return",children:"Supplier Return"}),(0,t.jsx)("option",{value:"Damaged",children:"Damaged"}),(0,t.jsx)("option",{value:"Expired",children:"Expired"}),(0,t.jsx)("option",{value:"Adjustment",children:"Adjustment"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Date From"}),(0,t.jsx)("input",{type:"date",value:n,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Date To"}),(0,t.jsx)("input",{type:"date",value:o,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600"})]})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("p",{className:"text-sm text-slate-600 font-medium",children:["Showing ",(0,t.jsx)("span",{className:"font-black text-slate-900",children:p.length})," returns"]})}),(0,t.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reference No"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Return Type"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Supplier"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Location"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total Amount"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reason"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Created By"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===p.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:9,className:"px-6 py-12 text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(I.Calendar,{size:32,className:"text-slate-300"}),(0,t.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No returns found. Try adjusting your filters."})]})})}):p.map(s=>(0,t.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:new Date(s.returnDate).toLocaleDateString()}),(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"text-sm font-black text-rose-600",children:s.referenceNo}),(0,t.jsxs)("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:["ID: ",s.id]})]}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${(e=>{switch(e){case"Supplier Return":return"bg-blue-50 text-blue-600 border-blue-200";case"Damaged":return"bg-rose-50 text-rose-600 border-rose-200";case"Expired":return"bg-amber-50 text-amber-600 border-amber-200";case"Adjustment":return"bg-violet-50 text-violet-600 border-violet-200"}})(s.returnType)}`,children:s.returnType})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:s.supplierName||"-"}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:s.storeName}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:"text-sm font-black text-rose-600 tabular-nums",children:["$",s.totalAmount.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-sm text-slate-600 font-medium max-w-xs truncate",children:s.reason||"-"})}),(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-600",children:s.createdByName}),(0,t.jsx)("div",{className:"text-[10px] text-slate-400 font-medium",children:new Date(s.createdAt).toLocaleString()})]}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsx)("button",{onClick:()=>e.push(`/backoffice/inventory/returns/${s.id}`),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"View",children:(0,t.jsx)(e_,{size:16})})})]},s.id))})]})})})]})}],3913),e.s(["VendorsPage",0,()=>{let e=(0,ea.useRouter)(),{role:a}=(0,b.useRouteAccess)(),[l,r]=(0,s.useState)(""),i="ADMIN"===a,n="ADMIN"===a,d=tC.filter(e=>!l||!!e.name.toLowerCase().includes(l.toLowerCase())),o=tC.length,c=tC.reduce((e,t)=>e+t.totalPurchases,0),x=tC.reduce((e,t)=>e+t.totalDue,0);return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Vendors"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Manage suppliers and vendor relationships"})]}),"ADMIN"===a&&(0,t.jsxs)("button",{onClick:()=>e.push("/backoffice/inventory/vendors/create"),className:"flex items-center gap-2 px-5 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95",children:[(0,t.jsx)(L.Plus,{size:16,strokeWidth:3}),"Add Vendor"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 p-6 rounded-3xl border border-slate-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-slate-900 rounded-2xl shadow-lg shadow-slate-200",children:(0,t.jsx)(e9.Users,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-slate-600 uppercase tracking-widest",children:"Total Vendors"})]}),(0,t.jsx)("div",{className:"text-3xl font-black text-slate-900 tracking-tight",children:o}),(0,t.jsx)("div",{className:"text-xs text-slate-600 font-bold mt-1",children:"Active Suppliers"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200",children:(0,t.jsx)(el.TrendingUp,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Total Purchases"})]}),(0,t.jsxs)("div",{className:"text-3xl font-black text-emerald-900 tracking-tight",children:["$",c.toFixed(2)]}),(0,t.jsx)("div",{className:"text-xs text-emerald-600 font-bold mt-1",children:"All Time"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100 p-6 rounded-3xl border border-rose-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-rose-600 rounded-2xl shadow-lg shadow-rose-200",children:(0,t.jsx)(Y.DollarSign,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-rose-600 uppercase tracking-widest",children:"Total Due"})]}),(0,t.jsxs)("div",{className:"text-3xl font-black text-rose-900 tracking-tight",children:["$",x.toFixed(2)]}),(0,t.jsx)("div",{className:"text-xs text-rose-600 font-bold mt-1",children:"Outstanding Payments"})]})]}),(0,t.jsx)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(R.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:l,onChange:e=>r(e.target.value),placeholder:"Search vendors by name...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-slate-900 transition-all"})]})}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("p",{className:"text-sm text-slate-600 font-medium",children:["Showing ",(0,t.jsx)("span",{className:"font-black text-slate-900",children:d.length})," vendors"]})}),(0,t.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Vendor Name"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contact"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total Purchases"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total Paid"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total Due"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Last Inventory Date"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===d.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(e9.Users,{size:32,className:"text-slate-300"}),(0,t.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No vendors found. Add your first vendor to get started."})]})})}):d.map(s=>(0,t.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-slate-100 rounded-xl",children:(0,t.jsx)(e9.Users,{size:16,className:"text-slate-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-black text-slate-900",children:s.name}),(0,t.jsxs)("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:["ID: ",s.id]})]})]})}),(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900",children:s.contactPerson||"-"}),(0,t.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:s.phone||"-"}),(0,t.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:s.email||"-"})]}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:"text-sm font-black text-slate-900 tabular-nums",children:["$",s.totalPurchases.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:"text-sm font-black text-emerald-600 tabular-nums",children:["$",s.totalPaid.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:`text-sm font-black tabular-nums ${s.totalDue>0?"text-rose-600":"text-slate-400"}`,children:["$",s.totalDue.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-sm font-bold text-slate-600",children:s.lastInventoryDate?new Date(s.lastInventoryDate).toLocaleDateString():"-"})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>e.push(`/backoffice/inventory/vendors/${s.id}`),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"View Vendor",children:(0,t.jsx)(e_,{size:16})}),(0,t.jsx)("button",{onClick:()=>e.push(`/backoffice/inventory/add?vendor=${s.id}`),className:"p-2 text-slate-400 hover:text-emerald-600 transition-colors",title:"Add Inventory",children:(0,t.jsx)(td,{size:16})}),i&&(0,t.jsx)("button",{onClick:()=>e.push(`/backoffice/inventory/vendors/${s.id}/edit`),className:"p-2 text-slate-400 hover:text-violet-600 transition-colors",title:"Edit Vendor",children:(0,t.jsx)(em,{size:16})}),n&&(0,t.jsx)("button",{className:"p-2 text-slate-400 hover:text-rose-600 transition-colors",title:"Delete Vendor",children:(0,t.jsx)(eg,{size:16})})]})})]},s.id))})]})})})]})}],43519);let tJ=(0,i.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["InventoryEntryDetailPage",0,()=>{let e=(0,ea.useRouter)(),{id:a}=(0,ea.useParams)(),{role:l}=(0,b.useRouteAccess)(),[r,i]=(0,s.useState)(null),[n,o]=(0,s.useState)(!0),[c,x]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1);(0,s.useEffect)(()=>{h()},[a]);let h=async()=>{if(a){o(!0);try{let e=await tB(a);i(e)}catch(e){console.error("Failed to load entry:",e)}finally{o(!1)}}},u=async()=>{if(r&&a){p(!0);try{await tG(a),await h(),alert("Inventory received successfully! Stock has been updated.")}catch(e){alert(e.message||"Failed to receive inventory")}finally{p(!1)}}},g=async()=>{if(a){p(!0);try{var t,s;let r;await (t=a,s=l||"",(r=tM.find(e=>e.id===t))?"ADMIN"!==s?Promise.reject(Error("Only admins can delete entries")):"Received"===r.inventoryStatus||"Partial"===r.inventoryStatus?Promise.reject(Error("Cannot delete received inventory")):(tM=tM.filter(e=>e.id!==t),Promise.resolve(!0)):Promise.reject(Error("Entry not found"))),alert("Entry deleted successfully"),e.push("/backoffice/inventory/entries")}catch(e){alert(e.message||"Failed to delete entry")}finally{p(!1),x(!1)}}},f=r&&("Draft"===r.inventoryStatus||"Ordered"===r.inventoryStatus),j="ADMIN"===l&&r&&"Received"!==r.inventoryStatus&&"Partial"!==r.inventoryStatus,v=r&&"Received"!==r.inventoryStatus&&"Cancelled"!==r.inventoryStatus;return n?(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(B,{className:"w-12 h-12 text-slate-400 animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading entry..."})]})}):r?(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/entries"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Inventory Entry Details"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:r.referenceNo})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all",children:[(0,t.jsx)(z.Printer,{size:14}),"Print"]}),f&&(0,t.jsxs)("button",{onClick:()=>e.push(`/backoffice/inventory/entries/${a}/edit`),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-xs font-bold hover:bg-blue-700 transition-all",children:[(0,t.jsx)(em,{size:14}),"Edit"]}),v&&(0,t.jsxs)("button",{onClick:u,disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-700 transition-all disabled:opacity-50",children:[(0,t.jsx)(tJ,{size:14}),"Receive Inventory"]}),j&&(0,t.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-xl text-xs font-bold hover:bg-rose-700 transition-all",children:[(0,t.jsx)(eg,{size:14}),"Delete"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Status"}),(0,t.jsx)("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${(e=>{switch(e){case"Draft":return"bg-slate-100 text-slate-600 border-slate-200";case"Ordered":return"bg-blue-50 text-blue-600 border-blue-200";case"Received":return"bg-emerald-50 text-emerald-600 border-emerald-200";case"Partial":return"bg-amber-50 text-amber-600 border-amber-200";case"Cancelled":return"bg-rose-50 text-rose-600 border-rose-200"}})(r.inventoryStatus)}`,children:r.inventoryStatus})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Payment Status"}),(0,t.jsx)("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${(e=>{switch(e){case"Paid":return"bg-emerald-50 text-emerald-600 border-emerald-200";case"Unpaid":return"bg-rose-50 text-rose-600 border-rose-200";case"Partial":return"bg-amber-50 text-amber-600 border-amber-200"}})(r.paymentStatus)}`,children:r.paymentStatus})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Date"}),(0,t.jsx)("div",{className:"text-sm font-black text-slate-900",children:new Date(r.inventoryDate).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Grand Total"}),(0,t.jsxs)("div",{className:"text-lg font-black text-emerald-600",children:["$",r.grandTotal.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 bg-slate-50 border-b border-slate-200",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Supplier"}),(0,t.jsx)("div",{className:"text-base font-black text-slate-900",children:r.supplierName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Business Location"}),(0,t.jsx)("div",{className:"text-base font-black text-slate-900",children:r.storeName})]}),r.payTerm&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Payment Terms"}),(0,t.jsx)("div",{className:"text-sm font-bold text-slate-600",children:r.payTerm})]}),r.attachedDocument&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Attached Document"}),(0,t.jsx)("a",{href:r.attachedDocument,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-bold text-blue-600 hover:underline",children:"View Document"})]})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"#"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Product Name"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"SKU"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Purchase Qty"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Unit Cost (Before Tax)"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Subtotal"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Tax %"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Tax Amount"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Unit Cost (After Tax)"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Line Total"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:r.products.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm font-bold text-slate-600",children:s+1}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm font-black text-slate-900",children:e.inventoryItemName}),(0,t.jsx)("td",{className:"px-4 py-3 text-xs font-bold text-slate-500",children:e.sku||"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm font-black text-slate-900 text-right tabular-nums",children:e.purchaseQuantity}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm font-bold text-slate-600 text-right tabular-nums",children:["$",e.unitCostBeforeTax.toFixed(2)]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm font-bold text-slate-600 text-right tabular-nums",children:["$",e.subtotal.toFixed(2)]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm font-bold text-slate-600 text-right tabular-nums",children:[e.taxPercentage,"%"]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm font-bold text-slate-600 text-right tabular-nums",children:["$",e.taxAmount.toFixed(2)]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm font-black text-emerald-600 text-right tabular-nums",children:["$",e.unitCostAfterTax.toFixed(2)]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-base font-black text-slate-900 text-right tabular-nums",children:["$",e.lineTotal.toFixed(2)]})]},e.id))})]})}),(0,t.jsx)("div",{className:"p-6 bg-slate-50 border-t border-slate-200",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)("div",{className:"space-y-4",children:r.additionalNotes&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Additional Notes"}),(0,t.jsx)("div",{className:"text-sm text-slate-600",children:r.additionalNotes})]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Subtotal:"}),(0,t.jsxs)("span",{className:"text-base font-black text-slate-900 tabular-nums",children:["$",r.subtotal.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Purchase Tax:"}),(0,t.jsxs)("span",{className:"text-base font-black text-slate-900 tabular-nums",children:["$",r.purchaseTax.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Product Tax:"}),(0,t.jsxs)("span",{className:"text-base font-black text-slate-900 tabular-nums",children:["$",(r.totalTax-r.purchaseTax).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Shipping Charges:"}),(0,t.jsxs)("span",{className:"text-base font-black text-slate-900 tabular-nums",children:["$",r.shippingCharges.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t-2 border-slate-300",children:[(0,t.jsx)("span",{className:"text-base font-black text-slate-900 uppercase tracking-wide",children:"Grand Total:"}),(0,t.jsxs)("span",{className:"text-2xl font-black text-emerald-600 tabular-nums",children:["$",r.grandTotal.toFixed(2)]})]}),r.paymentDue>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-rose-600",children:"Payment Due:"}),(0,t.jsxs)("span",{className:"text-lg font-black text-rose-600 tabular-nums",children:["$",r.paymentDue.toFixed(2)]})]})]})]})}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-200",children:[(0,t.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-wider mb-4",children:"Audit Trail"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600 font-medium",children:"Created by:"}),(0,t.jsx)("span",{className:"font-bold text-slate-900",children:r.createdByName})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600 font-medium",children:"Created at:"}),(0,t.jsx)("span",{className:"font-bold text-slate-900",children:new Date(r.createdAt).toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600 font-medium",children:"Last updated:"}),(0,t.jsx)("span",{className:"font-bold text-slate-900",children:new Date(r.updatedAt).toLocaleString()})]})]})]})]}),c&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full mx-4 shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsx)("div",{className:"p-3 bg-rose-100 rounded-2xl",children:(0,t.jsx)(d.AlertCircle,{size:24,className:"text-rose-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-black text-slate-900",children:"Delete Entry?"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"This action cannot be undone."})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>x(!1),disabled:m,className:"flex-1 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:g,disabled:m,className:"flex-1 px-4 py-2 bg-rose-600 text-white rounded-xl text-sm font-bold hover:bg-rose-700 transition-all disabled:opacity-50",children:m?"Deleting...":"Delete"})]})]})})]}):(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(d.AlertCircle,{className:"w-12 h-12 text-rose-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-600 font-medium",children:"Entry not found"}),(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/entries"),className:"mt-4 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold",children:"Back to Entries"})]})})}],98228);let tX=(0,i.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["InventoryItemDetailPage",0,()=>{let e=(0,ea.useRouter)(),{id:a}=(0,ea.useParams)(),[l,r]=(0,s.useState)(null),[i,n]=(0,s.useState)([]),[d,o]=(0,s.useState)(!0),[c,x]=(0,s.useState)(!1),[m,p]=(0,s.useState)(0),[h,u]=(0,s.useState)(""),[b,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{f(),j()},[a]);let f=async()=>{if(a){o(!0);try{let e=await tq(a);r(e)}catch(e){console.error("Failed to load item:",e)}finally{o(!1)}}},j=async()=>{if(a)try{let e,t=await (e=a,Promise.resolve(t$.filter(t=>t.inventoryItemId===e)));n(t)}catch(e){console.error("Failed to load ledger:",e)}},v=async()=>{if(!a||!h.trim()||0===m)return void alert("Please enter quantity and reason");g(!0);try{await ((e,t,s,a)=>{let l=tz.find(t=>t.id===e);if(!l)return Promise.reject(Error("Item not found"));l.currentStock+=t,l.updatedAt=new Date().toISOString();let r={id:tV("LED"),inventoryItemId:l.id,inventoryItemName:l.name,changeQuantity:t,sourceType:"adjustment",sourceId:a,sourceReference:s,storeId:"STORE001",storeName:"Main Store",balanceAfter:l.currentStock,createdAt:new Date().toISOString()};return t$.push(r),Promise.resolve(l)})(a,m,h,"USER001"),await f(),await j(),x(!1),p(0),u(""),alert("Stock adjusted successfully")}catch(e){alert(e.message||"Failed to adjust stock")}finally{g(!1)}};if(d||!l)return(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(X.Package,{className:"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading item..."})]})});let N=l.currentStock<=l.lowStockThreshold,y=l.currentStock*l.averageCost;return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/list"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:l.name}),(0,t.jsxs)("p",{className:"text-sm text-slate-500 font-medium",children:["SKU: ",l.sku]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-violet-600 text-white rounded-xl text-xs font-bold hover:bg-violet-700 transition-all",children:[(0,t.jsx)(el.TrendingUp,{size:14}),"Adjust Stock"]}),(0,t.jsxs)("button",{onClick:()=>e.push(`/backoffice/inventory/items/${a}/edit`),className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-700 transition-all",children:[(0,t.jsx)(em,{size:14}),"Edit Item"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:`p-6 rounded-3xl border shadow-sm ${N?"bg-gradient-to-br from-rose-50 to-rose-100 border-rose-200":"bg-gradient-to-br from-emerald-50 to-emerald-100 border-emerald-200"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-2xl shadow-lg ${N?"bg-rose-600 shadow-rose-200":"bg-emerald-600 shadow-emerald-200"}`,children:(0,t.jsx)(X.Package,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:`text-xs font-black uppercase tracking-widest ${N?"text-rose-600":"text-emerald-600"}`,children:"Current Stock"})]}),(0,t.jsx)("div",{className:`text-3xl font-black tracking-tight ${N?"text-rose-900":"text-emerald-900"}`,children:l.currentStock.toFixed(2)}),(0,t.jsxs)("div",{className:`text-xs font-bold mt-1 ${N?"text-rose-600":"text-emerald-600"}`,children:[l.baseUnit,N&&" - LOW STOCK!"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,t.jsx)(el.TrendingUp,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-blue-600 uppercase tracking-widest",children:"Average Cost"})]}),(0,t.jsxs)("div",{className:"text-3xl font-black text-blue-900 tracking-tight",children:["$",l.averageCost.toFixed(2)]}),(0,t.jsxs)("div",{className:"text-xs text-blue-600 font-bold mt-1",children:["Per ",l.baseUnit]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-violet-50 to-violet-100 p-6 rounded-3xl border border-violet-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-violet-600 rounded-2xl shadow-lg shadow-violet-200",children:(0,t.jsx)(X.Package,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-violet-600 uppercase tracking-widest",children:"Stock Value"})]}),(0,t.jsxs)("div",{className:"text-3xl font-black text-violet-900 tracking-tight",children:["$",y.toFixed(2)]}),(0,t.jsx)("div",{className:"text-xs text-violet-600 font-bold mt-1",children:"Total Value"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-3xl border border-amber-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-amber-600 rounded-2xl shadow-lg shadow-amber-200",children:(0,t.jsx)(tS,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-amber-600 uppercase tracking-widest",children:"Low Stock Alert"})]}),(0,t.jsx)("div",{className:"text-3xl font-black text-amber-900 tracking-tight",children:l.lowStockThreshold}),(0,t.jsx)("div",{className:"text-xs text-amber-600 font-bold mt-1",children:"Threshold"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-black text-slate-900 mb-6 uppercase tracking-tight",children:"Item Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Item Name"}),(0,t.jsx)("div",{className:"text-base font-black text-slate-900",children:l.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"SKU"}),(0,t.jsx)("div",{className:"text-base font-bold text-slate-600",children:l.sku})]}),l.description&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Description"}),(0,t.jsx)("div",{className:"text-sm text-slate-600",children:l.description})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Base Unit"}),(0,t.jsx)("div",{className:"text-base font-bold text-slate-600",children:l.baseUnit})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Status"}),(0,t.jsx)("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${"Active"===l.status?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-slate-100 text-slate-400 border-slate-200"}`,children:l.status})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(O.FileText,{size:20,className:"text-slate-600"}),(0,t.jsx)("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:"Stock Movement History"})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Source"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reference"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Change"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Balance After"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===i.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:5,className:"px-6 py-12 text-center",children:[(0,t.jsx)(O.FileText,{size:32,className:"text-slate-300 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No stock movements yet"})]})}):i.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:new Date(e.createdAt).toLocaleString()}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${"inventory"===e.sourceType?"bg-emerald-50 text-emerald-600 border-emerald-200":"sale"===e.sourceType?"bg-blue-50 text-blue-600 border-blue-200":"return"===e.sourceType?"bg-rose-50 text-rose-600 border-rose-200":"bg-violet-50 text-violet-600 border-violet-200"}`,children:e.sourceType})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:e.sourceReference}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("span",{className:`text-base font-black tabular-nums ${e.changeQuantity>0?"text-emerald-600":"text-rose-600"}`,children:[e.changeQuantity>0?"+":"",e.changeQuantity.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsx)("span",{className:"text-base font-black text-slate-900 tabular-nums",children:e.balanceAfter.toFixed(2)})})]},e.id))})]})})]}),c&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full mx-4 shadow-2xl",children:[(0,t.jsx)("h3",{className:"text-xl font-black text-slate-900 mb-6",children:"Adjust Stock"}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Adjustment Quantity"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>p(Math.max(-l.currentStock,m-1)),className:"p-2 bg-slate-100 rounded-xl hover:bg-slate-200",children:(0,t.jsx)(tX,{size:16})}),(0,t.jsx)("input",{type:"number",value:m,onChange:e=>p(parseFloat(e.target.value)||0),className:"flex-1 px-4 py-2 border border-slate-200 rounded-xl text-center text-lg font-black",placeholder:"0"}),(0,t.jsx)("button",{onClick:()=>p(m+1),className:"p-2 bg-slate-100 rounded-xl hover:bg-slate-200",children:(0,t.jsx)(L.Plus,{size:16})})]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["New stock: ",(l.currentStock+m).toFixed(2)," ",l.baseUnit]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Reason (Required)"}),(0,t.jsx)("textarea",{value:h,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-slate-200 rounded-xl text-sm",rows:3,placeholder:"Enter reason for adjustment..."})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>{x(!1),p(0),u("")},disabled:b,className:"flex-1 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:v,disabled:b||!h.trim()||0===m,className:"flex-1 px-4 py-2 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all disabled:opacity-50",children:b?"Adjusting...":"Adjust Stock"})]})]})})]})}],31990),e.s(["RecipeDetailPage",0,()=>{let e=(0,ea.useRouter)(),{id:a}=(0,ea.useParams)(),[l,r]=(0,s.useState)(null),[i,n]=(0,s.useState)(!0),[o,c]=(0,s.useState)(!1),[x,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{p()},[a]);let p=async()=>{if(a){n(!0);try{let e=await tQ(a);r(e)}catch(e){console.error("Failed to load recipe:",e)}finally{n(!1)}}},h=async()=>{if(a){m(!0);try{let t=await (e=>{let t=tU.find(t=>t.id===e);if(!t)return Promise.reject(Error("Recipe not found"));let s={...t,id:tV("REC"),name:`${t.name} (Copy)`,usedByProductCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return tU.push(s),Promise.resolve(s)})(a);alert("Recipe duplicated successfully"),e.push(`/backoffice/inventory/recipes/${t.id}`)}catch(e){alert(e.message||"Failed to duplicate recipe")}finally{m(!1)}}},u=async()=>{if(a){m(!0);try{var t;let s;await (t=a,(s=tU.find(e=>e.id===t))?s.usedByProductCount>0?Promise.reject(Error("Cannot delete recipe attached to products")):(tU=tU.filter(e=>e.id!==t),Promise.resolve(!0)):Promise.reject(Error("Recipe not found"))),alert("Recipe deleted successfully"),e.push("/backoffice/inventory/recipes")}catch(e){alert(e.message||"Failed to delete recipe")}finally{m(!1),c(!1)}}};if(i||!l)return(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(eC,{className:"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading recipe..."})]})});let b=0===l.usedByProductCount;return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/recipes"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:l.name}),l.description&&(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:l.description})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:h,disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-violet-600 text-white rounded-xl text-xs font-bold hover:bg-violet-700 transition-all disabled:opacity-50",children:[(0,t.jsx)(tY,{size:14}),"Duplicate"]}),(0,t.jsxs)("button",{onClick:()=>e.push(`/backoffice/inventory/recipes/${a}/edit`),className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-700 transition-all",children:[(0,t.jsx)(em,{size:14}),"Edit"]}),(0,t.jsxs)("button",{onClick:()=>c(!0),disabled:!b,className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-xl text-xs font-bold hover:bg-rose-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",title:b?"Delete recipe":"Cannot delete - recipe is attached to products",children:[(0,t.jsx)(eg,{size:14}),"Delete"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-3xl border border-orange-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-orange-600 rounded-2xl shadow-lg shadow-orange-200",children:(0,t.jsx)(X.Package,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-orange-600 uppercase tracking-widest",children:"Ingredients"})]}),(0,t.jsx)("div",{className:"text-3xl font-black text-orange-900 tracking-tight",children:l.ingredients.length}),(0,t.jsx)("div",{className:"text-xs text-orange-600 font-bold mt-1",children:"Total Items"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200",children:(0,t.jsx)(eC,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Recipe Cost"})]}),(0,t.jsxs)("div",{className:"text-3xl font-black text-emerald-900 tracking-tight",children:["$",l.totalRecipeCost.toFixed(2)]}),(0,t.jsx)("div",{className:"text-xs text-emerald-600 font-bold mt-1",children:"Auto-Calculated"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,t.jsx)(X.Package,{size:20,className:"text-white"})}),(0,t.jsx)("span",{className:"text-xs font-black text-blue-600 uppercase tracking-widest",children:"Used By"})]}),(0,t.jsx)("div",{className:"text-3xl font-black text-blue-900 tracking-tight",children:l.usedByProductCount}),(0,t.jsx)("div",{className:"text-xs text-blue-600 font-bold mt-1",children:"Products"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-black text-slate-900 mb-6 uppercase tracking-tight",children:"Recipe Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Recipe Name"}),(0,t.jsx)("div",{className:"text-base font-black text-slate-900",children:l.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Status"}),(0,t.jsx)("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${"Active"===l.status?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-slate-100 text-slate-400 border-slate-200"}`,children:l.status})]}),l.description&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Description"}),(0,t.jsx)("div",{className:"text-sm text-slate-600",children:l.description})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,t.jsx)("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:"Ingredients (Bill of Materials)"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"#"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ingredient"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Unit"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Qty Used"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Wastage %"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Effective Qty"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Unit Cost"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Line Cost"})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-slate-50",children:[l.ingredients.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:s+1}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:e.inventoryItemName}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:e.baseUnit}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-black text-slate-900 text-right tabular-nums",children:e.quantityUsed.toFixed(2)}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm font-bold text-amber-600 text-right tabular-nums",children:[e.wastagePercentage,"%"]}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600 text-right tabular-nums",children:e.effectiveQuantity.toFixed(2)}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600 text-right tabular-nums",children:["$",e.unitCost.toFixed(2)]}),(0,t.jsxs)("td",{className:"px-6 py-4 text-base font-black text-emerald-600 text-right tabular-nums",children:["$",e.lineCost.toFixed(2)]})]},e.id)),(0,t.jsxs)("tr",{className:"bg-slate-50 font-black",children:[(0,t.jsx)("td",{colSpan:7,className:"px-6 py-4 text-right text-sm uppercase tracking-wider text-slate-900",children:"Total Recipe Cost:"}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right text-xl text-emerald-600 tabular-nums",children:["$",l.totalRecipeCost.toFixed(2)]})]})]})]})})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-3xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,t.jsx)(d.AlertCircle,{size:20,className:"text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-black text-blue-900 tracking-tight mb-2",children:"Recipe Calculation Rules"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm text-blue-700 font-medium",children:[(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Effective Quantity"})," = Quantity Used + (Quantity Used Ã— Wastage %)"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Line Cost"})," = Effective Quantity Ã— Unit Cost"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Total Recipe Cost"})," = Sum of all Line Costs (auto-calculated)"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,t.jsxs)("span",{children:["Unit costs are fetched from ",(0,t.jsx)("strong",{children:"Inventory Items"})," (average cost)"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"NO manual cost overrides"})," allowed"]})]})]})]})]})}),o&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full mx-4 shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsx)("div",{className:"p-3 bg-rose-100 rounded-2xl",children:(0,t.jsx)(d.AlertCircle,{size:24,className:"text-rose-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-black text-slate-900",children:"Delete Recipe?"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"This action cannot be undone."})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>c(!1),disabled:x,className:"flex-1 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:u,disabled:x,className:"flex-1 px-4 py-2 bg-rose-600 text-white rounded-xl text-sm font-bold hover:bg-rose-700 transition-all disabled:opacity-50",children:x?"Deleting...":"Delete"})]})]})})]})}],79613),e.s(["ReturnDetailPage",0,()=>{let e=(0,ea.useRouter)(),{id:a}=(0,ea.useParams)(),[l,r]=(0,s.useState)(null),[i,n]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{(async()=>{if(a)try{let e,t=await (e=a,Promise.resolve(tF.find(t=>t.id===e)||null));r(t)}catch(e){console.error("Failed to load return:",e)}finally{n(!1)}})()},[a]),i)?(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(A.RotateCcw,{className:"w-12 h-12 text-slate-400 animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading return details..."})]})}):l?(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/returns"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Return Details"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:l.referenceNo})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all",children:[(0,t.jsx)(z.Printer,{size:14}),"Print"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Type"}),(0,t.jsx)("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${(e=>{switch(e){case"Supplier Return":return"bg-blue-50 text-blue-600 border-blue-200";case"Damaged":return"bg-rose-50 text-rose-600 border-rose-200";case"Expired":return"bg-amber-50 text-amber-600 border-amber-200";case"Adjustment":return"bg-violet-50 text-violet-600 border-violet-200";default:return"bg-slate-50 text-slate-600 border-slate-200"}})(l.returnType)}`,children:l.returnType})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Date"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(I.Calendar,{size:16,className:"text-slate-400"}),(0,t.jsx)("span",{className:"text-sm font-black text-slate-900",children:new Date(l.returnDate).toLocaleDateString()})]})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Total Amount"}),(0,t.jsxs)("div",{className:"text-lg font-black text-rose-600",children:["$",l.totalAmount.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Processed By"}),(0,t.jsx)("div",{className:"text-sm font-black text-slate-900",children:l.createdByName})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 bg-slate-50 border-b border-slate-200",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Business Location"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(G,{size:16,className:"text-slate-400"}),(0,t.jsx)("span",{className:"text-base font-black text-slate-900",children:l.storeName})]})]}),l.supplierName&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Supplier"}),(0,t.jsx)("div",{className:"text-base font-black text-slate-900",children:l.supplierName})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Reason / Notes"}),(0,t.jsx)("div",{className:"p-4 bg-white rounded-xl border border-slate-200 text-sm text-slate-600",children:l.reason||"No reason provided."})]})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"#"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Item"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Quantity"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Unit Cost"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Line Total"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:l.products.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:s+1}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:e.inventoryItemName||"Item "+e.inventoryItemId}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-black text-slate-900 text-right tabular-nums",children:e.quantity}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600 text-right tabular-nums",children:["$",e.unitCost.toFixed(2)]}),(0,t.jsxs)("td",{className:"px-6 py-4 text-base font-black text-rose-600 text-right tabular-nums",children:["$",e.lineTotal.toFixed(2)]})]},e.inventoryItemId))}),(0,t.jsx)("tfoot",{className:"bg-slate-50 border-t border-slate-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{colSpan:4,className:"px-6 py-4 text-right text-sm font-black text-slate-900 uppercase tracking-wide",children:"Grand Total"}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right text-xl font-black text-rose-600 tabular-nums",children:["$",l.totalAmount.toFixed(2)]})]})})]})}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-200",children:[(0,t.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-wider mb-4",children:"Audit Trail"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600 font-medium",children:"Processed by:"}),(0,t.jsx)("span",{className:"font-bold text-slate-900",children:l.createdByName})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600 font-medium",children:"Processed at:"}),(0,t.jsx)("span",{className:"font-bold text-slate-900",children:new Date(l.createdAt).toLocaleString()})]})]})]})]})]}):(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(d.AlertCircle,{className:"w-12 h-12 text-rose-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-600 font-medium",children:"Return not found"}),(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/returns"),className:"mt-4 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold",children:"Back to Returns"})]})})}],13090),e.s(["VendorDetailPage",0,()=>{let e=(0,ea.useRouter)(),{id:a}=(0,ea.useParams)(),[l,r]=(0,s.useState)(null),[i,n]=(0,s.useState)([]),[d,o]=(0,s.useState)([]),[c,x]=(0,s.useState)(!0),[m,p]=(0,s.useState)("overview");return((0,s.useEffect)(()=>{(async()=>{if(a)try{var e;let t,s,[l,i,d]=await Promise.all([t_(a),(t=a,Promise.resolve(tM.filter(e=>e.supplierId===t))),(e={supplierId:a},s=[...tF],e?.returnType&&(s=s.filter(t=>t.returnType===e.returnType)),e?.supplierId&&(s=s.filter(t=>t.supplierId===e.supplierId)),e?.dateFrom&&(s=s.filter(t=>new Date(t.returnDate)>=new Date(e.dateFrom))),e?.dateTo&&(s=s.filter(t=>new Date(t.returnDate)<=new Date(e.dateTo))),Promise.resolve(s))]);r(l),n(i),o(d)}catch(e){console.error("Failed to load vendor data:",e)}finally{x(!1)}})()},[a]),c)?(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(e9.Users,{className:"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading vendor details..."})]})}):l?(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/vendors"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:l.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-black uppercase tracking-wider border ${"Active"===l.status?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-slate-100 text-slate-400 border-slate-200"}`,children:l.status}),(0,t.jsxs)("span",{className:"text-xs text-slate-400 font-bold uppercase tracking-tight",children:["ID: ",l.id]})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("button",{onClick:()=>e.push(`/backoffice/inventory/vendors/${a}/edit`),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all",children:[(0,t.jsx)(em,{size:14}),"Edit"]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 border-b border-slate-100",children:[(0,t.jsx)("button",{onClick:()=>p("overview"),className:`px-4 py-3 text-sm font-bold rounded-t-xl transition-all ${"overview"===m?"bg-slate-900 text-white shadow-sm":"text-slate-500 hover:text-slate-900 hover:bg-slate-50"}`,children:"Overview"}),(0,t.jsxs)("button",{onClick:()=>p("transactions"),className:`px-4 py-3 text-sm font-bold rounded-t-xl transition-all ${"transactions"===m?"bg-slate-900 text-white shadow-sm":"text-slate-500 hover:text-slate-900 hover:bg-slate-50"}`,children:["Transactions (",i.length,")"]}),(0,t.jsxs)("button",{onClick:()=>p("returns"),className:`px-4 py-3 text-sm font-bold rounded-t-xl transition-all ${"returns"===m?"bg-slate-900 text-white shadow-sm":"text-slate-500 hover:text-slate-900 hover:bg-slate-50"}`,children:["Returns (",d.length,")"]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:["overview"===m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Total Purchases"}),(0,t.jsxs)("div",{className:"text-3xl font-black text-slate-900 tabular-nums",children:["$",l.totalPurchases.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Amount Paid"}),(0,t.jsxs)("div",{className:"text-3xl font-black text-emerald-600 tabular-nums",children:["$",l.totalPaid.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Outstanding Balance"}),(0,t.jsxs)("div",{className:"text-3xl font-black text-rose-600 tabular-nums",children:["$",l.totalDue.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden p-6",children:[(0,t.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-6",children:"Contact Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[l.contactPerson&&(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-slate-50 rounded-2xl",children:(0,t.jsx)(e9.Users,{size:20,className:"text-slate-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Contact Person"}),(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900",children:l.contactPerson})]})]}),l.phone&&(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-slate-50 rounded-2xl",children:(0,t.jsx)(eH,{size:20,className:"text-slate-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Phone"}),(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900",children:l.phone})]})]}),l.email&&(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-slate-50 rounded-2xl",children:(0,t.jsx)(eX,{size:20,className:"text-slate-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Email"}),(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900",children:l.email})]})]}),l.address&&(0,t.jsxs)("div",{className:"flex items-start gap-4 md:col-span-2",children:[(0,t.jsx)("div",{className:"p-3 bg-slate-50 rounded-2xl",children:(0,t.jsx)(G,{size:20,className:"text-slate-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Address"}),(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900 max-w-md",children:l.address})]})]})]})]})]}),"transactions"===m&&(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,t.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Transaction History"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reference No"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Paid"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Balance"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===i.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-slate-400 font-medium",children:"No transactions found."})}):i.map(s=>(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50 cursor-pointer transition-colors",onClick:()=>e.push(`/backoffice/inventory/entries/${s.id}`),children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:new Date(s.inventoryDate).toLocaleDateString()}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-sm font-black text-blue-600",children:s.referenceNo})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold",children:s.inventoryStatus})}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right text-sm font-bold text-slate-900 tabular-nums",children:["$",s.grandTotal.toFixed(2)]}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right text-sm font-bold text-emerald-600 tabular-nums",children:["$",(s.grandTotal-s.paymentDue).toFixed(2)]}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right text-sm font-bold text-rose-600 tabular-nums",children:["$",s.paymentDue.toFixed(2)]})]},s.id))})]})})]}),"returns"===m&&(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,t.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Vendor Returns"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reference No"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Type"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Amount"}),(0,t.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reason"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===d.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-sm text-slate-400 font-medium",children:"No returns recorded for this vendor."})}):d.map(s=>(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50 cursor-pointer transition-colors",onClick:()=>e.push(`/backoffice/inventory/returns/${s.id}`),children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:new Date(s.returnDate).toLocaleDateString()}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-sm font-black text-rose-600",children:s.referenceNo})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold",children:s.returnType})}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right text-sm font-bold text-slate-900 tabular-nums",children:["$",s.totalAmount.toFixed(2)]}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-500",children:s.reason||"-"})]},s.id))})]})})]})]})]}):(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-slate-600 font-medium",children:"Vendor not found"}),(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/vendors"),className:"mt-4 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold",children:"Back to Vendors"})]})})}],55942);let t0=["g","kg","ml","l","oz","lb","piece"],t1=(e,t,s)=>{if(t===s)return e;if("Kilogram"===s){if("g"===t)return e/1e3;if("lb"===t)return .453592*e;if("oz"===t)return .0283495*e}if("Gram"===s&&"kg"===t)return 1e3*e;if("Liter"===s){if("ml"===t)return e/1e3;if("fl oz"===t)return .0295735*e}return"Milliliter"===s&&"l"===t?1e3*e:("g"===t||"ml"===t)&&("kg"===s||"l"===s)?e/1e3:("kg"===t||"l"===t)&&("g"===s||"ml"===s)?1e3*e:e};e.s(["CreateRecipePage",0,()=>{let e=(0,ea.useRouter)(),[a,l]=(0,s.useState)(!1),[r,i]=(0,s.useState)(""),[n,d]=(0,s.useState)(""),[o,c]=(0,s.useState)("Active"),[x,m]=(0,s.useState)([]),[p,h]=(0,s.useState)(""),[u,b]=(0,s.useState)([]),[g,f]=(0,s.useState)([]);(0,s.useEffect)(()=>{j()},[]);let j=async()=>{try{let e=await tW({status:"Active"});f(e)}catch(e){console.error("Failed to load inventory items:",e)}finally{}};(0,s.useEffect)(()=>{p.trim()?b(g.filter(e=>e.name.toLowerCase().includes(p.toLowerCase())||e.sku.toLowerCase().includes(p.toLowerCase())).slice(0,5)):b([])},[p,g]);let v=(e,t,s)=>{m(x.map(a=>a.tempId===e?{...a,[t]:s}:a))},N=x.reduce((e,t)=>{let s;return e+((s=t1(t.quantityUsed,t.usageUnit,t.baseUnit))+s*t.wastagePercentage/100)*t.unitCost},0),y=x.length,w=async()=>{if(!r.trim())return void alert("Recipe name is required");if(0===x.length)return void alert("Please add at least one ingredient");l(!0);try{var t,s;let a,l,i,d={name:r,description:n,status:o,ingredients:x.map(e=>({inventoryItemId:e.inventoryItemId,baseUnit:e.baseUnit,quantityUsed:e.quantityUsed,wastagePercentage:e.wastagePercentage}))};await (t=d,s="TENANT001",l=(a=t.ingredients.map(e=>{let t=tz.find(t=>t.id===e.inventoryItemId),s=e.quantityUsed+e.quantityUsed*e.wastagePercentage/100,a=s*(t?.averageCost||0);return{id:tV("RI"),...e,inventoryItemName:t?.name||"",baseUnit:t?.baseUnit||"Piece",unitCost:t?.averageCost||0,effectiveQuantity:s,lineCost:a}})).reduce((e,t)=>e+t.lineCost,0),i={id:tV("REC"),...t,ingredients:a,totalRecipeCost:l,usedByProductCount:0,tenantId:s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},tU.push(i),Promise.resolve(i)),alert("Recipe created successfully!"),e.push("/backoffice/inventory/recipes")}catch(e){alert("Failed to create recipe: "+e.message)}finally{l(!1)}};return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/recipes"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Create New Recipe"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Define BOM and costings"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/recipes"),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),(0,t.jsxs)("button",{onClick:w,disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-orange-200 hover:from-orange-700 hover:to-orange-600 transition-all active:scale-95 disabled:opacity-50",children:[(0,t.jsx)(H,{size:16}),a?"Saving...":"Save Recipe"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-6",children:[(0,t.jsxs)("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight flex items-center gap-2",children:[(0,t.jsx)(eu,{size:18,className:"text-slate-400"}),"Basic Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Recipe Name *"}),(0,t.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"e.g., Spicy Chicken Burger Patch",className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 transition-all outline-none"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:n,onChange:e=>d(e.target.value),rows:2,placeholder:"Internal notes about preparation...",className:"w-full p-4 rounded-xl border border-slate-200 font-medium text-slate-900 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 transition-all outline-none resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Status"}),(0,t.jsx)("div",{className:"flex p-1 bg-slate-100 rounded-xl",children:["Active","Inactive"].map(e=>(0,t.jsx)("button",{onClick:()=>c(e),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${o===e?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight flex items-center gap-2",children:[(0,t.jsx)(eC,{size:18,className:"text-slate-400"}),"Ingredients"]}),(0,t.jsxs)("div",{className:"relative w-72 group",children:[(0,t.jsx)(R.Search,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-colors"}),(0,t.jsx)("input",{type:"text",placeholder:"Search specific ingredient...",value:p,onChange:e=>h(e.target.value),onFocus:()=>{},onBlur:()=>{},className:"w-full h-10 pl-11 pr-4 bg-slate-50 rounded-xl border-none font-bold text-sm focus:ring-2 focus:ring-orange-500/20 text-slate-900 placeholder:text-slate-400"}),p&&u.length>0&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden z-20",children:u.map(e=>(0,t.jsxs)("button",{onClick:()=>{x.some(t=>t.inventoryItemId===e.id)?alert("Ingredient already added to recipe"):(m([...x,{tempId:Date.now().toString(),inventoryItemId:e.id,inventoryItemName:e.name,baseUnit:e.baseUnit,usageUnit:"Kilogram"===e.baseUnit?"g":"Liter"===e.baseUnit?"ml":"piece",unitCost:e.averageCost,quantityUsed:1,wastagePercentage:0}]),h(""),b([]))},className:"w-full text-left p-3 hover:bg-orange-50 flex items-center justify-between group/item",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900 group-hover/item:text-orange-700",children:e.name}),(0,t.jsx)("div",{className:"text-xs font-medium text-slate-500",children:e.sku})]}),(0,t.jsxs)("div",{className:"text-xs font-bold text-slate-400 bg-slate-100 px-2 py-1 rounded-lg",children:["Stock: ",e.currentStock," ",e.baseUnit]})]},e.id))})]})]}),0===x.length?(0,t.jsxs)("div",{className:"p-12 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(eC,{size:32,className:"text-orange-400"})}),(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"No Ingredients Added"}),(0,t.jsx)("p",{className:"text-slate-500 max-w-sm mx-auto",children:"Search for inventory items above to build your recipe bill of materials."})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[(0,t.jsx)("th",{className:"px-6 py-4",children:"Ingredient"}),(0,t.jsx)("th",{className:"px-4 py-4 text-right",children:"Unit Cost (Base)"}),(0,t.jsx)("th",{className:"px-4 py-4 text-center",children:"Usage Qty / Unit"}),(0,t.jsx)("th",{className:"px-4 py-4 text-center",children:"Wastage %"}),(0,t.jsx)("th",{className:"px-4 py-4 text-right",children:"Converted Qty (Base)"}),(0,t.jsx)("th",{className:"px-4 py-4 text-right",children:"Line Cost"}),(0,t.jsx)("th",{className:"px-4 py-4"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:x.map(e=>{let s=t1(e.quantityUsed,e.usageUnit,e.baseUnit),a=s+s*e.wastagePercentage/100,l=a*e.unitCost;return(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"text-sm font-black text-slate-900",children:e.inventoryItemName}),(0,t.jsxs)("div",{className:"text-[10px] text-slate-400 font-medium",children:["Base: ",e.baseUnit]})]}),(0,t.jsxs)("td",{className:"px-4 py-4 text-right",children:[(0,t.jsxs)("div",{className:"text-sm font-bold text-slate-600",children:["$",e.unitCost.toFixed(2)]}),(0,t.jsxs)("div",{className:"text-[10px] text-slate-400",children:["per ",e.baseUnit]})]}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.quantityUsed,onChange:t=>v(e.tempId,"quantityUsed",parseFloat(t.target.value)||0),className:"w-20 h-10 px-2 text-center bg-white border border-slate-200 rounded-lg font-bold text-slate-900 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none"}),(0,t.jsx)("select",{value:e.usageUnit,onChange:t=>v(e.tempId,"usageUnit",t.target.value),className:"h-10 px-2 bg-slate-50 border border-slate-200 rounded-lg text-xs font-bold text-slate-600 outline-none",children:t0.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)("input",{type:"number",min:"0",max:"100",value:e.wastagePercentage,onChange:t=>v(e.tempId,"wastagePercentage",parseFloat(t.target.value)||0),className:"w-16 h-10 px-2 text-center bg-white border border-slate-200 rounded-lg font-bold text-amber-600 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none"}),(0,t.jsx)("span",{className:"text-xs font-black text-slate-400",children:"%"})]})}),(0,t.jsxs)("td",{className:"px-4 py-4 text-right",children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-600",children:a.toFixed(4)}),(0,t.jsxs)("div",{className:"text-[10px] text-slate-400",children:[e.baseUnit," (incl. waste)"]})]}),(0,t.jsx)("td",{className:"px-4 py-4 text-right",children:(0,t.jsxs)("div",{className:"text-sm font-black text-emerald-600",children:["$",l.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-4 py-4 text-right",children:(0,t.jsx)("button",{onClick:()=>{var t;return t=e.tempId,void m(x.filter(e=>e.tempId!==t))},className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:(0,t.jsx)(eg,{size:16})})})]},e.tempId)})})]})})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight flex items-center gap-2",children:[(0,t.jsx)(G,{size:18,className:"text-slate-400"}),"Recipe Usage Locations"]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-900 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-200 transition-colors",children:[(0,t.jsx)(L.Plus,{size:14})," Link Item"]})]}),(0,t.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 font-medium mb-3",children:"This recipe is linked to the following menu items:"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-slate-100 shadow-sm group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center text-orange-600 text-xs font-black",children:"P1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900",children:"Veggie Supreme Pizza"}),(0,t.jsx)("div",{className:"text-[10px] text-slate-500",children:"Variant: Medium"})]})]}),(0,t.jsx)("button",{className:"p-2 text-slate-300 hover:text-rose-500 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:(0,t.jsx)(V,{size:16})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-slate-100 shadow-sm group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center text-orange-600 text-xs font-black",children:"P1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900",children:"Veggie Supreme Pizza"}),(0,t.jsx)("div",{className:"text-[10px] text-slate-500",children:"Variant: Large"})]})]}),(0,t.jsx)("button",{className:"p-2 text-slate-300 hover:text-rose-500 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:(0,t.jsx)(V,{size:16})})]})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 text-white p-8 rounded-3xl shadow-xl shadow-slate-200/50 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-32 bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6 border-b border-white/10 pb-4",children:"Cost Analysis"}),(0,t.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Ingredient Count"}),(0,t.jsx)("span",{className:"font-bold",children:y})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Avg Cost / Item"}),(0,t.jsxs)("span",{className:"font-bold",children:["$",x.length>0?(N/x.length).toFixed(2):"0.00"]})]})]}),(0,t.jsxs)("div",{className:"pt-6 border-t border-white/10",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Total Recipe Cost"}),(0,t.jsxs)("div",{className:"text-4xl font-black tracking-tight text-white mb-1",children:["$",N.toFixed(2)]}),(0,t.jsx)("p",{className:"text-xs font-medium text-emerald-400",children:"Auto-calculated from ingredients"})]})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-6 rounded-3xl border border-blue-100",children:[(0,t.jsxs)("h3",{className:"text-sm font-black text-blue-900 uppercase tracking-widest mb-4 flex items-center gap-2",children:[(0,t.jsx)(eu,{size:16}),"Recipe Rules"]}),(0,t.jsxs)("ul",{className:"space-y-3",children:[(0,t.jsxs)("li",{className:"flex gap-3 text-sm text-blue-800",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-1.5 flex-shrink-0"}),(0,t.jsx)("span",{children:"Costs are derived directly from Inventory Items (Average Cost)."})]}),(0,t.jsxs)("li",{className:"flex gap-3 text-sm text-blue-800",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-1.5 flex-shrink-0"}),(0,t.jsx)("span",{children:"Wastage % increases the effective quantity and cost but deducts base quantity from stock."})]}),(0,t.jsxs)("li",{className:"flex gap-3 text-sm text-blue-800",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-1.5 flex-shrink-0"}),(0,t.jsxs)("span",{children:["Manual cost overrides are ",(0,t.jsx)("strong",{children:"disabled"})," to ensure data integrity."]})]})]})]})]})]})]})}],61109),e.s(["EditRecipePage",0,()=>{let e=(0,ea.useRouter)(),{id:a}=(0,ea.useParams)(),[l,r]=(0,s.useState)(!0),[i,n]=(0,s.useState)(!1),[o,c]=(0,s.useState)(""),[x,m]=(0,s.useState)(""),[p,h]=(0,s.useState)("Active"),[u,b]=(0,s.useState)([]),[g,f]=(0,s.useState)(0),[j,v]=(0,s.useState)(""),[N,y]=(0,s.useState)(!1),[w,k]=(0,s.useState)([]),[S,C]=(0,s.useState)([]);(0,s.useEffect)(()=>{(async()=>{if(a){r(!0);try{let[t,s]=await Promise.all([tQ(a),tW({status:"Active"})]);if(!t){alert("Recipe not found"),e.push("/backoffice/inventory/recipes");return}C(s),c(t.name),m(t.description||""),h(t.status),f(t.usedByProductCount),b(t.ingredients.map(e=>({tempId:e.id,inventoryItemId:e.inventoryItemId,inventoryItemName:e.inventoryItemName,baseUnit:e.baseUnit,unitCost:e.unitCost,quantityUsed:e.quantityUsed,wastagePercentage:e.wastagePercentage})))}catch(e){console.error("Failed to load data:",e)}finally{r(!1)}}})()},[a]),(0,s.useEffect)(()=>{j.trim()?k(S.filter(e=>e.name.toLowerCase().includes(j.toLowerCase())||e.sku.toLowerCase().includes(j.toLowerCase())).slice(0,5)):k([])},[j,S]);let I=(e,t,s)=>{b(u.map(a=>a.tempId===e?{...a,[t]:s}:a))},P=u.reduce((e,t)=>e+(t.quantityUsed+t.quantityUsed*t.wastagePercentage/100)*t.unitCost,0),A=u.length,T=async()=>{if(a){if(!o.trim())return void alert("Recipe name is required");if(0===u.length)return void alert("Please add at least one ingredient");n(!0);try{let t={name:o,description:x,status:p,ingredients:u.map(e=>({inventoryItemId:e.inventoryItemId,baseUnit:e.baseUnit,quantityUsed:e.quantityUsed,wastagePercentage:e.wastagePercentage}))};await ((e,t)=>{let s=tU.find(t=>t.id===e);if(!s)return Promise.reject(Error("Recipe not found"));if(t.ingredients){let e=t.ingredients.map(e=>{let t=tz.find(t=>t.id===e.inventoryItemId),s=e.quantityUsed+e.quantityUsed*e.wastagePercentage/100,a=s*(t?.averageCost||0);return{id:tV("RI"),...e,inventoryItemName:t?.name||"",baseUnit:t?.baseUnit||"Piece",unitCost:t?.averageCost||0,effectiveQuantity:s,lineCost:a}}),a=e.reduce((e,t)=>e+t.lineCost,0);Object.assign(s,{...t,ingredients:e,totalRecipeCost:a,updatedAt:new Date().toISOString()})}else Object.assign(s,{...t,updatedAt:new Date().toISOString()});return Promise.resolve(s)})(a,t),alert("Recipe updated successfully!"),e.push("/backoffice/inventory/recipes")}catch(e){alert("Failed to update recipe: "+e.message)}finally{n(!1)}}};return l?(0,t.jsx)("div",{className:"p-12 text-center text-slate-500",children:"Loading recipe data..."}):(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/recipes"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Edit Recipe"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:g>0?`Used by ${g} products - Edits will affect live costs`:"Not linked to any products"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/recipes"),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),(0,t.jsxs)("button",{onClick:T,disabled:i,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-blue-200 hover:from-blue-700 hover:to-blue-600 transition-all active:scale-95 disabled:opacity-50",children:[(0,t.jsx)(H,{size:16}),i?"Saving...":"Save Changes"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsx)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Recipe Name *"}),(0,t.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all outline-none"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:x,onChange:e=>m(e.target.value),rows:2,className:"w-full p-4 rounded-xl border border-slate-200 font-medium text-slate-900 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all outline-none resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Status"}),(0,t.jsx)("div",{className:"flex p-1 bg-slate-100 rounded-xl",children:["Active","Inactive"].map(e=>(0,t.jsx)("button",{onClick:()=>h(e),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${p===e?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:e},e))})]})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight flex items-center gap-2",children:[(0,t.jsx)(eC,{size:18,className:"text-slate-400"}),"Ingredients"]}),(0,t.jsxs)("div",{className:"relative w-72 group",children:[(0,t.jsx)(R.Search,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),(0,t.jsx)("input",{type:"text",placeholder:"Add more ingredients...",value:j,onChange:e=>v(e.target.value),onFocus:()=>y(!0),onBlur:()=>setTimeout(()=>y(!1),200),className:"w-full h-10 pl-11 pr-4 bg-slate-50 rounded-xl border-none font-bold text-sm focus:ring-2 focus:ring-blue-500/20 text-slate-900 placeholder:text-slate-400"}),N&&j&&w.length>0&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden z-20",children:w.map(e=>(0,t.jsxs)("button",{onClick:()=>{u.some(t=>t.inventoryItemId===e.id)?alert("Ingredient already added to recipe"):(b([...u,{tempId:Date.now().toString(),inventoryItemId:e.id,inventoryItemName:e.name,baseUnit:e.baseUnit,unitCost:e.averageCost,quantityUsed:1,wastagePercentage:0}]),v(""),k([]))},className:"w-full text-left p-3 hover:bg-blue-50 flex items-center justify-between group/item",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900 group-hover/item:text-blue-700",children:e.name}),(0,t.jsx)("div",{className:"text-xs font-medium text-slate-500",children:e.sku})]}),(0,t.jsxs)("div",{className:"text-xs font-bold text-slate-400 bg-slate-100 px-2 py-1 rounded-lg",children:["Stock: ",e.currentStock]})]},e.id))})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[(0,t.jsx)("th",{className:"px-6 py-4",children:"Ingredient"}),(0,t.jsx)("th",{className:"px-4 py-4 text-right",children:"Unit Cost"}),(0,t.jsx)("th",{className:"px-4 py-4 text-center",children:"Qty Used"}),(0,t.jsx)("th",{className:"px-4 py-4 text-center",children:"Wastage %"}),(0,t.jsx)("th",{className:"px-4 py-4 text-right",children:"Effective Qty"}),(0,t.jsx)("th",{className:"px-4 py-4 text-right",children:"Line Cost"}),(0,t.jsx)("th",{className:"px-4 py-4"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:u.map(e=>{let s=e.quantityUsed+e.quantityUsed*e.wastagePercentage/100,a=s*e.unitCost;return(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"text-sm font-black text-slate-900",children:e.inventoryItemName}),(0,t.jsx)("div",{className:"text-xs font-bold text-slate-400",children:e.baseUnit})]}),(0,t.jsx)("td",{className:"px-4 py-4 text-right",children:(0,t.jsxs)("div",{className:"text-sm font-bold text-slate-600",children:["$",e.unitCost.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.quantityUsed,onChange:t=>I(e.tempId,"quantityUsed",parseFloat(t.target.value)||0),className:"w-24 h-10 px-3 text-center bg-white border border-slate-200 rounded-lg font-bold text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none"})}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)("input",{type:"number",min:"0",max:"100",value:e.wastagePercentage,onChange:t=>I(e.tempId,"wastagePercentage",parseFloat(t.target.value)||0),className:"w-20 h-10 px-3 text-center bg-white border border-slate-200 rounded-lg font-bold text-amber-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none"}),(0,t.jsx)("span",{className:"text-xs font-black text-slate-400",children:"%"})]})}),(0,t.jsx)("td",{className:"px-4 py-4 text-right",children:(0,t.jsxs)("div",{className:"text-sm font-bold text-slate-600",children:[s.toFixed(2)," ",(0,t.jsx)("span",{className:"text-[10px] text-slate-400",children:e.baseUnit})]})}),(0,t.jsx)("td",{className:"px-4 py-4 text-right",children:(0,t.jsxs)("div",{className:"text-sm font-black text-slate-900",children:["$",a.toFixed(2)]})}),(0,t.jsx)("td",{className:"px-4 py-4 text-right",children:(0,t.jsx)("button",{onClick:()=>{var t;return t=e.tempId,void b(u.filter(e=>e.tempId!==t))},className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:(0,t.jsx)(eg,{size:16})})})]},e.tempId)})})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 text-white p-8 rounded-3xl shadow-xl shadow-slate-200/50 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-32 bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6 border-b border-white/10 pb-4",children:"Cost Analysis"}),(0,t.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Ingredient Count"}),(0,t.jsx)("span",{className:"font-bold",children:A})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Avg Cost / Item"}),(0,t.jsxs)("span",{className:"font-bold",children:["$",u.length>0?(P/u.length).toFixed(2):"0.00"]})]})]}),(0,t.jsxs)("div",{className:"pt-6 border-t border-white/10",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Total Recipe Cost"}),(0,t.jsxs)("div",{className:"text-4xl font-black tracking-tight text-white mb-1",children:["$",P.toFixed(2)]})]})]})]}),g>0&&(0,t.jsxs)("div",{className:"bg-amber-50 p-6 rounded-3xl border border-amber-100",children:[(0,t.jsxs)("h3",{className:"text-sm font-black text-amber-900 uppercase tracking-widest mb-4 flex items-center gap-2",children:[(0,t.jsx)(d.AlertCircle,{size:16}),"Warning"]}),(0,t.jsxs)("p",{className:"text-sm text-amber-800 leading-relaxed font-medium",children:["This recipe is currently used by ",(0,t.jsxs)("strong",{className:"text-black",children:[g," product(s)"]}),". Changes made here will immediately affect cost calculations for future sales of these products."]})]})]})]})]})}],68919),e.s(["InventoryItemFormPage",0,()=>{let e=(0,ea.useRouter)(),{id:a}=(0,ea.useParams)(),l=!!a,[r,i]=(0,s.useState)(l),[n,o]=(0,s.useState)(!1),[c,x]=(0,s.useState)(""),[m,p]=(0,s.useState)(""),[h,u]=(0,s.useState)("Piece"),[b,g]=(0,s.useState)(10),[f,j]=(0,s.useState)("Active"),[v,N]=(0,s.useState)("");(0,s.useEffect)(()=>{l&&a&&y(a)},[a,l]);let y=async t=>{try{let s=await tq(t);s?(x(s.name),p(s.sku),u(s.baseUnit),g(s.lowStockThreshold),j(s.status),N(s.description||"")):(alert("Item not found"),e.push("/backoffice/inventory/list"))}catch(e){console.error("Failed to load item:",e),alert("Error loading item details")}finally{i(!1)}},w=async()=>{if(!c.trim())return void alert("Item Name is required");if(!m.trim())return void alert("SKU is required");o(!0);try{var t,s,r,i;let n,d,o={name:c,sku:m,baseUnit:h,lowStockThreshold:b,status:f,description:v};l&&a?(await (t=a,s=o,(n=tz.find(e=>e.id===t))?(Object.assign(n,{...s,updatedAt:new Date().toISOString()}),Promise.resolve(n)):Promise.reject(Error("Item not found"))),alert("Item updated successfully")):(await (r=o,i="TENANT001",d={id:tV("INV"),...r,status:r.status||"Active",currentStock:0,averageCost:0,tenantId:i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},tz.push(d),Promise.resolve(d)),alert("Item created successfully")),e.push("/backoffice/inventory/list")}catch(e){console.error("Failed to save item:",e),alert("Failed to save item: "+e.message)}finally{o(!1)}};return r?(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(X.Package,{className:"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading item details..."})]})}):(0,t.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push(l?`/backoffice/inventory/items/${a}`:"/backoffice/inventory/list"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:l?"Edit Item":"Create New Item"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:l?"Update item details":"Define new inventory ingredient"})]})]}),(0,t.jsxs)("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Item Name *"}),(0,t.jsx)("input",{type:"text",value:c,onChange:e=>x(e.target.value),placeholder:"e.g., Cheddar Cheese Block",className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"SKU *"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),placeholder:"e.g., ING-001",className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Base Unit *"}),(0,t.jsx)("select",{value:h,onChange:e=>u(e.target.value),disabled:l,className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none bg-white disabled:bg-slate-50 disabled:text-slate-500",children:["Piece","Gram","Kilogram","Liter","Milliliter"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),l&&(0,t.jsx)("p",{className:"text-xs text-amber-500 mt-1 font-medium",children:"Unit cannot be changed after creation"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:v,onChange:e=>N(e.target.value),rows:3,placeholder:"Optional details about this item...",className:"w-full p-4 rounded-xl border border-slate-200 font-medium text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none resize-none"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Low Stock Threshold"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"number",min:"0",value:b,onChange:e=>g(parseFloat(e.target.value)||0),className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"}),(0,t.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-bold text-slate-400",children:h})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Status"}),(0,t.jsx)("div",{className:"flex p-1 bg-slate-100 rounded-xl h-12 items-center",children:["Active","Inactive"].map(e=>(0,t.jsx)("button",{onClick:()=>j(e),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all h-10 ${f===e?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 flex gap-3 text-blue-800",children:[(0,t.jsx)(d.AlertCircle,{size:20,className:"flex-shrink-0"}),(0,t.jsxs)("p",{className:"text-xs font-medium leading-relaxed",children:[(0,t.jsx)("strong",{children:"Note:"}),' Initial stock cannot be set here. Use the "Adjust Stock" feature or "Receive Inventory" to add stock after creating the item.']})]})]}),(0,t.jsxs)("div",{className:"pt-6 border-t border-slate-100 flex items-center justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/list"),className:"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),(0,t.jsxs)("button",{onClick:w,disabled:n,className:"flex items-center gap-2 px-8 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all active:scale-95 disabled:opacity-50",children:[(0,t.jsx)(H,{size:16}),n?"Saving...":l?"Update Item":"Create Item"]})]})]})]})}],84633),e.s(["EditInventoryEntryPage",0,()=>{let e=(0,ea.useRouter)(),{id:a}=(0,ea.useParams)(),[l,r]=(0,s.useState)(!0),[i,n]=(0,s.useState)(!1),[d,o]=(0,s.useState)([]),[c,x]=(0,s.useState)([]),[m,p]=(0,s.useState)(""),[h,u]=(0,s.useState)(""),[b,g]=(0,s.useState)(""),[f,j]=(0,s.useState)("Draft"),[v,N]=(0,s.useState)("STORE001"),[y,w]=(0,s.useState)(""),[k,S]=(0,s.useState)([]),[C,I]=(0,s.useState)(0),[P,A]=(0,s.useState)(0),[T,D]=(0,s.useState)(""),[E,M]=(0,s.useState)(""),[z,U]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{if(a)try{let[t,s,l]=await Promise.all([tB(a),tZ(),tW({status:"Active"})]);if(!t){alert("Entry not found"),e.push("/backoffice/inventory/entries");return}if("Received"===t.inventoryStatus||"Partial"===t.inventoryStatus){alert("Cannot edit received inventory"),e.push(`/backoffice/inventory/entries/${a}`);return}o(s),x(l),p(t.supplierId),u(t.referenceNo),g(t.inventoryDate),j(t.inventoryStatus),N(t.storeId),w(t.payTerm||""),S(t.products),I(t.purchaseTax),A(t.shippingCharges),D(t.additionalNotes||"")}catch(e){console.error("Failed to load entry:",e)}finally{r(!1)}})()},[a]);let L=(e,t,s)=>{S(k.map(a=>{if(a.id!==e)return a;let l={...a,[t]:s},r=l.purchaseQuantity,i=l.unitCostBeforeTax,n=l.taxPercentage;return l.subtotal=r*i,l.taxAmount=l.subtotal*(n/100),l.unitCostAfterTax=i+i*n/100,l.lineTotal=r*l.unitCostAfterTax,l}))},F=k.reduce((e,t)=>e+t.subtotal,0),$=k.reduce((e,t)=>e+t.taxAmount,0)+C,V=F+$+P,B=async(t=!1)=>{if(a){if(!m)return void alert("Please select a supplier");if(0===k.length)return void alert("Please add at least one product");n(!0);try{var s,l;let r,i={supplierId:m,referenceNo:h,inventoryDate:b,inventoryStatus:t?"Received":f,storeId:v,payTerm:y,products:k.map(e=>({sku:e.sku,inventoryItemId:e.inventoryItemId,purchaseQuantity:e.purchaseQuantity,unitCostBeforeTax:e.unitCostBeforeTax,subtotal:e.subtotal,taxPercentage:e.taxPercentage,taxAmount:e.taxAmount,unitCostAfterTax:e.unitCostAfterTax,lineTotal:e.lineTotal})),purchaseTax:C,shippingCharges:P,additionalNotes:T};await (s=a,l=i,(r=tM.find(e=>e.id===s))?"Draft"!==r.inventoryStatus&&"Ordered"!==r.inventoryStatus?Promise.reject(Error("Cannot edit received inventory")):(Object.assign(r,{...l,updatedAt:new Date().toISOString()}),Promise.resolve(r)):Promise.reject(Error("Entry not found"))),t?(await tG(a),alert("Inventory received & stock updated successfully!")):alert("Entry updated successfully!"),e.push("/backoffice/inventory/entries")}catch(e){alert("Failed to update: "+e.message)}finally{n(!1)}}},G=E.trim()?c.filter(e=>e.name.toLowerCase().includes(E.toLowerCase())||e.sku.toLowerCase().includes(E.toLowerCase())).slice(0,5):[];return l?(0,t.jsx)("div",{className:"p-12 text-center text-slate-500",children:"Loading entry..."}):(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/entries"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Edit Inventory Entry"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:h})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6 bg-slate-50 border-b border-slate-200",children:[(0,t.jsx)("h2",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Entry Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:["Supplier ",(0,t.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,t.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Supplier"}),d.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Reference No"}),(0,t.jsx)("input",{type:"text",value:h,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Inventory Date"}),(0,t.jsx)("input",{type:"date",value:b,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Inventory Status"}),(0,t.jsxs)("select",{value:f,onChange:e=>j(e.target.value),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all",children:[(0,t.jsx)("option",{value:"Draft",children:"Draft"}),(0,t.jsx)("option",{value:"Ordered",children:"Ordered"}),(0,t.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Pay Term"}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>w(e.target.value),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Attach Document"}),(0,t.jsxs)("button",{className:"w-full px-4 py-2 bg-slate-100 border border-slate-200 rounded-xl text-sm font-bold text-slate-600 hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(tO,{size:16}),"Upload Invoice/PDF"]})]})]})]}),(0,t.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(R.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:E,onChange:e=>{M(e.target.value),U(!0)},onFocus:()=>U(!0),placeholder:"Search Product / SKU / Barcode...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all"}),z&&G.length>0&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-10 max-h-64 overflow-y-auto",children:G.map(e=>(0,t.jsxs)("button",{onClick:()=>{var t;let s;return t=e.id,void(!(s=c.find(e=>e.id===t))||(S([...k,{id:`TEMP${Date.now()}`,inventoryItemId:s.id,inventoryItemName:s.name,sku:s.sku,purchaseQuantity:1,unitCostBeforeTax:0,subtotal:0,taxPercentage:0,taxAmount:0,unitCostAfterTax:0,lineTotal:0}]),M(""),U(!1)))},className:"w-full px-4 py-3 text-left hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-0",children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:["SKU: ",e.sku," | Stock: ",e.currentStock," ",e.baseUnit]})]},e.id))})]})})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest w-12",children:"#"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Product Name"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"SKU"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Purchase Qty"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Unit Cost (Before Tax)"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Subtotal"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Tax %"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Unit Cost (After Tax)"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Line Total"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Delete"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-100",children:0===k.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:10,className:"px-4 py-12 text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(O.FileText,{size:32,className:"text-slate-300"}),(0,t.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No products added."})]})})}):k.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm font-bold text-slate-600",children:s+1}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm font-bold text-slate-900",children:e.inventoryItemName}),(0,t.jsx)("td",{className:"px-4 py-3 text-xs text-slate-500 font-medium",children:e.sku}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsx)("input",{type:"number",value:e.purchaseQuantity,onChange:t=>L(e.id,"purchaseQuantity",parseFloat(t.target.value)||0),className:"w-24 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-sm text-right focus:border-emerald-600",min:"0",step:"0.01"})}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsx)("input",{type:"number",value:e.unitCostBeforeTax,onChange:t=>L(e.id,"unitCostBeforeTax",parseFloat(t.target.value)||0),className:"w-28 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-sm text-right focus:border-emerald-600",min:"0",step:"0.01"})}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right tabular-nums",children:["$",e.subtotal.toFixed(2)]}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsx)("input",{type:"number",value:e.taxPercentage,onChange:t=>L(e.id,"taxPercentage",parseFloat(t.target.value)||0),className:"w-20 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-sm text-right focus:border-emerald-600",min:"0",max:"100",step:"0.1"})}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right tabular-nums",children:["$",e.unitCostAfterTax.toFixed(2)]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-base font-black text-emerald-600 text-right tabular-nums",children:["$",e.lineTotal.toFixed(2)]}),(0,t.jsx)("td",{className:"px-4 py-3 text-center",children:(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void S(k.filter(e=>e.id!==t))},className:"p-2 text-slate-400 hover:text-rose-600 transition-colors",children:(0,t.jsx)(eg,{size:16})})})]},e.id))})]})}),(0,t.jsx)("div",{className:"p-6 bg-slate-50 border-t border-slate-200",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Purchase Tax"}),(0,t.jsx)("input",{type:"number",value:C,onChange:e=>I(parseFloat(e.target.value)||0),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all",min:"0",step:"0.01"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Shipping Charges"}),(0,t.jsx)("input",{type:"number",value:P,onChange:e=>A(parseFloat(e.target.value)||0),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all",min:"0",step:"0.01"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Additional Notes"}),(0,t.jsx)("textarea",{value:T,onChange:e=>D(e.target.value),rows:3,className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all resize-none",placeholder:"Any additional notes..."})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 space-y-3",children:[(0,t.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Summary"}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Subtotal"}),(0,t.jsxs)("span",{className:"text-sm font-black text-slate-900 tabular-nums",children:["$",F.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Tax"}),(0,t.jsxs)("span",{className:"text-sm font-black text-slate-900 tabular-nums",children:["$",$.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Shipping"}),(0,t.jsxs)("span",{className:"text-sm font-black text-slate-900 tabular-nums",children:["$",P.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"pt-3 border-t border-slate-200 flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:"Grand Total"}),(0,t.jsxs)("span",{className:"text-2xl font-black text-emerald-600 tabular-nums",children:["$",V.toFixed(2)]})]})]})]})}),(0,t.jsxs)("div",{className:"p-6 bg-white border-t border-slate-200 flex items-center justify-end gap-4",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/entries"),className:"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>B(!1),disabled:i,className:"px-6 py-2.5 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-slate-800 transition-all flex items-center gap-2 disabled:opacity-50",children:[(0,t.jsx)(H,{size:16}),i?"Saving...":"Update Entry"]}),(0,t.jsxs)("button",{onClick:()=>B(!0),disabled:i,className:"px-6 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-bold hover:bg-emerald-700 transition-all flex items-center gap-2 disabled:opacity-50",children:[(0,t.jsx)(tJ,{size:16}),"Update & Receive"]})]})]})]})}],96890),e.s(["VendorFormPage",0,()=>{let e=(0,ea.useRouter)(),{id:a}=(0,ea.useParams)(),l=!!a,[r,i]=(0,s.useState)(l),[n,d]=(0,s.useState)(!1),[o,c]=(0,s.useState)(""),[x,m]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[u,b]=(0,s.useState)(""),[g,f]=(0,s.useState)(""),[j,v]=(0,s.useState)("Active");(0,s.useEffect)(()=>{l&&a&&N(a)},[a,l]);let N=async t=>{try{let s=await t_(t);s?(c(s.name),m(s.contactPerson||""),h(s.phone||""),b(s.email||""),f(s.address||""),v(s.status)):(alert("Vendor not found"),e.push("/backoffice/inventory/vendors"))}catch(e){console.error("Failed to load vendor:",e),alert("Error loading vendor details")}finally{i(!1)}},y=async()=>{if(!o.trim())return void alert("Vendor Name is required");d(!0);try{var t,s;let r,i={name:o,contactPerson:x,phone:p,email:u,address:g,status:j};l&&a?(await (t=a,s=i,(r=tL.find(e=>e.id===t))?(Object.assign(r,{...s,updatedAt:new Date().toISOString()}),Promise.resolve(r)):Promise.reject(Error("Vendor not found"))),alert("Vendor updated successfully")):(await tK(i),alert("Vendor created successfully")),e.push("/backoffice/inventory/vendors")}catch(e){console.error("Failed to save vendor:",e),alert("Failed to save vendor: "+e.message)}finally{d(!1)}};return r?(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(e9.Users,{className:"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading vendor details..."})]})}):(0,t.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/vendors"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:l?"Edit Vendor":"Add New Vendor"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:l?"Update supplier information":"Register a new supplier"})]})]}),(0,t.jsxs)("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Vendor Name *"}),(0,t.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"e.g., Global Foods Ltd",className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Contact Person"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(e9.Users,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),className:"w-full h-12 pl-10 pr-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Phone"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eH,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>h(e.target.value),className:"w-full h-12 pl-10 pr-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Email Address"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eX,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"email",value:u,onChange:e=>b(e.target.value),className:"w-full h-12 pl-10 pr-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Address"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(G,{className:"absolute left-4 top-3 w-4 h-4 text-slate-400"}),(0,t.jsx)("textarea",{value:g,onChange:e=>f(e.target.value),rows:3,className:"w-full p-4 pl-10 rounded-xl border border-slate-200 font-medium text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none resize-none"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Status"}),(0,t.jsx)("div",{className:"flex p-1 bg-slate-100 rounded-xl max-w-sm",children:["Active","Inactive"].map(e=>(0,t.jsx)("button",{onClick:()=>v(e),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${j===e?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"pt-6 border-t border-slate-100 flex items-center justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/vendors"),className:"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),(0,t.jsxs)("button",{onClick:y,disabled:n,className:"flex items-center gap-2 px-8 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all active:scale-95 disabled:opacity-50",children:[(0,t.jsx)(H,{size:16}),n?"Saving...":l?"Update Vendor":"Create Vendor"]})]})]})]})}],15584),e.s(["CreateReturnPage",0,()=>{let e=(0,ea.useRouter)(),[a,l]=(0,s.useState)("Damaged"),[r,i]=(0,s.useState)(""),[n,d]=(0,s.useState)(new Date().toISOString().split("T")[0]),[o,c]=(0,s.useState)(""),[x,m]=(0,s.useState)(""),[p,h]=(0,s.useState)([]),[u,b]=(0,s.useState)(""),[g,f]=(0,s.useState)([]),[j,v]=(0,s.useState)(!1),[N,y]=(0,s.useState)([]);(0,s.useEffect)(()=>{(async()=>{y(await tW({status:"Active"}))})()},[]),(0,s.useEffect)(()=>{u.trim()?f(N.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())||e.sku.toLowerCase().includes(u.toLowerCase())).slice(0,5)):f([])},[u,N]);let w=p.reduce((e,t)=>e+t.lineTotal,0),k=async()=>{0===p.length?alert("Please add at least one item"):o?(console.log("Saving return:",{returnType:a,referenceNo:r,returnDate:n,storeId:"STORE001",supplierId:"Supplier Return"===a?x:void 0,reason:o,items:p.map(e=>({inventoryItemId:e.inventoryItemId,quantity:e.quantity,unitCost:e.unitCost,lineTotal:e.lineTotal})),totalAmount:w}),alert("Return/Adjustment created successfully!"),e.push("/backoffice/inventory/returns")):alert("Please provide a reason")};return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,t.jsx)("button",{onClick:()=>e.push("/backoffice/inventory/returns"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Create Return / Adjustment"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Record stock wastage, damage, or supplier returns"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Type"}),(0,t.jsxs)("select",{value:a,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none",children:[(0,t.jsx)("option",{value:"Damaged",children:"Damaged (Waste)"}),(0,t.jsx)("option",{value:"Expired",children:"Expired (Waste)"}),(0,t.jsx)("option",{value:"Supplier Return",children:"Supplier Return"}),(0,t.jsx)("option",{value:"Adjustment",children:"Inventory Adjustment"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Date"}),(0,t.jsx)("input",{type:"date",value:n,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Reference No"}),(0,t.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"Optional",className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none"})]}),"Supplier Return"===a&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Supplier"}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"Supplier ID / Name",className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Reason / Notes *"}),(0,t.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),rows:2,className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none resize-none",placeholder:"Describe why stock is being returned or adjusted..."})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-4",children:(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(R.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:u,onChange:e=>{b(e.target.value),v(!0)},onFocus:()=>v(!0),placeholder:"Search item to add...",className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none"}),j&&g.length>0&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-10 max-h-60 overflow-y-auto",children:g.map(e=>(0,t.jsxs)("button",{onClick:()=>{h([...p,{id:`TEMP_${Date.now()}`,inventoryItemId:e.id,inventoryItemName:e.name,sku:e.sku,baseUnit:e.baseUnit,quantity:1,unitCost:e.averageCost,lineTotal:+e.averageCost}]),b(""),v(!1)},className:"w-full px-4 py-3 text-left hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:["SKU: ",e.sku," | Stock: ",e.currentStock," ",e.baseUnit]})]},e.id))})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Item"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Qty"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Cost"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===p.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"px-4 py-8 text-center text-sm text-slate-400 font-medium",children:"No items added. Search above."})}):p.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50",children:[(0,t.jsxs)("td",{className:"px-4 py-3",children:[(0,t.jsx)("div",{className:"text-sm font-bold text-slate-900",children:e.inventoryItemName}),(0,t.jsx)("div",{className:"text-[10px] text-slate-400",children:e.sku})]}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsx)("input",{type:"number",value:e.quantity,onChange:t=>{var s,a,l;return s=e.id,a="quantity",l=parseFloat(t.target.value)||0,void h(p.map(e=>{if(e.id!==s)return e;let t={...e,[a]:l};return t.lineTotal=t.quantity*t.unitCost,t}))},className:"w-20 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-right text-sm focus:border-rose-600 outline-none",min:"0"})}),(0,t.jsxs)("td",{className:"px-4 py-3 text-right text-sm text-slate-600",children:["$",e.unitCost.toFixed(2)]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-right text-sm font-bold text-slate-900",children:["$",e.lineTotal.toFixed(2)]}),(0,t.jsx)("td",{className:"px-4 py-3 text-center",children:(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void h(p.filter(e=>e.id!==t))},className:"text-slate-400 hover:text-rose-600 transition-colors",children:(0,t.jsx)(eg,{size:16})})})]},e.id))})]})})]})]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Summary"}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("span",{className:"text-slate-600 font-bold text-sm",children:"Total Items"}),(0,t.jsx)("span",{className:"text-slate-900 font-black",children:p.length})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-slate-100",children:[(0,t.jsx)("span",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:"Total Value"}),(0,t.jsxs)("span",{className:"text-2xl font-black text-rose-600",children:["$",w.toFixed(2)]})]}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-2",children:"This value will be deducted from your inventory valuation."}),(0,t.jsxs)("button",{onClick:k,className:"w-full mt-6 py-3 bg-rose-600 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-rose-200 hover:bg-rose-700 transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(A.RotateCcw,{size:16}),"Process Return"]})]})})]})]})}],66501),e.s([],59797);let t2=[{category:"User Roles",actions:["View users","Add user","Edit user","Disable user","Assign roles","View roles","Create role","Edit role","Delete role"]},{category:"Customers",actions:["View customers","Add customer","Edit customer","Delete customer","View order history","Add customer notes","Block / blacklist customer"]},{category:"Items",actions:["View items","Add product","Edit product","Delete product","Manage variants","Manage modifiers","Update pricing","Assign categories"]},{category:"Inventory",actions:["View inventory","Add inventory item","Edit inventory item","Delete inventory item","Stock adjustment","Waste / damage entry","Recipe management","Low stock alerts"]},{category:"Finances",actions:["View transactions","Issue refund","Partial refund","Void transaction","View payment methods","Manage service charges","View settlement reports"]},{category:"Reports",actions:["View sales reports","View tax reports","View inventory reports","View staff performance","Export reports (CSV / Excel / PDF)"]},{category:"POS",actions:["Access POS screen","Create order","Edit order","Apply discount","Override price","Cancel order","Reprint receipt","Open cash drawer","Split payment","Hold / recall order"]},{category:"Online Ordering",actions:["View online orders","Accept / reject orders","Edit online order","Manage delivery / pickup status","Pause online ordering","Manage time slots"]},{category:"Kitchen (KDS)",actions:["Access KDS screen","View incoming orders","Change item status (Preparing / Ready)","Recall order","Re-fire item","Mark order complete","View preparation time","Route orders to stations"]},{category:"Taxes",actions:["View tax rules","Add tax","Edit tax","Delete tax","Assign tax to items / locations"]},{category:"Settings",actions:["View settings","Edit store settings","Manage payment settings","Manage printers / hardware","Manage integrations","Access audit logs"]},{category:"Kiosk",actions:["Enable / disable kiosk","Configure kiosk menu","Set kiosk pricing","Restrict payment types","View kiosk orders","Reset kiosk session"]}],t4=[{id:"ROLE_ADMIN",name:"Admin",description:"Full system access",permissions:t2.flatMap(e=>e.actions),isSystem:!0,createdAt:new Date().toISOString()},{id:"ROLE_MANAGER",name:"Store Manager",description:"Manage store operations",permissions:["View users","Add user","Edit user","View reports","Access POS screen","View inventory"],createdAt:new Date().toISOString()},{id:"ROLE_CASHIER",name:"POS Cashier",description:"Front of house staff",permissions:["Access POS screen","Create order","View customers"],createdAt:new Date().toISOString()},{id:"ROLE_KITCHEN",name:"Kitchen Staff",description:"Back of house cooking staff",permissions:["Access KDS screen","View incoming orders","Change item status (Preparing / Ready)"],createdAt:new Date().toISOString()},{id:"ROLE_CALL_CENTER",name:"Call Agent",description:"Remote order taking",permissions:["Create order","View customers","View items"],createdAt:new Date().toISOString()}],t5=[{id:"USER_001",fullName:"System Admin",email:"admin@zyappy.com",type:"Admin User",roleId:"ROLE_ADMIN",roleName:"Admin",assignedStores:["All"],status:"Active",createdAt:new Date().toISOString()},{id:"USER_002",fullName:"Sarah Manager",email:"sarah@store1.com",type:"Manager User",roleId:"ROLE_MANAGER",roleName:"Store Manager",assignedStores:["STORE_001"],status:"Active",createdAt:new Date().toISOString()},{id:"USER_003",fullName:"David Cashier",email:"david@store1.com",type:"POS User",roleId:"ROLE_CASHIER",roleName:"POS Cashier",assignedStores:["STORE_001"],status:"Active",createdAt:new Date().toISOString()},{id:"USER_004",fullName:"Mike Chef",email:"mike@kitchen.com",type:"Kitchen User",roleId:"ROLE_KITCHEN",roleName:"Kitchen Staff",assignedStores:["STORE_001"],status:"Active",createdAt:new Date().toISOString()}],t6=[...t4],t3=[...t5],t9=[],t8=async()=>(await new Promise(e=>setTimeout(e,500)),[...t3]),t7=async e=>{if(await new Promise(e=>setTimeout(e,500)),t3.some(t=>t.email===e.email))throw Error("Email already exists");let t=t6.find(t=>t.id===e.roleId);if(!t)throw Error("Invalid Role ID");let s={id:`USER_${Date.now()}`,...e,roleName:t.name,status:"Active",createdAt:new Date().toISOString()};return t3=[s,...t3],t9.unshift({id:`LOG_${Date.now()}`,action:"User User",details:`Created user ${s.fullName} (${s.type})`,performedBy:"Current User",timestamp:new Date().toISOString()}),s},se=async(e,t)=>{await new Promise(e=>setTimeout(e,500));let s=t3.findIndex(t=>t.id===e);if(-1===s)throw Error("User not found");let a=t3[s];if(!a)throw Error("User not found");let l=a.roleName;if(t.roleId){let e=t6.find(e=>e.id===t.roleId);e&&(l=e.name)}let r={...a,...t,roleName:l};return t3[s]=r,t9.unshift({id:`LOG_${Date.now()}`,action:"User User",details:`Updated user ${r.fullName}`,performedBy:"Current User",timestamp:new Date().toISOString()}),r},st=async e=>{await new Promise(e=>setTimeout(e,300));let t=t3.findIndex(t=>t.id===e);if(-1===t)throw Error("User not found");let s=t3[t];if(!s)throw Error("User not found");let a="Active"===s.status?"Disabled":"Active";return s.status=a,t9.unshift({id:`LOG_${Date.now()}`,action:"User User",details:`${"Active"===a?"Enabled":"Disabled"} user ${s.fullName}`,performedBy:"Current User",timestamp:new Date().toISOString()}),s},ss=async()=>(await new Promise(e=>setTimeout(e,500)),[...t6]),sa=async e=>{await new Promise(e=>setTimeout(e,500));let t={id:`ROLE_${Date.now()}`,...e,createdAt:new Date().toISOString()};return t6=[t,...t6],t9.unshift({id:`LOG_${Date.now()}`,action:"User Role",details:`Created role ${t.name}`,performedBy:"Current User",timestamp:new Date().toISOString()}),t},sl=async(e,t)=>{await new Promise(e=>setTimeout(e,500));let s=t6.findIndex(t=>t.id===e);if(-1===s)throw Error("Role not found");let a=t6[s];if(!a)throw Error("Role not found");if(a.isSystem)throw Error("Cannot edit system roles");let l={...a,...t};return t6[s]=l,t9.unshift({id:`LOG_${Date.now()}`,action:"User Role",details:`Updated role ${l.name}`,performedBy:"Current User",timestamp:new Date().toISOString()}),l},sr=async e=>{await new Promise(e=>setTimeout(e,500));let t=t6.find(t=>t.id===e);if(!t)throw Error("Role not found");if(t.isSystem)throw Error("Cannot delete system roles");if(t3.some(t=>t.roleId===e))throw Error("Cannot delete role assigned to users");return t6=t6.filter(t=>t.id!==e),!0},si=async()=>(await new Promise(e=>setTimeout(e,300)),[...t9]),sn=(0,i.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),sd=(0,i.default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),so=({users:e,onEdit:s,onToggleStatus:a})=>(0,t.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-left pl-8",children:"Name"}),(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-left",children:"Type"}),(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-left",children:"Role"}),(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-left",children:"Stores"}),(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right pr-8",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:e.map(e=>(0,t.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-5 pl-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-black uppercase",children:e.fullName.substring(0,2)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-black text-slate-900",children:e.fullName}),(0,t.jsx)("div",{className:"text-xs font-medium text-slate-500",children:e.email})]})]})}),(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsx)("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold whitespace-nowrap",children:e.type})}),(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eK,{size:14,className:"text-emerald-500"}),(0,t.jsx)("span",{className:"text-sm font-bold text-slate-700",children:e.roleName})]})}),(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.assignedStores.map(e=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 border border-slate-200 rounded text-[10px] font-bold text-slate-500 uppercase tracking-wide",children:[(0,t.jsx)(tp.Store,{size:10}),e]},e))})}),(0,t.jsx)("td",{className:"px-6 py-5 text-center",children:(0,t.jsx)("span",{className:`
                                        px-3 py-1 rounded-full text-xs font-bold border
                                        ${"Active"===e.status?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-rose-50 text-rose-700 border-rose-100"}
                                    `,children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-5 pr-8 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)("button",{onClick:()=>s(e),className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all",title:"Edit User",children:(0,t.jsx)(em,{size:16,strokeWidth:2.5})}),(0,t.jsx)("button",{onClick:()=>a(e),className:`p-2 rounded-lg transition-all ${"Active"===e.status?"text-slate-400 hover:text-rose-600 hover:bg-rose-50":"text-emerald-600 bg-emerald-50 hover:bg-emerald-100"}`,title:"Active"===e.status?"Disable User":"Activate User",children:"Active"===e.status?(0,t.jsx)(sn,{size:16,strokeWidth:2.5}):(0,t.jsx)(sd,{size:16,strokeWidth:2.5})})]})})]},e.id))})]})})}),sc=["POS User","Call Center User","Kitchen User","Manager User","Admin User","Delivery User"],sx=["STORE_001","STORE_002","STORE_003","All"],sm=({isOpen:e,onClose:a,onSave:l,userToEdit:r})=>{let[i,n]=(0,s.useState)(""),[d,o]=(0,s.useState)(""),[c,x]=(0,s.useState)("POS User"),[m,p]=(0,s.useState)(""),[h,u]=(0,s.useState)([]),[b,g]=(0,s.useState)([]),[f,j]=(0,s.useState)(!1),[v,N]=(0,s.useState)(null);(0,s.useEffect)(()=>{e&&(ss().then(g).catch(console.error),r?(n(r.fullName),o(r.email),x(r.type),p(r.roleId),u(r.assignedStores)):(n(""),o(""),x("POS User"),p(""),u([])),N(null))},[e,r]);let y=async()=>{let e=(()=>{if(!i.trim())return"Full name is required";if(!d.trim()||!d.includes("@"))return"Valid email is required";if(!c)return"User Type is required";if(!m)return"Role is required";if(0===h.length)return"At least one store must be assigned";let e=b.find(e=>e.id===m);return e?"Kitchen User"!==c||e.permissions.some(e=>t2.find(e=>"Kitchen (KDS)"===e.category)?.actions.includes(e))?"POS User"!==c||e.permissions.some(e=>t2.find(e=>"POS"===e.category)?.actions.includes(e))?null:'POS User must have a Role with "POS" permissions.':'Kitchen User must have a Role with "Kitchen (KDS)" permissions.':"Invalid role selected"})();if(e)return void N(e);j(!0),N(null);try{r?await se(r.id,{fullName:i,email:d,type:c,roleId:m,assignedStores:h}):await t7({fullName:i,email:d,type:c,roleId:m,assignedStores:h}),l(),a()}catch(e){N(e.message||"Failed to save user")}finally{j(!1)}};return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-100 sticky top-0 bg-white z-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-black text-slate-900",children:r?"Edit User":"Add New User"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Create system access credentials"})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:(0,t.jsx)(V,{size:20,className:"text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[v&&(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-rose-50 text-rose-700 rounded-xl border border-rose-100",children:[(0,t.jsx)(tS,{size:20}),(0,t.jsx)("span",{className:"text-sm font-bold",children:v})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Full Name *"}),(0,t.jsx)("input",{type:"text",value:i,onChange:e=>n(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 outline-none",placeholder:"John Doe"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Email Address *"}),(0,t.jsx)("input",{type:"email",value:d,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 outline-none",placeholder:"john@example.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"User Type *"}),(0,t.jsx)("select",{value:c,onChange:e=>x(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 outline-none",children:sc.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("p",{className:"text-[10px] text-slate-400 mt-1 font-medium bg-slate-50 p-2 rounded-lg",children:"Defines system interface access (POS, Kitchen, Backoffice)."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Role *"}),(0,t.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 outline-none",children:[(0,t.jsx)("option",{value:"",children:"Select Role"}),b.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsx)("p",{className:"text-[10px] text-slate-400 mt-1 font-medium bg-slate-50 p-2 rounded-lg",children:"Defines specific actions and permissions."})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Assigned Stores *"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:sx.map(e=>(0,t.jsxs)("label",{className:`
                                        flex items-center gap-2 p-3 rounded-xl border cursor-pointer transition-all
                                        ${h.includes(e)?"bg-emerald-50 border-emerald-200 shadow-sm":"bg-white border-slate-100 hover:bg-slate-50"}
                                    `,children:[(0,t.jsx)("input",{type:"checkbox",checked:h.includes(e),onChange:()=>{u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"rounded text-emerald-600 focus:ring-emerald-500"}),(0,t.jsx)("span",{className:`text-xs font-bold ${h.includes(e)?"text-emerald-900":"text-slate-600"}`,children:e})]},e))})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-100 flex justify-end gap-3 bg-slate-50/50",children:[(0,t.jsx)("button",{onClick:a,className:"px-6 py-2.5 text-sm font-bold text-slate-600 hover:bg-white hover:shadow-sm rounded-xl transition-all border border-transparent hover:border-slate-200",children:"Cancel"}),(0,t.jsx)("button",{onClick:y,disabled:f,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-slate-800 transition-all disabled:opacity-50",children:f?"Saving...":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(H,{size:18}),"Save User"]})})]})]})}):null},sp=()=>{let[e,a]=(0,s.useState)([]),[l,r]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{si().then(e=>{a(e),r(!1)})},[]),l)?null:(0,t.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden h-full flex flex-col",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/30",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(es,{size:18,className:"text-slate-400"}),(0,t.jsx)("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-wider",children:"System Audit Log"})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:0===e.length?(0,t.jsx)("div",{className:"text-center py-10 text-slate-400 text-xs italic",children:"No activity recorded yet."}):e.map(e=>(0,t.jsxs)("div",{className:"flex gap-3 items-start group",children:[(0,t.jsx)("div",{className:`
                                mt-1 p-2 rounded-lg 
                                ${"User User"===e.action?"bg-emerald-50 text-emerald-600":"bg-indigo-50 text-indigo-600"}
                            `,children:"User User"===e.action?(0,t.jsx)(W,{size:14}):(0,t.jsx)(eK,{size:14})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-900 leading-tight",children:e.details}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400",children:e.performedBy}),(0,t.jsx)("span",{className:"w-1 h-1 bg-slate-200 rounded-full"}),(0,t.jsx)("span",{className:"text-[10px] font-medium text-slate-400",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]},e.id))})]})};e.s(["UsersPage",0,()=>{let e=(0,ea.useRouter)(),[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[n,d]=(0,s.useState)(!1),[o,c]=(0,s.useState)(void 0),[x,m]=(0,s.useState)(!1),p=async()=>{i(!0);try{let e=await t8();l(e)}catch(e){console.error("Failed to load users:",e)}finally{i(!1)}};(0,s.useEffect)(()=>{p()},[]);let h=async e=>{if(window.confirm(`Are you sure you want to ${"Active"===e.status?"disable":"enable"} this user?`))try{await st(e.id),await p()}catch(e){console.error(e)}};return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between pb-6 border-b border-slate-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-slate-900 text-white rounded-2xl shadow-xl shadow-slate-200",children:(0,t.jsx)(e9.Users,{size:24,strokeWidth:2.5})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"User Management"}),(0,t.jsx)("p",{className:"text-slate-500 font-medium mt-1",children:"Manage system access and employees"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{onClick:()=>m(!x),className:`flex items-center gap-2 px-5 py-3 rounded-xl text-sm font-bold transition-all ${x?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,children:[(0,t.jsx)(es,{size:18}),x?"Hide Audit Log":"View Audit Log"]}),(0,t.jsxs)("button",{onClick:()=>e.push("/backoffice/roles"),className:"flex items-center gap-2 px-5 py-3 text-slate-600 bg-white border border-slate-200 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:[(0,t.jsx)(eK,{size:18}),"Manage Roles"]}),(0,t.jsxs)("button",{onClick:()=>{c(void 0),d(!0)},className:"flex items-center gap-2 px-5 py-3 bg-slate-900 text-white rounded-xl text-sm font-bold shadow-lg shadow-slate-900/20 hover:bg-slate-800 hover:scale-[1.02] active:scale-95 transition-all",children:[(0,t.jsx)(L.Plus,{size:18,strokeWidth:3}),"Add New User"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-6 items-start",children:[(0,t.jsx)("div",{className:`flex-1 transition-all duration-500 ${x?"w-2/3":"w-full"}`,children:r?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-slate-900"})}):(0,t.jsx)(so,{users:a,onEdit:e=>{c(e),d(!0)},onToggleStatus:h})}),x&&(0,t.jsx)("div",{className:"w-1/3 sticky top-6 animate-in slide-in-from-right duration-300",children:(0,t.jsx)(sp,{})})]}),(0,t.jsx)(sm,{isOpen:n,onClose:()=>d(!1),onSave:p,userToEdit:o})]})}],51446);let sh=({roles:e,onEdit:s,onDelete:a})=>(0,t.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-left pl-8",children:"Role Name"}),(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-left",children:"Description"}),(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Permissions"}),(0,t.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right pr-8",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:e.map(e=>(0,t.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-5 pl-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`p-2.5 rounded-xl ${e.isSystem?"bg-indigo-50 text-indigo-600":"bg-slate-100 text-slate-500"}`,children:e.isSystem?(0,t.jsx)(eb,{size:18,strokeWidth:2.5}):(0,t.jsx)(eG,{size:18,strokeWidth:2.5})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-black text-slate-900",children:e.name}),e.isSystem&&(0,t.jsx)("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-wide",children:"System Locked"})]})]})}),(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsx)("div",{className:"text-sm font-medium text-slate-600 truncate max-w-xs",children:e.description||"-"})}),(0,t.jsx)("td",{className:"px-6 py-5 text-center",children:(0,t.jsxs)("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-bold border border-emerald-100",children:[e.permissions.length," Enabled"]})}),(0,t.jsx)("td",{className:"px-6 py-5 pr-8 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)("button",{onClick:()=>s(e),className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all",title:"Edit Role",children:(0,t.jsx)(em,{size:16,strokeWidth:2.5})}),!e.isSystem&&(0,t.jsx)("button",{onClick:()=>a(e),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",title:"Delete Role",children:(0,t.jsx)(eg,{size:16,strokeWidth:2.5})})]})})]},e.id))})]})})}),su=({category:e,actions:a,selectedPermissions:l,onToggle:r,onToggleAll:i})=>{let[n,d]=(0,s.useState)(!1),o=a.filter(e=>l.includes(e)).length,c=o===a.length,x=o>0&&!c;return(0,t.jsxs)("div",{className:"border border-slate-200 rounded-xl overflow-hidden bg-white shadow-sm mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 cursor-pointer hover:bg-slate-100 transition-colors select-none",onClick:()=>d(!n),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[n?(0,t.jsx)(ej.ChevronDown,{size:18,className:"text-slate-400"}):(0,t.jsx)(f.ChevronRight,{size:18,className:"text-slate-400"}),(0,t.jsx)("span",{className:"font-bold text-slate-800 text-sm",children:e}),o>0&&(0,t.jsxs)("span",{className:"bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-full text-[10px] font-bold",children:[o," / ",a.length]})]}),(0,t.jsx)("div",{className:"flex items-center",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer text-xs font-bold text-slate-500 hover:text-slate-800",children:[(0,t.jsx)("input",{type:"checkbox",checked:c,ref:e=>{e&&(e.indeterminate=x)},onChange:e=>i(e.target.checked),className:"w-4 h-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500"}),"Select All"]})})]}),n&&(0,t.jsx)("div",{className:"p-4 border-t border-slate-100 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.map(e=>{let s=l.includes(e);return(0,t.jsxs)("label",{className:`
                                    flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all
                                    ${s?"bg-emerald-50 border-emerald-200 shadow-sm":"bg-white border-slate-100 hover:bg-slate-50"}
                                `,children:[(0,t.jsx)("div",{className:`
                                    w-5 h-5 rounded flex items-center justify-center border transition-all flex-shrink-0
                                    ${s?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-slate-300"}
                                `,children:s&&(0,t.jsx)(ev,{size:12,strokeWidth:3})}),(0,t.jsx)("input",{type:"checkbox",className:"hidden",checked:s,onChange:()=>r(e)}),(0,t.jsx)("span",{className:`text-xs font-bold leading-tight ${s?"text-emerald-900":"text-slate-600"}`,children:e})]},e)})})]})},sb=({role:e,onSave:a,onCancel:l})=>{let[r,i]=(0,s.useState)(e?.name||""),[n,d]=(0,s.useState)(e?.description||""),[o,c]=(0,s.useState)(e?.permissions||[]),[x,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),u=e=>{c(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},b=async()=>{if(!r.trim())return void h("Role Name is required");h(null),m(!0);try{await a({name:r,description:n,permissions:o})}catch(e){h(e.message||"Failed to save role")}finally{m(!1)}};return(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white sticky top-0 z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:l,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-black text-slate-800 tracking-tight",children:e?"Edit Role":"Create New Role"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Define permissions for this employee role"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:l,className:"px-6 py-2.5 text-sm font-bold text-slate-600 hover:bg-slate-50 rounded-xl transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:b,disabled:x,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-slate-800 transition-all disabled:opacity-50",children:x?"Saving...":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(H,{size:18}),"Save Role"]})})]})]}),(0,t.jsxs)("div",{className:"p-8 max-w-5xl mx-auto space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Role Name *"}),(0,t.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"e.g. Senior Cashier",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 outline-none transition-all"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Description"}),(0,t.jsx)("input",{type:"text",value:n,onChange:e=>d(e.target.value),placeholder:"Brief description of responsibilities",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 outline-none transition-all"})]})]}),p&&(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-rose-50 text-rose-700 rounded-xl border border-rose-100",children:[(0,t.jsx)(tS,{size:20}),(0,t.jsx)("span",{className:"text-sm font-bold",children:p})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Permissions"}),(0,t.jsx)("div",{className:"space-y-4",children:t2.map(e=>(0,t.jsx)(su,{category:e.category,actions:e.actions,selectedPermissions:o,onToggle:u,onToggleAll:t=>{var s;return s=e.actions,void c(e=>{if(!t)return e.filter(e=>!s.includes(e));{let t=s.filter(t=>!e.includes(t));return[...e,...t]}})}},e.category))})]})]})]})};e.s(["RolesPage",0,()=>{let[e,a]=(0,s.useState)([]),[l,r]=(0,s.useState)(!0),[i,n]=(0,s.useState)("list"),[d,o]=(0,s.useState)(void 0),c=async()=>{r(!0);try{let e=await ss();a(e)}catch(e){console.error("Failed to load roles:",e)}finally{r(!1)}};(0,s.useEffect)(()=>{c()},[]);let x=async e=>{if(window.confirm(`Are you sure you want to delete role "${e.name}"?`))try{await sr(e.id),await c()}catch(e){alert(e.message)}},m=async e=>{d?await sl(d.id,e):await sa(e),await c(),n("list")};return"edit"===i?(0,t.jsx)("div",{className:"max-w-[1600px] mx-auto pb-24 space-y-6",children:(0,t.jsx)(sb,{role:d,onSave:m,onCancel:()=>n("list")})}):(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between pb-6 border-b border-slate-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Employee Roles"}),(0,t.jsx)("p",{className:"text-slate-500 font-medium mt-1",children:"Define permissions and access levels for staff"})]}),(0,t.jsxs)("button",{onClick:()=>{o(void 0),n("edit")},className:"flex items-center gap-2 px-5 py-3 bg-slate-900 text-white rounded-xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 hover:scale-[1.02] active:scale-95 transition-all",children:[(0,t.jsx)(L.Plus,{size:18,strokeWidth:3}),"Add New Role"]})]}),l?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-slate-900"})}):(0,t.jsx)(sh,{roles:e,onEdit:e=>{o(e),n("edit")},onDelete:x})]})}],19790),e.s([],4594);let sg=(0,i.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),sf=(0,i.default)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var sj=e.i(73264);let sv={...{businessInfo:{businessName:"Zyappy Demo",startDate:"2024-01-01",website:"https://zyappy.com",isWebsitePublic:!0,phone:"+1 (555) 000-1234",isPhonePublic:!0,address:"123 Tech Avenue, Silicon Valley, CA",logoUrl:"https://placehold.co/200x200/0f172a/ffffff?text=ZYAPPY"},localization:{currency:"USD",decimalPrecision:2,timezone:"America/Los_Angeles",dateFormat:"MM/DD/YYYY",timeFormat:"12h"},taxes:[{id:"tax_1",name:"VAT",percentage:5,type:"Exclusive",applicableChannels:["POS","Online","Kiosk"],status:"Active"},{id:"tax_2",name:"Service Charge",percentage:10,type:"Inclusive",applicableChannels:["POS"],status:"Active"}],smtp:{host:"smtp.zyappy.com",port:587,encryption:"TLS",username:"notifications@zyappy.com",password:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",senderName:"Zyappy POS",senderEmail:"noreply@zyappy.com"},sms:{provider:"Twilio",accountSid:"ACxxxxxxxxxxxxxxxxxxxxxxxx",authToken:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",senderNumber:"+1234567890"},loyalty:{isEnabled:!0,earningRules:"1 point per $1 spent",redemptionRules:"100 points = $5 discount",expiryPeriodMonths:12},modules:{pos:!0,onlineOrdering:!0,kiosk:!0,inventory:!0,pricing:!0,kitchen:!0,delivery:!0,marketing:!0,aiPhoneOrdering:!1,analytics:!0},locations:[{id:"loc_1",name:"Flagship Store",address:"123 Main St, Downtown",status:"Active",timezone:"America/Los_Angeles",timings:{pos:Array(7).fill(null).map((e,t)=>({day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t],openTime:"09:00",closeTime:"22:00",isOpen:!0})),online:Array(7).fill(null).map((e,t)=>({day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t],openTime:"10:00",closeTime:"21:00",isOpen:!0})),kiosk:Array(7).fill(null).map((e,t)=>({day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t],openTime:"09:00",closeTime:"22:00",isOpen:!0}))}}]}},sN=[],sy=async()=>(await new Promise(e=>setTimeout(e,500)),{...sv}),sw=async e=>(sv.businessInfo=e,sR("Business Information Updated",e),{...sv.businessInfo}),sk=async e=>(sv.localization=e,sR("Localization Settings Updated",e),{...sv.localization}),sS=async e=>(sv.taxes=e,sR("Tax Configuration Updated",e),[...sv.taxes]),sC=async e=>(sv.smtp=e,sR("SMTP Settings Updated",{...e,password:"****"}),{...sv.smtp}),sI=async e=>(sv.sms=e,sR("SMS Settings Updated",{...e,authToken:"****"}),{...sv.sms}),sP=async e=>(sv.loyalty=e,sR("Loyalty Settings Updated",e),{...sv.loyalty}),sA=async e=>(sv.modules=e,sR("Module Toggles Updated",e),{...sv.modules}),sT=async e=>(sv.locations=e,sR("Location Configuration Updated",e),[...sv.locations]),sD=async e=>{if(await new Promise(e=>setTimeout(e,1e3)),e.includes("error"))throw Error("SMTP Connection Failed");return{success:!0,message:`Test email sent successfully to ${e}`}};function sR(e,t){sN.unshift({id:Date.now().toString(),timestamp:new Date().toISOString(),action:e,details:JSON.stringify(t),user:"Admin User"})}let sE=({title:e,icon:s,colorClass:a="text-slate-900"})=>(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-slate-100",children:[(0,t.jsx)("div",{className:`p-2 rounded-xl bg-slate-100 ${a}`,children:(0,t.jsx)(s,{size:20,strokeWidth:2.5})}),(0,t.jsx)("h2",{className:"text-lg font-black text-slate-900 tracking-tight uppercase tracking-wider",children:e})]}),sO=({data:e,canEdit:a,onSave:l,isSaving:r})=>{let[i,d]=(0,s.useState)(e);return(0,t.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,t.jsx)(sE,{title:"Business Information",icon:ts,colorClass:"text-emerald-600"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-1 flex flex-col items-center justify-center p-6 border-2 border-dashed border-slate-200 rounded-3xl bg-slate-50 group hover:border-emerald-300 transition-all cursor-pointer",children:[i.logoUrl?(0,t.jsx)("img",{src:i.logoUrl,alt:"Logo",className:"w-32 h-32 object-contain rounded-2xl mb-4"}):(0,t.jsx)(tO,{size:32,className:"text-slate-400 mb-4 group-hover:scale-110 transition-transform"}),(0,t.jsx)("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Logo Upload"}),(0,t.jsx)("p",{className:"text-[10px] text-slate-400 mt-1",children:"Recommended 200x200px"})]}),(0,t.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(sG,{label:"Business Name",value:i.businessName,onChange:e=>d({...i,businessName:e}),required:!0,readOnly:!a}),(0,t.jsx)(sG,{label:"Start Date",type:"date",value:i.startDate,onChange:e=>d({...i,startDate:e}),readOnly:!a}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sG,{label:"Website",value:i.website,onChange:e=>d({...i,website:e}),readOnly:!a}),(0,t.jsx)(sq,{label:"Publicly visible?",checked:i.isWebsitePublic,onChange:e=>d({...i,isWebsitePublic:e}),disabled:!a})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(sG,{label:"Phone",value:i.phone,onChange:e=>d({...i,phone:e}),readOnly:!a}),(0,t.jsx)(sq,{label:"Publicly visible?",checked:i.isPhonePublic,onChange:e=>d({...i,isPhonePublic:e}),disabled:!a})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Business Address"}),(0,t.jsx)("textarea",{value:i.address,onChange:e=>d({...i,address:e.target.value}),readOnly:!a,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:border-emerald-500 outline-none min-h-[100px] resize-none"})]})]})]}),a&&(0,t.jsx)("div",{className:"mt-8 flex justify-end",children:(0,t.jsxs)("button",{onClick:()=>l(i),disabled:r,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[r?(0,t.jsx)(n,{size:18,className:"animate-spin"}):(0,t.jsx)(H,{size:18}),"Save Changes"]})})]})},sM=({data:e,canEdit:a,onSave:l,isSaving:r})=>{let[i,d]=(0,s.useState)(e);return(0,t.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,t.jsx)(sE,{title:"Financial & Localization",icon:ek,colorClass:"text-blue-600"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsx)(sW,{label:"Currency",value:i.currency,options:["USD","EUR","GBP","INR","AED"],onChange:e=>d({...i,currency:e}),disabled:!a}),(0,t.jsx)(sW,{label:"Decimal Precision",value:i.decimalPrecision.toString(),options:["0","1","2","3"],onChange:e=>d({...i,decimalPrecision:parseInt(e)}),disabled:!a}),(0,t.jsx)(sW,{label:"Time Zone",value:i.timezone,options:["America/Los_Angeles","America/New_York","UTC","Asia/Dubai","Asia/Kolkata"],onChange:e=>d({...i,timezone:e}),disabled:!a}),(0,t.jsx)(sW,{label:"Date Format",value:i.dateFormat,options:["MM/DD/YYYY","DD/MM/YYYY","YYYY-MM-DD"],onChange:e=>d({...i,dateFormat:e}),disabled:!a}),(0,t.jsx)(sW,{label:"Time Format",value:i.timeFormat,options:["12h","24h"],onChange:e=>d({...i,timeFormat:e}),disabled:!a})]}),a&&(0,t.jsx)("div",{className:"mt-8 flex justify-end",children:(0,t.jsxs)("button",{onClick:()=>l(i),disabled:r,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[r?(0,t.jsx)(n,{size:18,className:"animate-spin"}):(0,t.jsx)(H,{size:18}),"Save Localization"]})})]})},sz=({taxes:e,canEdit:a,onSave:l,isSaving:r})=>{let[i,d]=(0,s.useState)(e),o=(e,t,s)=>{d(i.map(a=>a.id===e?{...a,[t]:s}:a))};return(0,t.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)(sE,{title:"Tax Configuration",icon:ei,colorClass:"text-orange-600"}),a&&(0,t.jsxs)("button",{onClick:()=>{d([...i,{id:Date.now().toString(),name:"New Tax",percentage:0,type:"Exclusive",applicableChannels:["POS"],status:"Active"}])},className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl text-xs font-bold border border-emerald-100 hover:bg-emerald-100 transition-all",children:[(0,t.jsx)(L.Plus,{size:16})," Add Tax"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-100",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest pl-0",children:"Tax Name"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"%"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Type"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Channels"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right pr-0",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:i.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-4 pl-0",children:(0,t.jsx)("input",{value:e.name,onChange:t=>o(e.id,"name",t.target.value),readOnly:!a,className:"bg-transparent border-none outline-none font-bold text-sm text-slate-900 w-full focus:bg-slate-50 p-1 rounded-lg"})}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsx)("input",{type:"number",value:e.percentage,onChange:t=>o(e.id,"percentage",parseFloat(t.target.value)),readOnly:!a,className:"bg-transparent border-none outline-none font-bold text-sm text-slate-900 w-16 focus:bg-slate-50 p-1 rounded-lg"})}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsxs)("select",{value:e.type,onChange:t=>o(e.id,"type",t.target.value),disabled:!a,className:"bg-transparent border-none outline-none font-bold text-xs text-slate-500 uppercase tracking-wide",children:[(0,t.jsx)("option",{value:"Inclusive",children:"Inclusive"}),(0,t.jsx)("option",{value:"Exclusive",children:"Exclusive"})]})}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsx)("div",{className:"flex gap-1",children:["POS","Online","Kiosk"].map(s=>(0,t.jsx)("button",{onClick:()=>{let t=e.applicableChannels.includes(s)?e.applicableChannels.filter(e=>e!==s):[...e.applicableChannels,s];o(e.id,"applicableChannels",t)},disabled:!a,className:`px-2 py-0.5 rounded text-[9px] font-black uppercase tracking-tighter border transition-all ${e.applicableChannels.includes(s)?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-400 border-slate-200"}`,children:s},s))})}),(0,t.jsx)("td",{className:"px-4 py-4 text-center",children:(0,t.jsx)("button",{onClick:()=>o(e.id,"status","Active"===e.status?"Inactive":"Active"),disabled:!a,className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border transition-all ${"Active"===e.status?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-slate-100 text-slate-400 border-slate-200"}`,children:e.status})}),(0,t.jsx)("td",{className:"px-4 py-4 pr-0 text-right",children:a&&(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void d(i.filter(e=>e.id!==t))},className:"p-2 text-slate-300 hover:text-rose-500 transition-all",children:(0,t.jsx)(eg,{size:16})})})]},e.id))})]})}),a&&(0,t.jsx)("div",{className:"mt-8 flex justify-end",children:(0,t.jsxs)("button",{onClick:()=>l(i),disabled:r,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[r?(0,t.jsx)(n,{size:18,className:"animate-spin"}):(0,t.jsx)(H,{size:18}),"Save Tax Config"]})})]})},sU=({data:e,canEdit:a,onSave:l,isSaving:r})=>{let[i,d]=(0,s.useState)(e),[o,c]=(0,s.useState)(!1),[x,m]=(0,s.useState)(null),p=async()=>{c(!0);try{let e=await sD(i.senderEmail);m(e.message)}catch(e){m("Error: "+e.message)}finally{c(!1),setTimeout(()=>m(null),5e3)}};return(0,t.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,t.jsx)(sE,{title:"Email (SMTP) Settings",icon:eX,colorClass:"text-purple-600"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsx)(sG,{label:"SMTP Host",value:i.host,onChange:e=>d({...i,host:e}),readOnly:!a}),(0,t.jsx)(sG,{label:"Port",type:"number",value:i.port.toString(),onChange:e=>d({...i,port:parseInt(e)||0}),readOnly:!a}),(0,t.jsx)(sW,{label:"Encryption",value:i.encryption,options:["None","SSL","TLS"],onChange:e=>d({...i,encryption:e}),disabled:!a}),(0,t.jsx)(sG,{label:"Username",value:i.username,onChange:e=>d({...i,username:e}),readOnly:!a}),(0,t.jsx)(sG,{label:"Password",type:"password",value:i.password,onChange:e=>d({...i,password:e}),readOnly:!a}),(0,t.jsx)("div",{className:"md:col-span-1"}),(0,t.jsx)(sG,{label:"Sender Name",value:i.senderName,onChange:e=>d({...i,senderName:e}),readOnly:!a}),(0,t.jsx)(sG,{label:"Sender Email",value:i.senderEmail,onChange:e=>d({...i,senderEmail:e}),readOnly:!a})]}),(0,t.jsxs)("div",{className:"mt-8 pt-8 border-t border-slate-50 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:p,disabled:o||!a,className:"px-6 py-2.5 bg-slate-100 text-slate-800 rounded-xl text-xs font-bold border border-slate-200 hover:bg-white transition-all disabled:opacity-50",children:o?"Sending...":"Send Test Email"}),x&&(0,t.jsx)("span",{className:`text-xs font-bold ${x.startsWith("Error")?"text-rose-600":"text-emerald-600"}`,children:x})]}),a&&(0,t.jsxs)("button",{onClick:()=>l(i),disabled:r,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[r?(0,t.jsx)(n,{size:18,className:"animate-spin"}):(0,t.jsx)(H,{size:18}),"Save SMTP"]})]})]})},sL=({data:e,canEdit:a,onSave:l,isSaving:r})=>{let[i,d]=(0,s.useState)(e),[o,c]=(0,s.useState)(!1);return(0,t.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,t.jsx)(sE,{title:"SMS Settings",icon:sg,colorClass:"text-emerald-600"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsx)(sW,{label:"Provider",value:i.provider,options:["Twilio"],onChange:e=>d({...i,provider:e}),disabled:!a}),(0,t.jsx)(sG,{label:"Account SID",value:i.accountSid,onChange:e=>d({...i,accountSid:e}),readOnly:!a}),(0,t.jsx)(sG,{label:"Auth Token",type:"password",value:i.authToken,onChange:e=>d({...i,authToken:e}),readOnly:!a}),(0,t.jsx)(sG,{label:"Sender Number",value:i.senderNumber,onChange:e=>d({...i,senderNumber:e}),readOnly:!a})]}),(0,t.jsxs)("div",{className:"mt-8 pt-8 border-t border-slate-50 flex items-center justify-between",children:[(0,t.jsx)("button",{onClick:()=>{c(!0),setTimeout(()=>{c(!1),alert("Test SMS Sent!")},1e3)},disabled:o||!a,className:"px-6 py-2.5 bg-slate-100 text-slate-800 rounded-xl text-xs font-bold border border-slate-200 hover:bg-white transition-all",children:o?"Sending...":"Test SMS"}),a&&(0,t.jsxs)("button",{onClick:()=>l(i),disabled:r,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[r?(0,t.jsx)(n,{size:18,className:"animate-spin"}):(0,t.jsx)(H,{size:18}),"Save SMS"]})]})]})},sF=({data:e,canEdit:a,onSave:l,isSaving:r})=>{let[i,d]=(0,s.useState)(e);return(0,t.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)(sE,{title:"Rewards & Loyalty",icon:sf,colorClass:"text-rose-600"}),(0,t.jsx)(sq,{label:"",checked:i.isEnabled,onChange:e=>d({...i,isEnabled:e}),disabled:!a})]}),(0,t.jsxs)("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 transition-opacity ${i.isEnabled?"opacity-100":"opacity-40 pointer-events-none"}`,children:[(0,t.jsx)(sG,{label:"Earning Rules",value:i.earningRules,onChange:e=>d({...i,earningRules:e}),readOnly:!a,placeholder:"e.g. 1 point per $1 unit"}),(0,t.jsx)(sG,{label:"Redemption Rules",value:i.redemptionRules,onChange:e=>d({...i,redemptionRules:e}),readOnly:!a,placeholder:"e.g. 100 points = $5"}),(0,t.jsx)(sG,{label:"Expiry Period (Months)",type:"number",value:i.expiryPeriodMonths.toString(),onChange:e=>d({...i,expiryPeriodMonths:parseInt(e)||0}),readOnly:!a})]}),a&&(0,t.jsx)("div",{className:"mt-8 flex justify-end",children:(0,t.jsxs)("button",{onClick:()=>l(i),disabled:r,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[r?(0,t.jsx)(n,{size:18,className:"animate-spin"}):(0,t.jsx)(H,{size:18}),"Save Loyalty"]})})]})},s$=({data:e,canEdit:a,onSave:l,isSaving:r})=>{let[i,d]=(0,s.useState)(e),o=Object.entries(i),c={pos:"Point of Sale (POS)",onlineOrdering:"Online Ordering",kiosk:"Self-Serve Kiosk",inventory:"Inventory & Stock",pricing:"Dynamic Pricing",kitchen:"Kitchen Display (KDS)",delivery:"Delivery Management",marketing:"Marketing Tools",aiPhoneOrdering:"AI Phone Ordering",analytics:"Advanced Analytics"};return(0,t.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,t.jsx)(sE,{title:"Module Management",icon:sj.LayoutGrid,colorClass:"text-emerald-700"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:o.map(([e,s])=>(0,t.jsxs)("div",{className:`p-4 rounded-2xl border transition-all flex items-center justify-between ${s?"bg-emerald-50 border-emerald-100":"bg-slate-50 border-slate-100 opacity-60"}`,children:[(0,t.jsx)("span",{className:"text-xs font-bold text-slate-800 truncate mr-2",children:c[e]}),(0,t.jsx)("button",{onClick:()=>d({...i,[e]:!s}),disabled:!a,className:`w-10 h-5 rounded-full relative transition-all ${s?"bg-emerald-500":"bg-slate-300"}`,children:(0,t.jsx)("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all ${s?"left-6":"left-1"}`})})]},e))}),a&&(0,t.jsx)("div",{className:"mt-8 flex justify-end",children:(0,t.jsxs)("button",{onClick:()=>l(i),disabled:r,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[r?(0,t.jsx)(n,{size:18,className:"animate-spin"}):(0,t.jsx)(H,{size:18}),"Save Modules"]})})]})},sV=({locations:e,canEdit:a,onSave:l,isSaving:r})=>{let[i,d]=(0,s.useState)(e),[o,c]=(0,s.useState)(i[0]?.id||null),x=(e,t,s)=>{d(i.map(a=>a.id===e?{...a,[t]:s}:a))},m=(e,t,s,a,l)=>{d(i.map(r=>{if(r.id!==e)return r;let i=r.timings[t].map(e=>e.day===s?{...e,[a]:l}:e);return{...r,timings:{...r.timings,[t]:i}}}))};return(0,t.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,t.jsx)(sE,{title:"Locations (Operational Configuration)",icon:G,colorClass:"text-rose-700"}),(0,t.jsx)("div",{className:"space-y-6",children:i.map(e=>(0,t.jsxs)("div",{className:"border border-slate-100 rounded-3xl overflow-hidden shadow-sm",children:[(0,t.jsxs)("div",{onClick:()=>c(o===e.id?null:e.id),className:"p-6 bg-slate-50 flex items-center justify-between cursor-pointer hover:bg-slate-100 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`w-3 h-3 rounded-full ${"Active"===e.status?"bg-emerald-500 animate-pulse":"bg-slate-300"}`}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-wider",children:e.name}),(0,t.jsx)("p",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-tighter mt-0.5",children:e.address})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"text-right mr-4 hidden md:block",children:[(0,t.jsx)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block",children:"Timezone"}),(0,t.jsx)("span",{className:"text-xs font-bold text-slate-800",children:e.timezone})]}),(0,t.jsx)(ej.ChevronDown,{className:`text-slate-400 transition-transform ${o===e.id?"rotate-180":""}`})]})]}),o===e.id&&(0,t.jsxs)("div",{className:"p-8 space-y-8 animate-in slide-in-from-top-4 duration-300",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(sG,{label:"Location Name",value:e.name,onChange:t=>x(e.id,"name",t),readOnly:!a}),(0,t.jsx)(sW,{label:"Status",value:e.status,options:["Active","Inactive"],onChange:t=>x(e.id,"status",t),disabled:!a}),(0,t.jsx)(sW,{label:"Timezone Override",value:e.timezone,options:["System Default","America/Los_Angeles","America/New_York"],onChange:t=>x(e.id,"timezone",t),disabled:!a})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest pb-2 border-b border-slate-100",children:"Store Timings & Channel Availability"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsx)(sB,{label:"POS Channel",timings:e.timings.pos,canEdit:a,onChange:(t,s,a)=>m(e.id,"pos",t,s,a)}),(0,t.jsx)(sB,{label:"Online Ordering",timings:e.timings.online,canEdit:a,onChange:(t,s,a)=>m(e.id,"online",t,s,a)}),(0,t.jsx)(sB,{label:"Self-Serve Kiosk",timings:e.timings.kiosk,canEdit:a,onChange:(t,s,a)=>m(e.id,"kiosk",t,s,a)})]})]})]})]},e.id))}),a&&(0,t.jsx)("div",{className:"mt-8 flex justify-end",children:(0,t.jsxs)("button",{onClick:()=>l(i),disabled:r,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[r?(0,t.jsx)(n,{size:18,className:"animate-spin"}):(0,t.jsx)(H,{size:18}),"Save Operational Configuration"]})})]})},sB=({label:e,timings:s,canEdit:a,onChange:l})=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-[10px] font-black text-slate-800 uppercase tracking-widest",children:e}),(0,t.jsx)("div",{className:"h-[1px] flex-1 bg-slate-100"})]}),(0,t.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between group",children:[(0,t.jsx)("span",{className:"text-[11px] font-bold text-slate-500 w-16",children:e.day}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,t.jsx)("input",{type:"time",disabled:!e.isOpen||!a,value:e.openTime,onChange:t=>l(e.day,"openTime",t.target.value),className:"px-2 py-1 bg-slate-50 border border-slate-100 rounded text-[10px] font-bold text-slate-600 focus:border-emerald-500 outline-none disabled:opacity-30 disabled:border-transparent transition-all"}),(0,t.jsx)("span",{className:"text-slate-300",children:"-"}),(0,t.jsx)("input",{type:"time",disabled:!e.isOpen||!a,value:e.closeTime,onChange:t=>l(e.day,"closeTime",t.target.value),className:"px-2 py-1 bg-slate-50 border border-slate-100 rounded text-[10px] font-bold text-slate-600 focus:border-emerald-500 outline-none disabled:opacity-30 disabled:border-transparent transition-all"})]}),(0,t.jsx)("button",{onClick:()=>l(e.day,"isOpen",!e.isOpen),disabled:!a,className:`w-12 h-6 flex items-center justify-center rounded-lg border transition-all ${e.isOpen?"bg-emerald-50 border-emerald-100 text-emerald-600":"bg-slate-50 border-slate-100 text-slate-300"}`,children:(0,t.jsx)(eW,{size:12,strokeWidth:3})})]},e.day))})]}),sG=({label:e,value:s,onChange:a,type:l="text",required:r=!1,readOnly:i=!1,placeholder:n=""})=>(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest",children:[e," ",r&&(0,t.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,t.jsx)("input",{type:l,value:s,onChange:e=>a(e.target.value),readOnly:i,placeholder:n,className:`w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:border-emerald-500 outline-none transition-all ${i?"cursor-default focus:border-slate-200":""}`})]}),sW=({label:e,value:s,options:a,onChange:l,disabled:r=!1})=>(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest",children:e}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("select",{value:s,onChange:e=>l(e.target.value),disabled:r,className:`w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:border-emerald-500 outline-none transition-all ${r?"cursor-default opacity-60":""}`,children:a.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)(ej.ChevronDown,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),sq=({label:e,checked:s,onChange:a,disabled:l=!1})=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[e&&(0,t.jsx)("span",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest",children:e}),(0,t.jsx)("button",{onClick:()=>a(!s),disabled:l,className:`w-12 h-6 rounded-full relative transition-all ${s?"bg-slate-900":"bg-slate-200"}`,children:(0,t.jsx)("div",{className:`absolute top-1.5 w-3 h-3 bg-white rounded-full transition-all ${s?"left-7":"left-2"}`})})]});e.s(["BusinessOperationsPage",0,()=>{let e=(0,ea.useRouter)(),{role:a}=(0,eV.useAuth)(),[l,r]=(0,s.useState)(null),[i,o]=(0,s.useState)(!0),[c,x]=(0,s.useState)(null),[m,p]=(0,s.useState)(null),h="ADMIN"===a||"STORE_MANAGER"===a;(0,s.useEffect)(()=>{u()},[]);let u=async()=>{o(!0);try{let e=await sy();r(e)}catch(e){console.error(e)}finally{o(!1)}},b=async(e,t)=>{if(h){x(e),p(null);try{await t(),p({type:"success",text:`${e} updated successfully.`}),setTimeout(()=>p(null),3e3)}catch(e){p({type:"error",text:e.message||"Failed to update."})}finally{x(null)}}};return i||!l?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-50",children:(0,t.jsx)(n,{className:"w-10 h-10 text-emerald-600 animate-spin"})}):(0,t.jsxs)("div",{className:"max-w-[1400px] mx-auto pb-24 space-y-8 animate-in fade-in duration-500 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between sticky top-0 z-20 bg-slate-50/80 backdrop-blur-md py-4 border-b border-slate-200 -mx-6 px-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>e.back(),className:"p-2 hover:bg-white rounded-xl transition-all border border-transparent hover:border-slate-200",children:(0,t.jsx)(tR,{size:20,className:"text-slate-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Business Operations"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Tenant-level system configuration & identity"})]})]}),m&&(0,t.jsxs)("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold border animate-in slide-in-from-top-2 duration-300 ${"success"===m.type?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-rose-50 text-rose-700 border-rose-100"}`,children:["success"===m.type?(0,t.jsx)(e2,{size:16}):(0,t.jsx)(d.AlertCircle,{size:16}),m.text]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-8",children:[(0,t.jsx)(sO,{data:l.businessInfo,canEdit:h,onSave:e=>b("Business Info",()=>sw(e)),isSaving:"Business Info"===c}),(0,t.jsx)(sM,{data:l.localization,canEdit:h,onSave:e=>b("Localization",()=>sk(e)),isSaving:"Localization"===c}),(0,t.jsx)(sz,{taxes:l.taxes,canEdit:h,onSave:e=>b("Taxes",()=>sS(e)),isSaving:"Taxes"===c}),(0,t.jsx)(sU,{data:l.smtp,canEdit:h,onSave:e=>b("SMTP Settings",()=>sC(e)),isSaving:"SMTP Settings"===c}),(0,t.jsx)(sL,{data:l.sms,canEdit:h,onSave:e=>b("SMS Settings",()=>sI(e)),isSaving:"SMS Settings"===c}),(0,t.jsx)(sF,{data:l.loyalty,canEdit:h,onSave:e=>b("Loyalty",()=>sP(e)),isSaving:"Loyalty"===c}),(0,t.jsx)(s$,{data:l.modules,canEdit:h,onSave:e=>b("Modules",()=>sA(e)),isSaving:"Modules"===c}),(0,t.jsx)(sV,{locations:l.locations,canEdit:h,onSave:e=>b("Locations",()=>sT(e)),isSaving:"Locations"===c})]})]})}],60629),e.s([],10657)}]);