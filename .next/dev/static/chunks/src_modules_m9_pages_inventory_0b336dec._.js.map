{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/AddInventoryPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Search,\n    Trash2,\n    Loader,\n    Upload,\n    Plus,\n} from 'lucide-react';\nimport { InventoryStatus, InventoryEntryProduct, InventoryItem, Vendor } from '../../types/inventory';\nimport { inventoryService, inventoryItemService, vendorService } from '../../services/inventoryService';\n\n/**\n * Add Inventory (Stock Inward) Page\n * \n * Create new stock entry (Purchase)\n */\nexport const AddInventoryPage: React.FC = () => {\n    const router = useRouter();\n    const [loading, setLoading] = useState(true);\n    const [submitting, setSubmitting] = useState(false);\n\n    // Data lists\n    const [vendors, setVendors] = useState<Vendor[]>([]);\n    const [allItems, setAllItems] = useState<InventoryItem[]>([]);\n\n    // Header Fields\n    const [supplierId, setSupplierId] = useState('');\n    const [referenceNo, setReferenceNo] = useState('');\n    const [inventoryDate, setInventoryDate] = useState(new Date().toISOString().split('T')[0]);\n    const [inventoryStatus, setInventoryStatus] = useState<InventoryStatus>('Draft');\n    const storeId = 'STORE001';\n    const [payTerm, setPayTerm] = useState('');\n    const [attachedDocument, setAttachedDocument] = useState<string | null>(null);\n\n    // Products\n    const [products, setProducts] = useState<InventoryEntryProduct[]>([]);\n\n    // Vendor Creation State\n    const [showVendorModal, setShowVendorModal] = useState(false);\n    const [newVendorName, setNewVendorName] = useState('');\n    const [newVendorContact, setNewVendorContact] = useState('');\n    const [newVendorPhone, setNewVendorPhone] = useState('');\n    const [creatingVendor, setCreatingVendor] = useState(false);\n\n    // Footer\n    // const [purchaseTax, setPurchaseTax] = useState(0);\n    const [shippingCharges, setShippingCharges] = useState(0);\n    const [additionalNotes, setAdditionalNotes] = useState('');\n\n    // Search\n    const [searchQuery, setSearchQuery] = useState('');\n    const [showSearchResults, setShowSearchResults] = useState(false);\n    const [searchResults, setSearchResults] = useState<InventoryItem[]>([]);\n\n    useEffect(() => {\n        loadData();\n    }, []);\n\n    const loadData = async () => {\n        try {\n            const [vData, iData] = await Promise.all([\n                vendorService.getAll(),\n                inventoryItemService.getAll({ status: 'Active' })\n            ]);\n            setVendors(vData);\n            setAllItems(iData);\n        } catch (error) {\n            console.error('Failed to load data:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Filter search\n    useEffect(() => {\n        if (!searchQuery.trim()) {\n            setSearchResults([]);\n            return;\n        }\n        const lower = searchQuery.toLowerCase();\n        const results = allItems.filter(item =>\n            item.name.toLowerCase().includes(lower) ||\n            item.sku.toLowerCase().includes(lower)\n        ).slice(0, 5);\n        setSearchResults(results);\n    }, [searchQuery, allItems]);\n\n    // Auto-generate reference number if empty\n    useEffect(() => {\n        if (!referenceNo) {\n            const timestamp = Date.now();\n            setReferenceNo(`PO-${new Date().getFullYear()}-${timestamp.toString().slice(-6)}`);\n        }\n    }, [referenceNo]);\n\n    // Add product to grid\n    const addProduct = (item: InventoryItem) => {\n        const newProduct: InventoryEntryProduct = {\n            id: `IEP${Date.now()}`,\n            inventoryItemId: item.id,\n            inventoryItemName: item.name,\n            sku: item.sku,\n            unitCostBeforeTax: item.averageCost, // Default to avg cost\n            taxPercentage: 0,\n            taxAmount: 0,\n            unitCostAfterTax: item.averageCost,\n            purchaseQuantity: 1,\n            subtotal: item.averageCost * 1,\n            lineTotal: item.averageCost * 1\n        };\n\n        setProducts([...products, newProduct]);\n        setSearchQuery('');\n        setShowSearchResults(false);\n    };\n\n    // Update product quantity or cost\n    const updateProduct = (id: string, field: keyof InventoryEntryProduct, value: number) => {\n        setProducts(products.map(p => {\n            if (p.id !== id) return p;\n\n            const updated = { ...p, [field]: value };\n\n            // Recalculate Logic\n            if (field === 'purchaseQuantity' || field === 'unitCostBeforeTax' || field === 'taxPercentage') {\n                const qty = updated.purchaseQuantity;\n                const cost = updated.unitCostBeforeTax;\n                const taxPct = updated.taxPercentage;\n\n                updated.subtotal = qty * cost;\n\n                // Tax Calculation Strategy: (Cost * Tax%) * Qty OR (Subtotal * Tax%)\n                // Usually Tax Amount is per line total tax.\n                // unitCostAfterTax = cost + (cost * taxPct / 100)\n                const taxPerUnit = cost * (taxPct / 100);\n                updated.unitCostAfterTax = cost + taxPerUnit;\n\n                updated.taxAmount = taxPerUnit * qty;\n                updated.lineTotal = updated.subtotal + updated.taxAmount;\n            }\n\n            return updated;\n        }));\n    };\n\n    const removeProduct = (id: string) => {\n        setProducts(products.filter(p => p.id !== id));\n    };\n\n    // Create Vendor\n    const handleCreateVendor = async () => {\n        if (!newVendorName) return alert('Vendor Name is required');\n\n        setCreatingVendor(true);\n        try {\n            const newVendor = await vendorService.create({\n                name: newVendorName,\n                contactPerson: newVendorContact,\n                phone: newVendorPhone,\n                status: 'Active'\n            });\n            setVendors([...vendors, newVendor]);\n            setSupplierId(newVendor.id);\n            setShowVendorModal(false);\n            // Reset form\n            setNewVendorName('');\n            setNewVendorContact('');\n            setNewVendorPhone('');\n        } catch (error: any) {\n            alert('Failed to create vendor: ' + error.message);\n        } finally {\n            setCreatingVendor(false);\n        }\n    };\n\n    // Calculations\n    const subtotal = products.reduce((sum, p) => sum + p.subtotal, 0);\n    const totalTax = products.reduce((sum, p) => sum + p.taxAmount, 0); // Sum of line taxes\n    const grandTotal = subtotal + totalTax + shippingCharges;\n\n    const handleSave = async (status: InventoryStatus = 'Draft') => {\n        if (!supplierId) {\n            alert('Please select a supplier');\n            return;\n        }\n        if (products.length === 0) {\n            alert('Please add at least one product');\n            return;\n        }\n\n        setSubmitting(true);\n        try {\n            // Align with CreateInventoryEntryDTO\n            const payload = {\n                supplierId,\n                storeId,\n                inventoryDate: inventoryDate, // renamed from transactionDate\n                expectedDeliveryDate: inventoryDate,\n                referenceNo,\n                inventoryStatus: status,\n                products: products, // Pass full products array (DTO likely accepts this or mapped structure)\n                additionalNotes,\n                shippingCharges,\n                purchaseTax: totalTax, // Global tax field\n                otherExpenses: 0\n            };\n\n            // Using 'any' cast if DTO mismatch persists, but trying to be correct.\n            // If createEntry expects a specific structure mapped, we map it.\n            // But usually DTOs mirror the form structure.\n            // Lint error said: \"Argument ... is not assignable ... missing ... purchaseTax\".\n\n            await inventoryService.createEntry(payload as any, 'USER001', 'Admin User');\n\n            alert(`Inventory Entry ${status === 'Received' ? 'Received' : 'Saved'} successfully!`);\n            router.push('/backoffice/inventory/entries');\n        } catch (error: any) {\n            console.error('Failed to save:', error);\n            alert('Failed to save entry: ' + error.message);\n        } finally {\n            setSubmitting(false);\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"flex items-center justify-center h-96\">\n                <Loader className=\"w-8 h-8 text-emerald-600 animate-spin\" />\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">Add Inventory</h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">Create new stock purchase order</p>\n                </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                {/* Left Column: Form & Grid */}\n                <div className=\"lg:col-span-2 space-y-6\">\n                    {/* Header Details */}\n                    <div className=\"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-4\">\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">Supplier *</label>\n                                <select\n                                    value={supplierId}\n                                    onChange={(e) => setSupplierId(e.target.value)}\n                                    className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none\"\n                                >\n                                    <option value=\"\">Select Supplier</option>\n                                    {vendors.map(v => (\n                                        <option key={v.id} value={v.id}>{v.name}</option>\n                                    ))}\n                                </select>\n                                <button\n                                    onClick={() => setShowVendorModal(true)}\n                                    className=\"mt-2 text-xs font-bold text-emerald-600 hover:text-emerald-700 flex items-center gap-1\"\n                                >\n                                    <Plus size={12} /> Add New Supplier\n                                </button>\n                            </div>\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">Date</label>\n                                <input\n                                    type=\"date\"\n                                    value={inventoryDate}\n                                    onChange={(e) => setInventoryDate(e.target.value)}\n                                    className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">Ref No.</label>\n                                <input\n                                    type=\"text\"\n                                    value={referenceNo}\n                                    onChange={(e) => setReferenceNo(e.target.value)}\n                                    className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">Status</label>\n                                <select\n                                    value={inventoryStatus}\n                                    onChange={(e) => setInventoryStatus(e.target.value as InventoryStatus)}\n                                    className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none\"\n                                >\n                                    <option value=\"Draft\">Draft</option>\n                                    <option value=\"Ordered\">Ordered</option>\n                                    <option value=\"Received\">Received</option>\n                                    <option value=\"Partial\">Partial</option>\n                                    <option value=\"Cancelled\">Cancelled</option>\n                                </select>\n\n                            </div>\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">Pay Term</label>\n                                <input\n                                    type=\"text\"\n                                    value={payTerm}\n                                    onChange={(e) => setPayTerm(e.target.value)}\n                                    placeholder=\"e.g. Net 30\"\n                                    className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">Attach Document</label>\n                                <div className=\"flex items-center gap-2\">\n                                    <button\n                                        onClick={() => document.getElementById('file-upload')?.click()}\n                                        className=\"flex-1 px-4 py-2 bg-slate-50 border border-slate-200 border-dashed rounded-xl text-sm font-bold text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-all flex items-center justify-center gap-2\"\n                                    >\n                                        <Upload size={16} />\n                                        {attachedDocument ? 'Document Attached' : 'Upload File'}\n                                    </button>\n                                    <input\n                                        id=\"file-upload\"\n                                        type=\"file\"\n                                        className=\"hidden\"\n                                        onChange={(e) => setAttachedDocument(e.target.files?.[0]?.name || null)}\n                                    />\n                                    {attachedDocument && (\n                                        <button onClick={() => setAttachedDocument(null)} className=\"p-2 text-rose-500 hover:bg-rose-50 rounded-lg\">\n                                            <Trash2 size={16} />\n                                        </button>\n                                    )}\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n\n                    {/* Product Grid */}\n                    <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                        <div className=\"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-4\">\n                            <div className=\"relative flex-1\">\n                                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                                <input\n                                    type=\"text\"\n                                    value={searchQuery}\n                                    onChange={(e) => {\n                                        setSearchQuery(e.target.value);\n                                        setShowSearchResults(true);\n                                    }}\n                                    onFocus={() => setShowSearchResults(true)}\n                                    placeholder=\"Search product to add...\"\n                                    className=\"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none\"\n                                />\n                                {showSearchResults && searchResults.length > 0 && (\n                                    <div className=\"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-10 max-h-60 overflow-y-auto\">\n                                        {searchResults.map(item => (\n                                            <button\n                                                key={item.id}\n                                                onClick={() => addProduct(item)}\n                                                className=\"w-full px-4 py-3 text-left hover:bg-slate-50 border-b border-slate-100 last:border-0\"\n                                            >\n                                                <div className=\"text-sm font-bold text-slate-900\">{item.name}</div>\n                                                <div className=\"text-xs text-slate-500\">SKU: {item.sku}</div>\n                                            </button>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full text-left border-collapse\">\n                                <thead>\n                                    <tr className=\"bg-slate-50 border-b border-slate-100 text-[10px] font-black text-slate-400 uppercase tracking-widest\">\n                                        <th className=\"px-4 py-3\">Product</th>\n                                        <th className=\"px-4 py-3 text-right\">Qty</th>\n                                        <th className=\"px-4 py-3 text-right\">Unit Cost</th>\n                                        <th className=\"px-4 py-3 text-right\">Tax %</th>\n                                        <th className=\"px-4 py-3 text-right\">Total</th>\n                                        <th className=\"px-4 py-3 text-center\"></th>\n                                    </tr>\n                                </thead>\n                                <tbody className=\"divide-y divide-slate-50\">\n                                    {products.length === 0 ? (\n                                        <tr>\n                                            <td colSpan={6} className=\"px-6 py-12 text-center text-sm text-slate-400 font-medium\">\n                                                No products added. Search above to add items.\n                                            </td>\n                                        </tr>\n                                    ) : (\n                                        products.map(p => (\n                                            <tr key={p.id} className=\"hover:bg-slate-50/50\">\n                                                <td className=\"px-4 py-3\">\n                                                    <div className=\"text-sm font-bold text-slate-900\">{p.inventoryItemName}</div>\n                                                    <div className=\"text-[10px] text-slate-400\">{p.sku}</div>\n                                                </td>\n                                                <td className=\"px-4 py-3 text-right\">\n                                                    <input\n                                                        type=\"number\"\n                                                        value={p.purchaseQuantity}\n                                                        onChange={(e) => updateProduct(p.id, 'purchaseQuantity', parseFloat(e.target.value) || 0)}\n                                                        className=\"w-20 px-2 py-1 bg-white border border-slate-200 rounded text-right text-sm focus:border-emerald-600 outline-none\"\n                                                        min=\"1\"\n                                                    />\n                                                </td>\n                                                <td className=\"px-4 py-3 text-right\">\n                                                    <input\n                                                        type=\"number\"\n                                                        value={p.unitCostBeforeTax}\n                                                        onChange={(e) => updateProduct(p.id, 'unitCostBeforeTax', parseFloat(e.target.value) || 0)}\n                                                        className=\"w-24 px-2 py-1 bg-white border border-slate-200 rounded text-right text-sm focus:border-emerald-600 outline-none\"\n                                                        min=\"0\"\n                                                        step=\"0.01\"\n                                                    />\n                                                </td>\n                                                <td className=\"px-4 py-3 text-right\">\n                                                    <input\n                                                        type=\"number\"\n                                                        value={p.taxPercentage}\n                                                        onChange={(e) => updateProduct(p.id, 'taxPercentage', parseFloat(e.target.value) || 0)}\n                                                        className=\"w-16 px-2 py-1 bg-white border border-slate-200 rounded text-right text-sm focus:border-emerald-600 outline-none\"\n                                                        min=\"0\"\n                                                        max=\"100\"\n                                                    />\n                                                </td>\n                                                <td className=\"px-4 py-3 text-right text-sm font-black text-slate-900\">\n                                                    ${p.lineTotal.toFixed(2)}\n                                                </td>\n                                                <td className=\"px-4 py-3 text-center\">\n                                                    <button\n                                                        onClick={() => removeProduct(p.id)}\n                                                        className=\"text-slate-400 hover:text-rose-600 transition-colors\"\n                                                    >\n                                                        <Trash2 size={16} />\n                                                    </button>\n                                                </td>\n                                            </tr>\n                                        ))\n                                    )}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Right Column: Footer */}\n                <div className=\"space-y-6\">\n                    <div className=\"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-4\">\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">Shipping Charges</label>\n                            <input\n                                type=\"number\"\n                                value={shippingCharges}\n                                onChange={(e) => setShippingCharges(parseFloat(e.target.value) || 0)}\n                                className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">Additional Notes</label>\n                            <textarea\n                                value={additionalNotes}\n                                onChange={(e) => setAdditionalNotes(e.target.value)}\n                                rows={3}\n                                className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none resize-none\"\n                            />\n                        </div>\n                        <div className=\"pt-4 border-t border-slate-100 space-y-2\">\n                            <div className=\"flex justify-between text-sm\">\n                                <span className=\"text-slate-600 font-medium\">Subtotal</span>\n                                <span className=\"font-bold text-slate-900\">${subtotal.toFixed(2)}</span>\n                            </div>\n                            <div className=\"flex justify-between text-sm\">\n                                <span className=\"text-slate-600 font-medium\">Total Tax</span>\n                                <span className=\"font-bold text-emerald-600\">${totalTax.toFixed(2)}</span>\n                            </div>\n                            <div className=\"flex justify-between text-sm\">\n                                <span className=\"text-slate-600 font-medium\">Shipping</span>\n                                <span className=\"font-bold text-slate-900\">${shippingCharges.toFixed(2)}</span>\n                            </div>\n                            <div className=\"flex justify-between text-lg pt-2 border-t border-slate-100\">\n                                <span className=\"font-black text-slate-900 uppercase\">Grand Total</span>\n                                <span className=\"font-black text-emerald-600\">${grandTotal.toFixed(2)}</span>\n                            </div>\n                        </div>\n\n                        <div className=\"flex items-center gap-3 mt-6\">\n                            <button\n                                onClick={() => handleSave('Draft')}\n                                disabled={submitting}\n                                className=\"flex-1 py-3 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all disabled:opacity-50\"\n                            >\n                                Save Draft\n                            </button>\n                            <button\n                                onClick={() => handleSave(inventoryStatus === 'Received' ? 'Received' : 'Ordered')}\n                                disabled={submitting}\n                                className=\"flex-[2] py-3 bg-emerald-600 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all disabled:opacity-50\"\n                            >\n                                {submitting ? 'Saving...' : (inventoryStatus === 'Received' ? 'Recieve Now' : 'Create Order')}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            {/* Add Vendor Modal */}\n            {\n                showVendorModal && (\n                    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4\">\n                        <div className=\"bg-white rounded-3xl p-8 w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200\">\n                            <h2 className=\"text-xl font-black text-slate-900 mb-6\">Add New Supplier</h2>\n                            <div className=\"space-y-4\">\n                                <div>\n                                    <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Supplier Name *</label>\n                                    <input\n                                        type=\"text\"\n                                        value={newVendorName}\n                                        onChange={(e) => setNewVendorName(e.target.value)}\n                                        className=\"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-900 focus:border-emerald-500 outline-none\"\n                                        placeholder=\"e.g. Acme Supplies\"\n                                    />\n                                </div>\n                                <div>\n                                    <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Contact Person</label>\n                                    <input\n                                        type=\"text\"\n                                        value={newVendorContact}\n                                        onChange={(e) => setNewVendorContact(e.target.value)}\n                                        className=\"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-900 focus:border-emerald-500 outline-none\"\n                                        placeholder=\"e.g. John Doe\"\n                                    />\n                                </div>\n                                <div>\n                                    <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Phone</label>\n                                    <input\n                                        type=\"text\"\n                                        value={newVendorPhone}\n                                        onChange={(e) => setNewVendorPhone(e.target.value)}\n                                        className=\"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-900 focus:border-emerald-500 outline-none\"\n                                        placeholder=\"e.g. +1 234 567 890\"\n                                    />\n                                </div>\n                            </div>\n                            <div className=\"flex items-center gap-3 mt-8\">\n                                <button\n                                    onClick={() => setShowVendorModal(false)}\n                                    className=\"flex-1 py-3 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200\"\n                                >\n                                    Cancel\n                                </button>\n                                <button\n                                    onClick={handleCreateVendor}\n                                    disabled={creatingVendor}\n                                    className=\"flex-1 py-3 bg-emerald-600 text-white rounded-xl text-sm font-black uppercase tracking-widest hover:bg-emerald-700 disabled:opacity-50\"\n                                >\n                                    {creatingVendor ? 'Saving...' : 'Add Supplier'}\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                )\n            }\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1291, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/InventoryEntriesPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Search,\n    Filter,\n    Eye,\n    Printer,\n    Edit3,\n    Trash2,\n    Tag,\n    Calendar\n} from 'lucide-react';\nimport { InventoryStatus, PaymentStatus } from '../../types/inventory';\nimport { mockInventoryEntries, mockVendors } from '../../mock/inventory';\n\n/**\n * Inventory Entries (Transactions) Page\n * View all stock inward transactions with filters\n * \n * Mandatory: Date Range filter\n * Edit: Only if status = Draft/Ordered\n * Delete: Admin only, before stock is received\n */\nexport const InventoryEntriesPage: React.FC = () => {\n    const router = useRouter();\n\n    // Filters\n    const [searchQuery, setSearchQuery] = useState('');\n    const [selectedStore, setSelectedStore] = useState('');\n    const [selectedSupplier, setSelectedSupplier] = useState('');\n    const [selectedEntryStatus, setSelectedEntryStatus] = useState<InventoryStatus | ''>('');\n    const [selectedPaymentStatus, setSelectedPaymentStatus] = useState<PaymentStatus | ''>('');\n    const [dateFrom, setDateFrom] = useState('');\n    const [dateTo, setDateTo] = useState('');\n    const [showFilters, setShowFilters] = useState(false);\n\n    // Filter entries\n    const filteredEntries = mockInventoryEntries.filter(entry => {\n        if (searchQuery && !entry.referenceNo.toLowerCase().includes(searchQuery.toLowerCase())) return false;\n        if (selectedStore && entry.storeId !== selectedStore) return false;\n        if (selectedSupplier && entry.supplierId !== selectedSupplier) return false;\n        if (selectedEntryStatus && entry.inventoryStatus !== selectedEntryStatus) return false;\n        if (selectedPaymentStatus && entry.paymentStatus !== selectedPaymentStatus) return false;\n        if (dateFrom && new Date(entry.inventoryDate) < new Date(dateFrom)) return false;\n        if (dateTo && new Date(entry.inventoryDate) > new Date(dateTo)) return false;\n        return true;\n    });\n\n    // Status badge color\n    const getStatusColor = (status: InventoryStatus) => {\n        switch (status) {\n            case 'Received': return 'bg-emerald-50 text-emerald-600 border-emerald-200';\n            case 'Partial': return 'bg-blue-50 text-blue-600 border-blue-200';\n            case 'Ordered': return 'bg-violet-50 text-violet-600 border-violet-200';\n            case 'Draft': return 'bg-slate-50 text-slate-600 border-slate-200';\n            case 'Cancelled': return 'bg-rose-50 text-rose-600 border-rose-200';\n        }\n    };\n\n    const getPaymentStatusColor = (status: PaymentStatus) => {\n        switch (status) {\n            case 'Paid': return 'bg-emerald-50 text-emerald-600 border-emerald-200';\n            case 'Partial': return 'bg-amber-50 text-amber-600 border-amber-200';\n            case 'Unpaid': return 'bg-rose-50 text-rose-600 border-rose-200';\n        }\n    };\n\n    // Can edit/delete\n    const canEdit = (entry: typeof mockInventoryEntries[0]) => {\n        return entry.inventoryStatus === 'Draft' || entry.inventoryStatus === 'Ordered';\n    };\n\n    const canDelete = (entry: typeof mockInventoryEntries[0]) => {\n        // Admin only, before stock is received\n        return entry.inventoryStatus !== 'Received' && entry.inventoryStatus !== 'Partial';\n    };\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">Inventory Entries</h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">View all stock inward transactions</p>\n                </div>\n            </div>\n\n            {/* Search & Filter Bar */}\n            <div className=\"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm space-y-4\">\n                <div className=\"flex items-center gap-4\">\n                    <div className=\"relative flex-1\">\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                        <input\n                            type=\"text\"\n                            value={searchQuery}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                            placeholder=\"Search by reference number...\"\n                            className=\"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-emerald-600 transition-all\"\n                        />\n                    </div>\n                    <button\n                        onClick={() => setShowFilters(!showFilters)}\n                        className={`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all ${showFilters\n                            ? 'bg-emerald-600 text-white'\n                            : 'bg-slate-50 border border-slate-200 text-slate-600 hover:bg-white'\n                            }`}\n                    >\n                        <Filter size={14} />\n                        Filters\n                    </button>\n                </div>\n\n                {/* Filter Panel */}\n                {showFilters && (\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4 border-t border-slate-100\">\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Supplier\n                            </label>\n                            <select\n                                value={selectedSupplier}\n                                onChange={(e) => setSelectedSupplier(e.target.value)}\n                                className=\"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600\"\n                            >\n                                <option value=\"\">All Suppliers</option>\n                                {mockVendors.map(vendor => (\n                                    <option key={vendor.id} value={vendor.id}>{vendor.name}</option>\n                                ))}\n                            </select>\n                        </div>\n\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Entry Status\n                            </label>\n                            <select\n                                value={selectedEntryStatus}\n                                onChange={(e) => setSelectedEntryStatus(e.target.value as InventoryStatus | '')}\n                                className=\"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600\"\n                            >\n                                <option value=\"\">All Statuses</option>\n                                <option value=\"Draft\">Draft</option>\n                                <option value=\"Ordered\">Ordered</option>\n                                <option value=\"Received\">Received</option>\n                                <option value=\"Partial\">Partial</option>\n                                <option value=\"Cancelled\">Cancelled</option>\n                            </select>\n                        </div>\n\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Payment Status\n                            </label>\n                            <select\n                                value={selectedPaymentStatus}\n                                onChange={(e) => setSelectedPaymentStatus(e.target.value as PaymentStatus | '')}\n                                className=\"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600\"\n                            >\n                                <option value=\"\">All Statuses</option>\n                                <option value=\"Unpaid\">Unpaid</option>\n                                <option value=\"Partial\">Partial</option>\n                                <option value=\"Paid\">Paid</option>\n                            </select>\n                        </div>\n\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Date From <span className=\"text-rose-500\">*</span>\n                            </label>\n                            <input\n                                type=\"date\"\n                                value={dateFrom}\n                                onChange={(e) => setDateFrom(e.target.value)}\n                                className=\"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600\"\n                            />\n                        </div>\n\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Date To <span className=\"text-rose-500\">*</span>\n                            </label>\n                            <input\n                                type=\"date\"\n                                value={dateTo}\n                                onChange={(e) => setDateTo(e.target.value)}\n                                className=\"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600\"\n                            />\n                        </div>\n\n                        <div className=\"flex items-end\">\n                            <button\n                                onClick={() => {\n                                    setSelectedStore('');\n                                    setSelectedSupplier('');\n                                    setSelectedEntryStatus('');\n                                    setSelectedPaymentStatus('');\n                                    setDateFrom('');\n                                    setDateTo('');\n                                }}\n                                className=\"w-full px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all\"\n                            >\n                                Clear Filters\n                            </button>\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            {/* Results Count */}\n            <div className=\"flex items-center justify-between\">\n                <p className=\"text-sm text-slate-600 font-medium\">\n                    Showing <span className=\"font-black text-slate-900\">{filteredEntries.length}</span> entries\n                </p>\n            </div>\n\n            {/* Table */}\n            <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-left border-collapse\">\n                        <thead>\n                            <tr className=\"bg-slate-50 border-b border-slate-100\">\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Action</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Date</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Reference No</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Location</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Supplier</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Entry Status</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Payment Status</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Grand Total</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Payment Due</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Added By</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-slate-50\">\n                            {filteredEntries.length === 0 ? (\n                                <tr>\n                                    <td colSpan={10} className=\"px-6 py-12 text-center\">\n                                        <div className=\"flex flex-col items-center gap-3\">\n                                            <Calendar size={32} className=\"text-slate-300\" />\n                                            <p className=\"text-sm text-slate-400 font-medium\">No entries found. Try adjusting your filters.</p>\n                                        </div>\n                                    </td>\n                                </tr>\n                            ) : (\n                                filteredEntries.map((entry) => (\n                                    <tr key={entry.id} className=\"group hover:bg-slate-50/50 transition-colors\">\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"flex items-center gap-2\">\n                                                <button\n                                                    onClick={() => router.push(`/backoffice/inventory/entries/${entry.id}`)}\n                                                    className=\"p-2 text-slate-400 hover:text-blue-600 transition-colors\"\n                                                    title=\"View\"\n                                                >\n                                                    <Eye size={16} />\n                                                </button>\n                                                <button\n                                                    onClick={() => window.print()}\n                                                    className=\"p-2 text-slate-400 hover:text-slate-900 transition-colors\"\n                                                    title=\"Print\"\n                                                >\n                                                    <Printer size={16} />\n                                                </button>\n                                                {canEdit(entry) && (\n                                                    <button\n                                                        onClick={() => router.push(`/backoffice/inventory/entries/${entry.id}/edit`)}\n                                                        className=\"p-2 text-slate-400 hover:text-emerald-600 transition-colors\"\n                                                        title=\"Edit\"\n                                                    >\n                                                        <Edit3 size={16} />\n                                                    </button>\n                                                )}\n                                                {canDelete(entry) && (\n                                                    <button\n                                                        onClick={() => {\n                                                            if (window.confirm('Are you sure you want to delete this entry?')) {\n                                                                // inventoryService.delete(entry.id).then(loadEntries); // Mock call\n                                                                alert('Delete functionality not connected to backend yet.');\n                                                            }\n                                                        }}\n                                                        className=\"p-2 text-slate-400 hover:text-rose-600 transition-colors\"\n                                                        title=\"Delete\"\n                                                    >\n                                                        <Trash2 size={16} />\n                                                    </button>\n                                                )}\n                                                <button\n                                                    onClick={() => alert('Label printing would start here')}\n                                                    className=\"p-2 text-slate-400 hover:text-violet-600 transition-colors\"\n                                                    title=\"Labels\"\n                                                >\n                                                    <Tag size={16} />\n                                                </button>\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-sm font-bold text-slate-900\">\n                                            {new Date(entry.inventoryDate).toLocaleDateString()}\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"text-sm font-black text-emerald-600\">{entry.referenceNo}</div>\n                                            <div className=\"text-[10px] text-slate-400 font-bold uppercase tracking-tight\">ID: {entry.id}</div>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-sm font-bold text-slate-600\">{entry.storeName}</td>\n                                        <td className=\"px-6 py-4 text-sm font-bold text-slate-900\">{entry.supplierName}</td>\n                                        <td className=\"px-6 py-4\">\n                                            <span className={`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${getStatusColor(entry.inventoryStatus)}`}>\n                                                {entry.inventoryStatus}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <span className={`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${getPaymentStatusColor(entry.paymentStatus)}`}>\n                                                {entry.paymentStatus}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            <div className=\"text-sm font-black text-slate-900 tabular-nums\">${entry.grandTotal.toFixed(2)}</div>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            <div className={`text-sm font-black tabular-nums ${entry.paymentDue > 0 ? 'text-rose-600' : 'text-emerald-600'}`}>\n                                                ${entry.paymentDue.toFixed(2)}\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"text-sm font-bold text-slate-600\">{entry.createdByName}</div>\n                                            <div className=\"text-[10px] text-slate-400 font-medium\">\n                                                {new Date(entry.createdAt).toLocaleString()}\n                                            </div>\n                                        </td>\n                                    </tr>\n                                ))\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2232, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/ListInventoryPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Search,\n    Filter,\n    Plus,\n    Eye,\n    Edit3,\n    TrendingDown,\n    FileText,\n    AlertTriangle,\n    Package\n} from 'lucide-react';\nimport { ItemStatus } from '../../types/inventory';\nimport { mockInventoryItems } from '../../mock/inventory';\n\n/**\n * List Inventory (Inventory Items / Ingredients) Page\n * Canonical list of inventory items (ingredients)\n * \n * Rules:\n * - Inventory items are tenant-wide\n * - Vendors supply items but do NOT define them\n * - Recipes & sales deduct stock from these items only\n */\nexport const ListInventoryPage: React.FC = () => {\n    const router = useRouter();\n\n    // Filters\n    const [searchQuery, setSearchQuery] = useState('');\n    const [selectedStatus, setSelectedStatus] = useState<ItemStatus | ''>('');\n    const [showLowStockOnly, setShowLowStockOnly] = useState(false);\n    const [showFilters, setShowFilters] = useState(false);\n\n    // Filter items\n    const filteredItems = mockInventoryItems.filter(item => {\n        if (searchQuery && !item.name.toLowerCase().includes(searchQuery.toLowerCase()) && !item.sku.toLowerCase().includes(searchQuery.toLowerCase())) return false;\n        if (selectedStatus && item.status !== selectedStatus) return false;\n        if (showLowStockOnly && item.currentStock > item.lowStockThreshold) return false;\n        return true;\n    });\n\n    // Stats\n    const lowStockCount = mockInventoryItems.filter(item => item.currentStock <= item.lowStockThreshold).length;\n    const totalValue = mockInventoryItems.reduce((sum, item) => sum + (item.currentStock * item.averageCost), 0);\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">List Inventory</h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">Canonical list of inventory items (ingredients)</p>\n                </div>\n                <button\n                    onClick={() => router.push('/backoffice/inventory/items/create')}\n                    className=\"flex items-center gap-2 px-5 py-2.5 bg-emerald-600 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all active:scale-95\"\n                >\n                    <Plus size={16} strokeWidth={3} />\n                    Add Item\n                </button>\n            </div>\n\n            {/* Quick Stats */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div className=\"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200\">\n                            <Package size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-emerald-600 uppercase tracking-widest\">Total Items</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-emerald-900 tracking-tight\">\n                        {mockInventoryItems.length}\n                    </div>\n                    <div className=\"text-xs text-emerald-600 font-bold mt-1\">\n                        Active Ingredients\n                    </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200\">\n                            <TrendingDown size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-blue-600 uppercase tracking-widest\">Total Value</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-blue-900 tracking-tight\">\n                        ${totalValue.toFixed(2)}\n                    </div>\n                    <div className=\"text-xs text-blue-600 font-bold mt-1\">\n                        Current Stock Value\n                    </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-3xl border border-amber-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-amber-600 rounded-2xl shadow-lg shadow-amber-200\">\n                            <AlertTriangle size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-amber-600 uppercase tracking-widest\">Low Stock</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-amber-900 tracking-tight\">\n                        {lowStockCount}\n                    </div>\n                    <div className=\"text-xs text-amber-600 font-bold mt-1\">\n                        Items Below Threshold\n                    </div>\n                </div>\n            </div>\n\n            {/* Search & Filter Bar */}\n            <div className=\"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm space-y-4\">\n                <div className=\"flex items-center gap-4\">\n                    <div className=\"relative flex-1\">\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                        <input\n                            type=\"text\"\n                            value={searchQuery}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                            placeholder=\"Search by item name or SKU...\"\n                            className=\"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-emerald-600 transition-all\"\n                        />\n                    </div>\n                    <button\n                        onClick={() => setShowFilters(!showFilters)}\n                        className={`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all ${showFilters\n                            ? 'bg-emerald-600 text-white'\n                            : 'bg-slate-50 border border-slate-200 text-slate-600 hover:bg-white'\n                            }`}\n                    >\n                        <Filter size={14} />\n                        Filters\n                    </button>\n                </div>\n\n                {/* Filter Panel */}\n                {showFilters && (\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-slate-100\">\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Status\n                            </label>\n                            <select\n                                value={selectedStatus}\n                                onChange={(e) => setSelectedStatus(e.target.value as ItemStatus | '')}\n                                className=\"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600\"\n                            >\n                                <option value=\"\">All Statuses</option>\n                                <option value=\"Active\">Active</option>\n                                <option value=\"Inactive\">Inactive</option>\n                            </select>\n                        </div>\n\n                        <div className=\"flex items-end\">\n                            <label className=\"flex items-center gap-2 cursor-pointer\">\n                                <input\n                                    type=\"checkbox\"\n                                    checked={showLowStockOnly}\n                                    onChange={(e) => setShowLowStockOnly(e.target.checked)}\n                                    className=\"w-4 h-4 text-emerald-600 border-slate-300 rounded focus:ring-emerald-500\"\n                                />\n                                <span className=\"text-sm font-bold text-slate-600\">Show Low Stock Only</span>\n                            </label>\n                        </div>\n\n                        <div className=\"flex items-end\">\n                            <button\n                                onClick={() => {\n                                    setSelectedStatus('');\n                                    setShowLowStockOnly(false);\n                                }}\n                                className=\"w-full px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all\"\n                            >\n                                Clear Filters\n                            </button>\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            {/* Results Count */}\n            <div className=\"flex items-center justify-between\">\n                <p className=\"text-sm text-slate-600 font-medium\">\n                    Showing <span className=\"font-black text-slate-900\">{filteredItems.length}</span> items\n                </p>\n            </div>\n\n            {/* Table */}\n            <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-left border-collapse\">\n                        <thead>\n                            <tr className=\"bg-slate-50 border-b border-slate-100\">\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Item Name</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">SKU</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Base Unit</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Current Stock</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Average Cost</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Stock Value</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Low Stock Threshold</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center\">Status</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center\">Action</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-slate-50\">\n                            {filteredItems.length === 0 ? (\n                                <tr>\n                                    <td colSpan={9} className=\"px-6 py-12 text-center\">\n                                        <div className=\"flex flex-col items-center gap-3\">\n                                            <Package size={32} className=\"text-slate-300\" />\n                                            <p className=\"text-sm text-slate-400 font-medium\">No items found. Try adjusting your filters.</p>\n                                        </div>\n                                    </td>\n                                </tr>\n                            ) : (\n                                filteredItems.map((item) => {\n                                    const isLowStock = item.currentStock <= item.lowStockThreshold;\n                                    const stockValue = item.currentStock * item.averageCost;\n\n                                    return (\n                                        <tr key={item.id} className=\"group hover:bg-slate-50/50 transition-colors\">\n                                            <td className=\"px-6 py-4\">\n                                                <div className=\"text-sm font-black text-slate-900\">{item.name}</div>\n                                                {item.description && (\n                                                    <div className=\"text-xs text-slate-500 font-medium mt-1\">{item.description}</div>\n                                                )}\n                                            </td>\n                                            <td className=\"px-6 py-4\">\n                                                <span className=\"px-2 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold border border-slate-200\">\n                                                    {item.sku}\n                                                </span>\n                                            </td>\n                                            <td className=\"px-6 py-4 text-sm font-bold text-slate-600\">{item.baseUnit}</td>\n                                            <td className=\"px-6 py-4 text-right\">\n                                                <div className={`text-sm font-black tabular-nums ${isLowStock ? 'text-rose-600' : 'text-slate-900'}`}>\n                                                    {item.currentStock.toFixed(2)}\n                                                </div>\n                                                {isLowStock && (\n                                                    <div className=\"flex items-center justify-end gap-1 mt-1\">\n                                                        <AlertTriangle size={12} className=\"text-rose-500\" />\n                                                        <span className=\"text-[10px] text-rose-500 font-bold uppercase\">Low</span>\n                                                    </div>\n                                                )}\n                                            </td>\n                                            <td className=\"px-6 py-4 text-right\">\n                                                <div className=\"text-sm font-black text-slate-900 tabular-nums\">\n                                                    ${item.averageCost.toFixed(2)}\n                                                </div>\n                                            </td>\n                                            <td className=\"px-6 py-4 text-right\">\n                                                <div className=\"text-sm font-black text-emerald-600 tabular-nums\">\n                                                    ${stockValue.toFixed(2)}\n                                                </div>\n                                            </td>\n                                            <td className=\"px-6 py-4 text-right\">\n                                                <div className=\"text-sm font-bold text-slate-600 tabular-nums\">\n                                                    {item.lowStockThreshold}\n                                                </div>\n                                            </td>\n                                            <td className=\"px-6 py-4 text-center\">\n                                                <span className={`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${item.status === 'Active'\n                                                    ? 'bg-emerald-50 text-emerald-600 border-emerald-200'\n                                                    : 'bg-slate-100 text-slate-400 border-slate-200'\n                                                    }`}>\n                                                    {item.status}\n                                                </span>\n                                            </td>\n                                            <td className=\"px-6 py-4\">\n                                                <div className=\"flex items-center justify-center gap-2\">\n                                                    <button\n                                                        onClick={() => router.push(`/backoffice/inventory/items/${item.id}`)}\n                                                        className=\"p-2 text-slate-400 hover:text-blue-600 transition-colors\"\n                                                        title=\"View Item\"\n                                                    >\n                                                        <Eye size={16} />\n                                                    </button>\n                                                    <button\n                                                        onClick={() => router.push(`/backoffice/inventory/items/${item.id}/edit`)}\n                                                        className=\"p-2 text-slate-400 hover:text-emerald-600 transition-colors\"\n                                                        title=\"Edit Item\"\n                                                    >\n                                                        <Edit3 size={16} />\n                                                    </button>\n                                                    <button\n                                                        onClick={() => router.push(`/backoffice/inventory/items/${item.id}/ledger`)}\n                                                        className=\"p-2 text-slate-400 hover:text-violet-600 transition-colors\"\n                                                        title=\"View Ledger\"\n                                                    >\n                                                        <FileText size={16} />\n                                                    </button>\n                                                </div>\n                                            </td>\n                                        </tr>\n                                    );\n                                })\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3142, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/RecipesPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Search,\n    Plus,\n    Eye,\n    Edit3,\n    Copy,\n    Trash2,\n    ChefHat,\n    AlertCircle\n} from 'lucide-react';\nimport { RecipeStatus } from '../../types/inventory';\nimport { mockRecipes } from '../../mock/inventory';\n\n/**\n * Recipes (BOM & Costing) Page\n * \n * Rules:\n * - Uses Inventory Items ONLY\n * - Vendor changes NEVER affect recipes\n * - One recipe can attach to multiple products\n * - Recipe cost auto-calculated\n * - Inventory deduction always via recipe ingredients\n * - NO discounts or manual cost overrides\n */\nexport const RecipesPage: React.FC = () => {\n    const router = useRouter();\n\n    // Filters\n    const [searchQuery, setSearchQuery] = useState('');\n    const [selectedStatus, setSelectedStatus] = useState<RecipeStatus | ''>('');\n\n    // Filter recipes\n    const filteredRecipes = mockRecipes.filter(recipe => {\n        if (searchQuery && !recipe.name.toLowerCase().includes(searchQuery.toLowerCase())) return false;\n        if (selectedStatus && recipe.status !== selectedStatus) return false;\n        return true;\n    });\n\n    // Stats\n    const totalRecipes = mockRecipes.length;\n    const activeRecipes = mockRecipes.filter(r => r.status === 'Active').length;\n    const avgRecipeCost = mockRecipes.reduce((sum, r) => sum + r.totalRecipeCost, 0) / mockRecipes.length;\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">Recipes (BOM & Costing)</h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">Bill of Materials and automatic cost calculation</p>\n                </div>\n                <button\n                    onClick={() => router.push('/backoffice/inventory/recipes/create')}\n                    className=\"flex items-center gap-2 px-5 py-2.5 bg-orange-600 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-orange-200 hover:bg-orange-700 transition-all active:scale-95\"\n                >\n                    <Plus size={16} strokeWidth={3} />\n                    Create Recipe\n                </button>\n            </div>\n\n            {/* Quick Stats */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div className=\"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-3xl border border-orange-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-orange-600 rounded-2xl shadow-lg shadow-orange-200\">\n                            <ChefHat size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-orange-600 uppercase tracking-widest\">Total Recipes</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-orange-900 tracking-tight\">\n                        {totalRecipes}\n                    </div>\n                    <div className=\"text-xs text-orange-600 font-bold mt-1\">\n                        {activeRecipes} Active\n                    </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200\">\n                            <ChefHat size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-emerald-600 uppercase tracking-widest\">Avg Cost</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-emerald-900 tracking-tight\">\n                        ${avgRecipeCost.toFixed(2)}\n                    </div>\n                    <div className=\"text-xs text-emerald-600 font-bold mt-1\">\n                        Per Recipe\n                    </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200\">\n                            <ChefHat size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-blue-600 uppercase tracking-widest\">In Use</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-blue-900 tracking-tight\">\n                        {mockRecipes.reduce((sum, r) => sum + r.usedByProductCount, 0)}\n                    </div>\n                    <div className=\"text-xs text-blue-600 font-bold mt-1\">\n                        Product Attachments\n                    </div>\n                </div>\n            </div>\n\n            {/* Search & Filter Bar */}\n            <div className=\"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm\">\n                <div className=\"flex items-center gap-4\">\n                    <div className=\"relative flex-1\">\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                        <input\n                            type=\"text\"\n                            value={searchQuery}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                            placeholder=\"Search recipes by name...\"\n                            className=\"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-orange-600 transition-all\"\n                        />\n                    </div>\n                    <select\n                        value={selectedStatus}\n                        onChange={(e) => setSelectedStatus(e.target.value as RecipeStatus | '')}\n                        className=\"px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-600 focus:border-orange-600\"\n                    >\n                        <option value=\"\">All Statuses</option>\n                        <option value=\"Active\">Active</option>\n                        <option value=\"Inactive\">Inactive</option>\n                    </select>\n                </div>\n            </div>\n\n            {/* Results Count */}\n            <div className=\"flex items-center justify-between\">\n                <p className=\"text-sm text-slate-600 font-medium\">\n                    Showing <span className=\"font-black text-slate-900\">{filteredRecipes.length}</span> recipes\n                </p>\n            </div>\n\n            {/* Table */}\n            <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-left border-collapse\">\n                        <thead>\n                            <tr className=\"bg-slate-50 border-b border-slate-100\">\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Recipe Name</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center\">Total Ingredients</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Total Recipe Cost</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center\">Used By (Products)</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center\">Status</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Last Updated</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center\">Action</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-slate-50\">\n                            {filteredRecipes.length === 0 ? (\n                                <tr>\n                                    <td colSpan={7} className=\"px-6 py-12 text-center\">\n                                        <div className=\"flex flex-col items-center gap-3\">\n                                            <ChefHat size={32} className=\"text-slate-300\" />\n                                            <p className=\"text-sm text-slate-400 font-medium\">No recipes found. Create your first recipe to get started.</p>\n                                        </div>\n                                    </td>\n                                </tr>\n                            ) : (\n                                filteredRecipes.map((recipe) => (\n                                    <tr key={recipe.id} className=\"group hover:bg-slate-50/50 transition-colors\">\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"flex items-center gap-3\">\n                                                <div className=\"p-2 bg-orange-100 rounded-xl\">\n                                                    <ChefHat size={16} className=\"text-orange-600\" />\n                                                </div>\n                                                <div>\n                                                    <div className=\"text-sm font-black text-slate-900\">{recipe.name}</div>\n                                                    {recipe.description && (\n                                                        <div className=\"text-xs text-slate-500 font-medium mt-1\">{recipe.description}</div>\n                                                    )}\n                                                </div>\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-center\">\n                                            <span className=\"px-3 py-1 bg-slate-100 text-slate-900 rounded-lg text-sm font-black border border-slate-200\">\n                                                {recipe.ingredients.length}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            <div className=\"text-base font-black text-emerald-600 tabular-nums\">\n                                                ${recipe.totalRecipeCost.toFixed(2)}\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-center\">\n                                            <span className=\"px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-sm font-black border border-blue-200\">\n                                                {recipe.usedByProductCount}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-center\">\n                                            <span className={`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${recipe.status === 'Active'\n                                                ? 'bg-emerald-50 text-emerald-600 border-emerald-200'\n                                                : 'bg-slate-100 text-slate-400 border-slate-200'\n                                                }`}>\n                                                {recipe.status}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"text-sm font-bold text-slate-600\">\n                                                {new Date(recipe.updatedAt).toLocaleDateString()}\n                                            </div>\n                                            <div className=\"text-xs text-slate-400 font-medium\">\n                                                {new Date(recipe.updatedAt).toLocaleTimeString()}\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"flex items-center justify-center gap-2\">\n                                                <button\n                                                    onClick={() => router.push(`/backoffice/inventory/recipes/${recipe.id}`)}\n                                                    className=\"p-2 text-slate-400 hover:text-blue-600 transition-colors\"\n                                                    title=\"View\"\n                                                >\n                                                    <Eye size={16} />\n                                                </button>\n                                                <button\n                                                    onClick={() => router.push(`/backoffice/inventory/recipes/${recipe.id}/edit`)}\n                                                    className=\"p-2 text-slate-400 hover:text-emerald-600 transition-colors\"\n                                                    title=\"Edit\"\n                                                >\n                                                    <Edit3 size={16} />\n                                                </button>\n                                                <button\n                                                    onClick={() => {/* TODO: Duplicate recipe */ }}\n                                                    className=\"p-2 text-slate-400 hover:text-violet-600 transition-colors\"\n                                                    title=\"Duplicate\"\n                                                >\n                                                    <Copy size={16} />\n                                                </button>\n                                                <button\n                                                    disabled={recipe.usedByProductCount > 0}\n                                                    className={`p-2 transition-colors ${recipe.usedByProductCount > 0\n                                                        ? 'text-slate-300 cursor-not-allowed'\n                                                        : 'text-slate-400 hover:text-rose-600'\n                                                        }`}\n                                                    title={recipe.usedByProductCount > 0 ? 'Cannot delete - attached to products' : 'Delete'}\n                                                >\n                                                    <Trash2 size={16} />\n                                                </button>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                ))\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n\n            {/* Info Banner */}\n            <div className=\"bg-blue-50 border border-blue-200 rounded-3xl p-6\">\n                <div className=\"flex items-start gap-4\">\n                    <div className=\"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200\">\n                        <AlertCircle size={20} className=\"text-white\" />\n                    </div>\n                    <div className=\"flex-1\">\n                        <h3 className=\"text-lg font-black text-blue-900 tracking-tight mb-2\">\n                            Recipe Rules\n                        </h3>\n                        <ul className=\"space-y-2 text-sm text-blue-700 font-medium\">\n                            <li className=\"flex items-start gap-2\">\n                                <span className=\"text-blue-600 font-black\"></span>\n                                <span>Recipes use <strong>Inventory Items ONLY</strong> - vendor changes never affect recipes</span>\n                            </li>\n                            <li className=\"flex items-start gap-2\">\n                                <span className=\"text-blue-600 font-black\"></span>\n                                <span>One recipe can attach to <strong>multiple products</strong></span>\n                            </li>\n                            <li className=\"flex items-start gap-2\">\n                                <span className=\"text-blue-600 font-black\"></span>\n                                <span>Recipe cost is <strong>auto-calculated</strong> - no manual overrides allowed</span>\n                            </li>\n                            <li className=\"flex items-start gap-2\">\n                                <span className=\"text-blue-600 font-black\"></span>\n                                <span>Inventory deduction <strong>always via recipe ingredients</strong></span>\n                            </li>\n                            <li className=\"flex items-start gap-2\">\n                                <span className=\"text-blue-600 font-black\"></span>\n                                <span><strong>NO discounts</strong> or manual cost overrides</span>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4161, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/ListReturnsPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Search,\n    Filter,\n    Plus,\n    Eye,\n    RotateCcw,\n    Calendar\n} from 'lucide-react';\nimport { ReturnType } from '../../types/inventory';\nimport { mockInventoryReturns } from '../../mock/inventory';\n\n/**\n * List Returns Page\n * View returns, wastage, and adjustments\n * \n * Return Types:\n * - Supplier Return\n * - Damaged\n * - Expired\n * - Adjustment\n * \n * Rules:\n * - Cannot exceed received quantity\n * - Partial returns allowed\n * - Stock reduced immediately\n * - Ledger entry created\n */\nexport const ListReturnsPage: React.FC = () => {\n    const router = useRouter();\n\n    // Filters\n    const [searchQuery, setSearchQuery] = useState('');\n    const [selectedReturnType, setSelectedReturnType] = useState<ReturnType | ''>('');\n    const [dateFrom, setDateFrom] = useState('');\n    const [dateTo, setDateTo] = useState('');\n    const [showFilters, setShowFilters] = useState(false);\n\n    // Filter returns\n    const filteredReturns = mockInventoryReturns.filter(ret => {\n        if (searchQuery && !ret.referenceNo.toLowerCase().includes(searchQuery.toLowerCase())) return false;\n        if (selectedReturnType && ret.returnType !== selectedReturnType) return false;\n        if (dateFrom && new Date(ret.returnDate) < new Date(dateFrom)) return false;\n        if (dateTo && new Date(ret.returnDate) > new Date(dateTo)) return false;\n        return true;\n    });\n\n    // Stats\n    const totalReturns = mockInventoryReturns.length;\n    const totalAmount = mockInventoryReturns.reduce((sum, r) => sum + r.totalAmount, 0);\n\n    // Return type badge color\n    const getReturnTypeColor = (type: ReturnType) => {\n        switch (type) {\n            case 'Supplier Return': return 'bg-blue-50 text-blue-600 border-blue-200';\n            case 'Damaged': return 'bg-rose-50 text-rose-600 border-rose-200';\n            case 'Expired': return 'bg-amber-50 text-amber-600 border-amber-200';\n            case 'Adjustment': return 'bg-violet-50 text-violet-600 border-violet-200';\n        }\n    };\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">Inventory Returns</h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">View returns, wastage, and adjustments</p>\n                </div>\n                <button\n                    onClick={() => router.push('/backoffice/inventory/returns/create')}\n                    className=\"flex items-center gap-2 px-5 py-2.5 bg-rose-600 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-rose-200 hover:bg-rose-700 transition-all active:scale-95\"\n                >\n                    <Plus size={16} strokeWidth={3} />\n                    Create Return\n                </button>\n            </div>\n\n            {/* Quick Stats */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"bg-gradient-to-br from-rose-50 to-rose-100 p-6 rounded-3xl border border-rose-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-rose-600 rounded-2xl shadow-lg shadow-rose-200\">\n                            <RotateCcw size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-rose-600 uppercase tracking-widest\">Total Returns</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-rose-900 tracking-tight\">\n                        {totalReturns}\n                    </div>\n                    <div className=\"text-xs text-rose-600 font-bold mt-1\">\n                        All Time\n                    </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-3xl border border-amber-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-amber-600 rounded-2xl shadow-lg shadow-amber-200\">\n                            <RotateCcw size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-amber-600 uppercase tracking-widest\">Total Amount</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-amber-900 tracking-tight\">\n                        ${totalAmount.toFixed(2)}\n                    </div>\n                    <div className=\"text-xs text-amber-600 font-bold mt-1\">\n                        Return Value\n                    </div>\n                </div>\n            </div>\n\n            {/* Search & Filter Bar */}\n            <div className=\"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm space-y-4\">\n                <div className=\"flex items-center gap-4\">\n                    <div className=\"relative flex-1\">\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                        <input\n                            type=\"text\"\n                            value={searchQuery}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                            placeholder=\"Search by reference number...\"\n                            className=\"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-rose-600 transition-all\"\n                        />\n                    </div>\n                    <button\n                        onClick={() => setShowFilters(!showFilters)}\n                        className={`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all ${showFilters\n                                ? 'bg-rose-600 text-white'\n                                : 'bg-slate-50 border border-slate-200 text-slate-600 hover:bg-white'\n                            }`}\n                    >\n                        <Filter size={14} />\n                        Filters\n                    </button>\n                </div>\n\n                {/* Filter Panel */}\n                {showFilters && (\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-slate-100\">\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Return Type\n                            </label>\n                            <select\n                                value={selectedReturnType}\n                                onChange={(e) => setSelectedReturnType(e.target.value as ReturnType | '')}\n                                className=\"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600\"\n                            >\n                                <option value=\"\">All Types</option>\n                                <option value=\"Supplier Return\">Supplier Return</option>\n                                <option value=\"Damaged\">Damaged</option>\n                                <option value=\"Expired\">Expired</option>\n                                <option value=\"Adjustment\">Adjustment</option>\n                            </select>\n                        </div>\n\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Date From\n                            </label>\n                            <input\n                                type=\"date\"\n                                value={dateFrom}\n                                onChange={(e) => setDateFrom(e.target.value)}\n                                className=\"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600\"\n                            />\n                        </div>\n\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Date To\n                            </label>\n                            <input\n                                type=\"date\"\n                                value={dateTo}\n                                onChange={(e) => setDateTo(e.target.value)}\n                                className=\"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600\"\n                            />\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            {/* Results Count */}\n            <div className=\"flex items-center justify-between\">\n                <p className=\"text-sm text-slate-600 font-medium\">\n                    Showing <span className=\"font-black text-slate-900\">{filteredReturns.length}</span> returns\n                </p>\n            </div>\n\n            {/* Table */}\n            <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-left border-collapse\">\n                        <thead>\n                            <tr className=\"bg-slate-50 border-b border-slate-100\">\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Date</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Reference No</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Return Type</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Supplier</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Location</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Total Amount</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Reason</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Created By</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center\">Action</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-slate-50\">\n                            {filteredReturns.length === 0 ? (\n                                <tr>\n                                    <td colSpan={9} className=\"px-6 py-12 text-center\">\n                                        <div className=\"flex flex-col items-center gap-3\">\n                                            <Calendar size={32} className=\"text-slate-300\" />\n                                            <p className=\"text-sm text-slate-400 font-medium\">No returns found. Try adjusting your filters.</p>\n                                        </div>\n                                    </td>\n                                </tr>\n                            ) : (\n                                filteredReturns.map((ret) => (\n                                    <tr key={ret.id} className=\"group hover:bg-slate-50/50 transition-colors\">\n                                        <td className=\"px-6 py-4 text-sm font-bold text-slate-900\">\n                                            {new Date(ret.returnDate).toLocaleDateString()}\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"text-sm font-black text-rose-600\">{ret.referenceNo}</div>\n                                            <div className=\"text-[10px] text-slate-400 font-bold uppercase tracking-tight\">ID: {ret.id}</div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <span className={`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${getReturnTypeColor(ret.returnType)}`}>\n                                                {ret.returnType}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-sm font-bold text-slate-600\">\n                                            {ret.supplierName || '-'}\n                                        </td>\n                                        <td className=\"px-6 py-4 text-sm font-bold text-slate-600\">{ret.storeName}</td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            <div className=\"text-sm font-black text-rose-600 tabular-nums\">\n                                                ${ret.totalAmount.toFixed(2)}\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"text-sm text-slate-600 font-medium max-w-xs truncate\">\n                                                {ret.reason || '-'}\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"text-sm font-bold text-slate-600\">{ret.createdByName}</div>\n                                            <div className=\"text-[10px] text-slate-400 font-medium\">\n                                                {new Date(ret.createdAt).toLocaleString()}\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-center\">\n                                            <button\n                                                onClick={() => router.push(`/backoffice/inventory/returns/${ret.id}`)}\n                                                className=\"p-2 text-slate-400 hover:text-blue-600 transition-colors\"\n                                                title=\"View\"\n                                            >\n                                                <Eye size={16} />\n                                            </button>\n                                        </td>\n                                    </tr>\n                                ))\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4965, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/VendorsPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Search,\n    Plus,\n    Eye,\n    Edit3,\n    Trash2,\n    ShoppingCart,\n    Users,\n    DollarSign,\n    TrendingUp\n} from 'lucide-react';\nimport { mockVendors } from '../../mock/inventory';\nimport { useRouteAccess } from '@/hooks/useRouteAccess';\n\n/**\n * Vendors Page\n * Manage suppliers and vendor relationships\n * \n * Role-based access:\n * - Admin: Full access (View, Add, Edit, Delete)\n * - Inventory Manager: View + Add\n * - Store Manager: View only\n */\nexport const VendorsPage: React.FC = () => {\n    const router = useRouter();\n    const { role } = useRouteAccess();\n\n    // Filters\n    const [searchQuery, setSearchQuery] = useState('');\n\n    // Permission checks\n    const canAddVendor = role === 'ADMIN';\n    const canEditVendor = role === 'ADMIN';\n    const canDeleteVendor = role === 'ADMIN';\n\n    // Filter vendors\n    const filteredVendors = mockVendors.filter(vendor => {\n        if (searchQuery && !vendor.name.toLowerCase().includes(searchQuery.toLowerCase())) return false;\n        return true;\n    });\n\n    // Stats\n    const totalVendors = mockVendors.length;\n    const totalPurchases = mockVendors.reduce((sum, v) => sum + v.totalPurchases, 0);\n    const totalDue = mockVendors.reduce((sum, v) => sum + v.totalDue, 0);\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">Vendors</h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">Manage suppliers and vendor relationships</p>\n                </div>\n                {canAddVendor && (\n                    <button\n                        onClick={() => router.push('/backoffice/inventory/vendors/create')}\n                        className=\"flex items-center gap-2 px-5 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95\"\n                    >\n                        <Plus size={16} strokeWidth={3} />\n                        Add Vendor\n                    </button>\n                )}\n            </div>\n\n            {/* Quick Stats */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div className=\"bg-gradient-to-br from-slate-50 to-slate-100 p-6 rounded-3xl border border-slate-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-slate-900 rounded-2xl shadow-lg shadow-slate-200\">\n                            <Users size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-slate-600 uppercase tracking-widest\">Total Vendors</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-slate-900 tracking-tight\">\n                        {totalVendors}\n                    </div>\n                    <div className=\"text-xs text-slate-600 font-bold mt-1\">\n                        Active Suppliers\n                    </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200\">\n                            <TrendingUp size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-emerald-600 uppercase tracking-widest\">Total Purchases</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-emerald-900 tracking-tight\">\n                        ${totalPurchases.toFixed(2)}\n                    </div>\n                    <div className=\"text-xs text-emerald-600 font-bold mt-1\">\n                        All Time\n                    </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-rose-50 to-rose-100 p-6 rounded-3xl border border-rose-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-rose-600 rounded-2xl shadow-lg shadow-rose-200\">\n                            <DollarSign size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-rose-600 uppercase tracking-widest\">Total Due</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-rose-900 tracking-tight\">\n                        ${totalDue.toFixed(2)}\n                    </div>\n                    <div className=\"text-xs text-rose-600 font-bold mt-1\">\n                        Outstanding Payments\n                    </div>\n                </div>\n            </div>\n\n            {/* Search Bar */}\n            <div className=\"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm\">\n                <div className=\"relative\">\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                    <input\n                        type=\"text\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                        placeholder=\"Search vendors by name...\"\n                        className=\"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-slate-900 transition-all\"\n                    />\n                </div>\n            </div>\n\n            {/* Results Count */}\n            <div className=\"flex items-center justify-between\">\n                <p className=\"text-sm text-slate-600 font-medium\">\n                    Showing <span className=\"font-black text-slate-900\">{filteredVendors.length}</span> vendors\n                </p>\n            </div>\n\n            {/* Table */}\n            <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-left border-collapse\">\n                        <thead>\n                            <tr className=\"bg-slate-50 border-b border-slate-100\">\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Vendor Name</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Contact</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Total Purchases</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Total Paid</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Total Due</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Last Inventory Date</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-slate-50\">\n                            {filteredVendors.length === 0 ? (\n                                <tr>\n                                    <td colSpan={7} className=\"px-6 py-12 text-center\">\n                                        <div className=\"flex flex-col items-center gap-3\">\n                                            <Users size={32} className=\"text-slate-300\" />\n                                            <p className=\"text-sm text-slate-400 font-medium\">No vendors found. Add your first vendor to get started.</p>\n                                        </div>\n                                    </td>\n                                </tr>\n                            ) : (\n                                filteredVendors.map((vendor) => (\n                                    <tr key={vendor.id} className=\"group hover:bg-slate-50/50 transition-colors\">\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"flex items-center gap-3\">\n                                                <div className=\"p-2 bg-slate-100 rounded-xl\">\n                                                    <Users size={16} className=\"text-slate-600\" />\n                                                </div>\n                                                <div>\n                                                    <div className=\"text-sm font-black text-slate-900\">{vendor.name}</div>\n                                                    <div className=\"text-[10px] text-slate-400 font-bold uppercase tracking-tight\">ID: {vendor.id}</div>\n                                                </div>\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"text-sm font-bold text-slate-900\">{vendor.contactPerson || '-'}</div>\n                                            <div className=\"text-xs text-slate-500 font-medium\">{vendor.phone || '-'}</div>\n                                            <div className=\"text-xs text-slate-500 font-medium\">{vendor.email || '-'}</div>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            <div className=\"text-sm font-black text-slate-900 tabular-nums\">\n                                                ${vendor.totalPurchases.toFixed(2)}\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            <div className=\"text-sm font-black text-emerald-600 tabular-nums\">\n                                                ${vendor.totalPaid.toFixed(2)}\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            <div className={`text-sm font-black tabular-nums ${vendor.totalDue > 0 ? 'text-rose-600' : 'text-slate-400'}`}>\n                                                ${vendor.totalDue.toFixed(2)}\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"text-sm font-bold text-slate-600\">\n                                                {vendor.lastInventoryDate\n                                                    ? new Date(vendor.lastInventoryDate).toLocaleDateString()\n                                                    : '-'\n                                                }\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"flex items-center justify-center gap-2\">\n                                                <button\n                                                    onClick={() => router.push(`/backoffice/inventory/vendors/${vendor.id}`)}\n                                                    className=\"p-2 text-slate-400 hover:text-blue-600 transition-colors\"\n                                                    title=\"View Vendor\"\n                                                >\n                                                    <Eye size={16} />\n                                                </button>\n                                                <button\n                                                    onClick={() => router.push(`/backoffice/inventory/add?vendor=${vendor.id}`)}\n                                                    className=\"p-2 text-slate-400 hover:text-emerald-600 transition-colors\"\n                                                    title=\"Add Inventory\"\n                                                >\n                                                    <ShoppingCart size={16} />\n                                                </button>\n                                                {canEditVendor && (\n                                                    <button\n                                                        onClick={() => router.push(`/backoffice/inventory/vendors/${vendor.id}/edit`)}\n                                                        className=\"p-2 text-slate-400 hover:text-violet-600 transition-colors\"\n                                                        title=\"Edit Vendor\"\n                                                    >\n                                                        <Edit3 size={16} />\n                                                    </button>\n                                                )}\n                                                {canDeleteVendor && (\n                                                    <button\n                                                        className=\"p-2 text-slate-400 hover:text-rose-600 transition-colors\"\n                                                        title=\"Delete Vendor\"\n                                                    >\n                                                        <Trash2 size={16} />\n                                                    </button>\n                                                )}\n                                            </div>\n                                        </td>\n                                    </tr>\n                                ))\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5739, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/InventoryEntryDetailPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Printer,\n    Edit3,\n    CheckCircle,\n    Clock,\n    AlertCircle,\n    Trash2\n} from 'lucide-react';\nimport { InventoryEntry, InventoryStatus, PaymentStatus } from '../../types/inventory';\nimport { inventoryService } from '../../services/inventoryService';\nimport { useRouteAccess } from '@/hooks/useRouteAccess';\n\n/**\n * Inventory Entry Detail Page\n * Read-only view of stock inward entry\n * \n * Features:\n * - Full product grid\n * - Payment info\n * - Totals summary\n * - Audit trail\n * - Actions: Print, Edit (if Draft/Ordered), Delete (Admin only)\n */\nexport const InventoryEntryDetailPage: React.FC = () => {\n    const router = useRouter();\n    const { id } = useParams<{ id: string }>();\n    const { role } = useRouteAccess();\n\n    const [entry, setEntry] = useState<InventoryEntry | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n    const [actionLoading, setActionLoading] = useState(false);\n\n    useEffect(() => {\n        loadEntry();\n    }, [id]);\n\n    const loadEntry = async () => {\n        if (!id) return;\n        setLoading(true);\n        try {\n            const data = await inventoryService.getEntry(id);\n            setEntry(data);\n        } catch (error) {\n            console.error('Failed to load entry:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleReceive = async () => {\n        if (!entry || !id) return;\n        setActionLoading(true);\n        try {\n            await inventoryService.receiveInventory(id);\n            await loadEntry();\n            alert('Inventory received successfully! Stock has been updated.');\n        } catch (error: any) {\n            alert(error.message || 'Failed to receive inventory');\n        } finally {\n            setActionLoading(false);\n        }\n    };\n\n    const handleDelete = async () => {\n        if (!id) return;\n        setActionLoading(true);\n        try {\n            await inventoryService.deleteEntry(id as string, role || '');\n            alert('Entry deleted successfully');\n            router.push('/backoffice/inventory/entries');\n        } catch (error: any) {\n            alert(error.message || 'Failed to delete entry');\n        } finally {\n            setActionLoading(false);\n            setShowDeleteConfirm(false);\n        }\n    };\n\n    const canEdit = entry && (entry.inventoryStatus === 'Draft' || entry.inventoryStatus === 'Ordered');\n    const canDelete = role === 'ADMIN' && entry && entry.inventoryStatus !== 'Received' && entry.inventoryStatus !== 'Partial';\n    const canReceive = entry && entry.inventoryStatus !== 'Received' && entry.inventoryStatus !== 'Cancelled';\n\n    const getStatusColor = (status: InventoryStatus) => {\n        switch (status) {\n            case 'Draft': return 'bg-slate-100 text-slate-600 border-slate-200';\n            case 'Ordered': return 'bg-blue-50 text-blue-600 border-blue-200';\n            case 'Received': return 'bg-emerald-50 text-emerald-600 border-emerald-200';\n            case 'Partial': return 'bg-amber-50 text-amber-600 border-amber-200';\n            case 'Cancelled': return 'bg-rose-50 text-rose-600 border-rose-200';\n        }\n    };\n\n    const getPaymentStatusColor = (status: PaymentStatus) => {\n        switch (status) {\n            case 'Paid': return 'bg-emerald-50 text-emerald-600 border-emerald-200';\n            case 'Unpaid': return 'bg-rose-50 text-rose-600 border-rose-200';\n            case 'Partial': return 'bg-amber-50 text-amber-600 border-amber-200';\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"flex items-center justify-center h-96\">\n                <div className=\"text-center\">\n                    <Clock className=\"w-12 h-12 text-slate-400 animate-spin mx-auto mb-4\" />\n                    <p className=\"text-slate-600 font-medium\">Loading entry...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (!entry) {\n        return (\n            <div className=\"flex items-center justify-center h-96\">\n                <div className=\"text-center\">\n                    <AlertCircle className=\"w-12 h-12 text-rose-400 mx-auto mb-4\" />\n                    <p className=\"text-slate-600 font-medium\">Entry not found</p>\n                    <button\n                        onClick={() => router.push('/backoffice/inventory/entries')}\n                        className=\"mt-4 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold\"\n                    >\n                        Back to Entries\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory/entries')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">Inventory Entry Details</h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">{entry.referenceNo}</p>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                    <button\n                        onClick={() => window.print()}\n                        className=\"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all\"\n                    >\n                        <Printer size={14} />\n                        Print\n                    </button>\n                    {canEdit && (\n                        <button\n                            onClick={() => router.push(`/backoffice/inventory/entries/${id}/edit`)}\n                            className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-xs font-bold hover:bg-blue-700 transition-all\"\n                        >\n                            <Edit3 size={14} />\n                            Edit\n                        </button>\n                    )}\n                    {canReceive && (\n                        <button\n                            onClick={handleReceive}\n                            disabled={actionLoading}\n                            className=\"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-700 transition-all disabled:opacity-50\"\n                        >\n                            <CheckCircle size={14} />\n                            Receive Inventory\n                        </button>\n                    )}\n                    {canDelete && (\n                        <button\n                            onClick={() => setShowDeleteConfirm(true)}\n                            className=\"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-xl text-xs font-bold hover:bg-rose-700 transition-all\"\n                        >\n                            <Trash2 size={14} />\n                            Delete\n                        </button>\n                    )}\n                </div>\n            </div>\n\n            {/* Status & Info Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <div className=\"bg-white p-4 rounded-2xl border border-slate-200\">\n                    <div className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2\">Status</div>\n                    <span className={`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${getStatusColor(entry.inventoryStatus)}`}>\n                        {entry.inventoryStatus}\n                    </span>\n                </div>\n                <div className=\"bg-white p-4 rounded-2xl border border-slate-200\">\n                    <div className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2\">Payment Status</div>\n                    <span className={`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${getPaymentStatusColor(entry.paymentStatus)}`}>\n                        {entry.paymentStatus}\n                    </span>\n                </div>\n                <div className=\"bg-white p-4 rounded-2xl border border-slate-200\">\n                    <div className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2\">Date</div>\n                    <div className=\"text-sm font-black text-slate-900\">\n                        {new Date(entry.inventoryDate).toLocaleDateString()}\n                    </div>\n                </div>\n                <div className=\"bg-white p-4 rounded-2xl border border-slate-200\">\n                    <div className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2\">Grand Total</div>\n                    <div className=\"text-lg font-black text-emerald-600\">\n                        ${entry.grandTotal.toFixed(2)}\n                    </div>\n                </div>\n            </div>\n\n            {/* Main Content */}\n            <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                {/* Supplier & Store Info */}\n                <div className=\"p-6 bg-slate-50 border-b border-slate-200\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Supplier\n                            </label>\n                            <div className=\"text-base font-black text-slate-900\">{entry.supplierName}</div>\n                        </div>\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Business Location\n                            </label>\n                            <div className=\"text-base font-black text-slate-900\">{entry.storeName}</div>\n                        </div>\n                        {entry.payTerm && (\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                    Payment Terms\n                                </label>\n                                <div className=\"text-sm font-bold text-slate-600\">{entry.payTerm}</div>\n                            </div>\n                        )}\n                        {entry.attachedDocument && (\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                    Attached Document\n                                </label>\n                                <a href={entry.attachedDocument} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-sm font-bold text-blue-600 hover:underline\">\n                                    View Document\n                                </a>\n                            </div>\n                        )}\n                    </div>\n                </div>\n\n                {/* Product Grid */}\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-left border-collapse\">\n                        <thead>\n                            <tr className=\"bg-slate-50 border-b border-slate-100\">\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest\">#</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Product Name</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest\">SKU</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Purchase Qty</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Unit Cost (Before Tax)</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Subtotal</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Tax %</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Tax Amount</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Unit Cost (After Tax)</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Line Total</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-slate-50\">\n                            {entry.products.map((product, index) => (\n                                <tr key={product.id} className=\"hover:bg-slate-50/50\">\n                                    <td className=\"px-4 py-3 text-sm font-bold text-slate-600\">{index + 1}</td>\n                                    <td className=\"px-4 py-3 text-sm font-black text-slate-900\">{product.inventoryItemName}</td>\n                                    <td className=\"px-4 py-3 text-xs font-bold text-slate-500\">{product.sku || '-'}</td>\n                                    <td className=\"px-4 py-3 text-sm font-black text-slate-900 text-right tabular-nums\">{product.purchaseQuantity}</td>\n                                    <td className=\"px-4 py-3 text-sm font-bold text-slate-600 text-right tabular-nums\">${product.unitCostBeforeTax.toFixed(2)}</td>\n                                    <td className=\"px-4 py-3 text-sm font-bold text-slate-600 text-right tabular-nums\">${product.subtotal.toFixed(2)}</td>\n                                    <td className=\"px-4 py-3 text-sm font-bold text-slate-600 text-right tabular-nums\">{product.taxPercentage}%</td>\n                                    <td className=\"px-4 py-3 text-sm font-bold text-slate-600 text-right tabular-nums\">${product.taxAmount.toFixed(2)}</td>\n                                    <td className=\"px-4 py-3 text-sm font-black text-emerald-600 text-right tabular-nums\">${product.unitCostAfterTax.toFixed(2)}</td>\n                                    <td className=\"px-4 py-3 text-base font-black text-slate-900 text-right tabular-nums\">${product.lineTotal.toFixed(2)}</td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n\n                {/* Footer & Totals */}\n                <div className=\"p-6 bg-slate-50 border-t border-slate-200\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                        <div className=\"space-y-4\">\n                            {entry.additionalNotes && (\n                                <div>\n                                    <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                        Additional Notes\n                                    </label>\n                                    <div className=\"text-sm text-slate-600\">{entry.additionalNotes}</div>\n                                </div>\n                            )}\n                        </div>\n                        <div className=\"space-y-3\">\n                            <div className=\"flex items-center justify-between\">\n                                <span className=\"text-sm font-bold text-slate-600\">Subtotal:</span>\n                                <span className=\"text-base font-black text-slate-900 tabular-nums\">${entry.subtotal.toFixed(2)}</span>\n                            </div>\n                            <div className=\"flex items-center justify-between\">\n                                <span className=\"text-sm font-bold text-slate-600\">Purchase Tax:</span>\n                                <span className=\"text-base font-black text-slate-900 tabular-nums\">${entry.purchaseTax.toFixed(2)}</span>\n                            </div>\n                            <div className=\"flex items-center justify-between\">\n                                <span className=\"text-sm font-bold text-slate-600\">Product Tax:</span>\n                                <span className=\"text-base font-black text-slate-900 tabular-nums\">${(entry.totalTax - entry.purchaseTax).toFixed(2)}</span>\n                            </div>\n                            <div className=\"flex items-center justify-between\">\n                                <span className=\"text-sm font-bold text-slate-600\">Shipping Charges:</span>\n                                <span className=\"text-base font-black text-slate-900 tabular-nums\">${entry.shippingCharges.toFixed(2)}</span>\n                            </div>\n                            <div className=\"flex items-center justify-between pt-3 border-t-2 border-slate-300\">\n                                <span className=\"text-base font-black text-slate-900 uppercase tracking-wide\">Grand Total:</span>\n                                <span className=\"text-2xl font-black text-emerald-600 tabular-nums\">${entry.grandTotal.toFixed(2)}</span>\n                            </div>\n                            {entry.paymentDue > 0 && (\n                                <div className=\"flex items-center justify-between\">\n                                    <span className=\"text-sm font-bold text-rose-600\">Payment Due:</span>\n                                    <span className=\"text-lg font-black text-rose-600 tabular-nums\">${entry.paymentDue.toFixed(2)}</span>\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Audit Trail */}\n                <div className=\"p-6 border-t border-slate-200\">\n                    <h3 className=\"text-sm font-black text-slate-900 uppercase tracking-wider mb-4\">Audit Trail</h3>\n                    <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex items-center justify-between\">\n                            <span className=\"text-slate-600 font-medium\">Created by:</span>\n                            <span className=\"font-bold text-slate-900\">{entry.createdByName}</span>\n                        </div>\n                        <div className=\"flex items-center justify-between\">\n                            <span className=\"text-slate-600 font-medium\">Created at:</span>\n                            <span className=\"font-bold text-slate-900\">{new Date(entry.createdAt).toLocaleString()}</span>\n                        </div>\n                        <div className=\"flex items-center justify-between\">\n                            <span className=\"text-slate-600 font-medium\">Last updated:</span>\n                            <span className=\"font-bold text-slate-900\">{new Date(entry.updatedAt).toLocaleString()}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Delete Confirmation Modal */}\n            {showDeleteConfirm && (\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n                    <div className=\"bg-white rounded-3xl p-8 max-w-md w-full mx-4 shadow-2xl\">\n                        <div className=\"flex items-center gap-4 mb-6\">\n                            <div className=\"p-3 bg-rose-100 rounded-2xl\">\n                                <AlertCircle size={24} className=\"text-rose-600\" />\n                            </div>\n                            <div>\n                                <h3 className=\"text-lg font-black text-slate-900\">Delete Entry?</h3>\n                                <p className=\"text-sm text-slate-600\">This action cannot be undone.</p>\n                            </div>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                            <button\n                                onClick={() => setShowDeleteConfirm(false)}\n                                disabled={actionLoading}\n                                className=\"flex-1 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all disabled:opacity-50\"\n                            >\n                                Cancel\n                            </button>\n                            <button\n                                onClick={handleDelete}\n                                disabled={actionLoading}\n                                className=\"flex-1 px-4 py-2 bg-rose-600 text-white rounded-xl text-sm font-bold hover:bg-rose-700 transition-all disabled:opacity-50\"\n                            >\n                                {actionLoading ? 'Deleting...' : 'Delete'}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6958, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/InventoryItemDetailPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Edit3,\n    TrendingUp,\n    Package,\n    AlertTriangle,\n    FileText,\n    Plus,\n    Minus\n} from 'lucide-react';\nimport { InventoryItem, InventoryLedgerEntry } from '../../types/inventory';\nimport { inventoryItemService } from '../../services/inventoryService';\n\n/**\n * Inventory Item Detail Page\n * View item details, stock levels, and ledger history\n * \n * Features:\n * - Item information\n * - Current stock & value\n * - Stock adjustment\n * - Ledger history\n */\nexport const InventoryItemDetailPage: React.FC = () => {\n    const router = useRouter();\n    const { id } = useParams<{ id: string }>();\n\n    const [item, setItem] = useState<InventoryItem | null>(null);\n    const [ledger, setLedger] = useState<InventoryLedgerEntry[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [showAdjustModal, setShowAdjustModal] = useState(false);\n    const [adjustQuantity, setAdjustQuantity] = useState<number>(0);\n    const [adjustReason, setAdjustReason] = useState('');\n    const [adjustLoading, setAdjustLoading] = useState(false);\n\n    useEffect(() => {\n        loadItem();\n        loadLedger();\n    }, [id]);\n\n    const loadItem = async () => {\n        if (!id) return;\n        setLoading(true);\n        try {\n            const data = await inventoryItemService.getById(id);\n            setItem(data);\n        } catch (error) {\n            console.error('Failed to load item:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const loadLedger = async () => {\n        if (!id) return;\n        try {\n            const data = await inventoryItemService.getLedger(id);\n            setLedger(data);\n        } catch (error) {\n            console.error('Failed to load ledger:', error);\n        }\n    };\n\n    const handleAdjustStock = async () => {\n        if (!id || !adjustReason.trim() || adjustQuantity === 0) {\n            alert('Please enter quantity and reason');\n            return;\n        }\n\n        setAdjustLoading(true);\n        try {\n            await inventoryItemService.adjustStock(id, adjustQuantity, adjustReason, 'USER001');\n            await loadItem();\n            await loadLedger();\n            setShowAdjustModal(false);\n            setAdjustQuantity(0);\n            setAdjustReason('');\n            alert('Stock adjusted successfully');\n        } catch (error: any) {\n            alert(error.message || 'Failed to adjust stock');\n        } finally {\n            setAdjustLoading(false);\n        }\n    };\n\n    if (loading || !item) {\n        return (\n            <div className=\"flex items-center justify-center h-96\">\n                <div className=\"text-center\">\n                    <Package className=\"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4\" />\n                    <p className=\"text-slate-600 font-medium\">Loading item...</p>\n                </div>\n            </div>\n        );\n    }\n\n    const isLowStock = item.currentStock <= item.lowStockThreshold;\n    const stockValue = item.currentStock * item.averageCost;\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory/list')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">{item.name}</h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">SKU: {item.sku}</p>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                    <button\n                        onClick={() => setShowAdjustModal(true)}\n                        className=\"flex items-center gap-2 px-4 py-2 bg-violet-600 text-white rounded-xl text-xs font-bold hover:bg-violet-700 transition-all\"\n                    >\n                        <TrendingUp size={14} />\n                        Adjust Stock\n                    </button>\n                    <button\n                        onClick={() => router.push(`/backoffice/inventory/items/${id}/edit`)}\n                        className=\"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-700 transition-all\"\n                    >\n                        <Edit3 size={14} />\n                        Edit Item\n                    </button>\n                </div>\n            </div>\n\n            {/* Stats Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                <div className={`p-6 rounded-3xl border shadow-sm ${isLowStock ? 'bg-gradient-to-br from-rose-50 to-rose-100 border-rose-200' : 'bg-gradient-to-br from-emerald-50 to-emerald-100 border-emerald-200'}`}>\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className={`p-3 rounded-2xl shadow-lg ${isLowStock ? 'bg-rose-600 shadow-rose-200' : 'bg-emerald-600 shadow-emerald-200'}`}>\n                            <Package size={20} className=\"text-white\" />\n                        </div>\n                        <span className={`text-xs font-black uppercase tracking-widest ${isLowStock ? 'text-rose-600' : 'text-emerald-600'}`}>Current Stock</span>\n                    </div>\n                    <div className={`text-3xl font-black tracking-tight ${isLowStock ? 'text-rose-900' : 'text-emerald-900'}`}>\n                        {item.currentStock.toFixed(2)}\n                    </div>\n                    <div className={`text-xs font-bold mt-1 ${isLowStock ? 'text-rose-600' : 'text-emerald-600'}`}>\n                        {item.baseUnit}\n                        {isLowStock && ' - LOW STOCK!'}\n                    </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200\">\n                            <TrendingUp size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-blue-600 uppercase tracking-widest\">Average Cost</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-blue-900 tracking-tight\">\n                        ${item.averageCost.toFixed(2)}\n                    </div>\n                    <div className=\"text-xs text-blue-600 font-bold mt-1\">\n                        Per {item.baseUnit}\n                    </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-violet-50 to-violet-100 p-6 rounded-3xl border border-violet-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-violet-600 rounded-2xl shadow-lg shadow-violet-200\">\n                            <Package size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-violet-600 uppercase tracking-widest\">Stock Value</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-violet-900 tracking-tight\">\n                        ${stockValue.toFixed(2)}\n                    </div>\n                    <div className=\"text-xs text-violet-600 font-bold mt-1\">\n                        Total Value\n                    </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-3xl border border-amber-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-amber-600 rounded-2xl shadow-lg shadow-amber-200\">\n                            <AlertTriangle size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-amber-600 uppercase tracking-widest\">Low Stock Alert</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-amber-900 tracking-tight\">\n                        {item.lowStockThreshold}\n                    </div>\n                    <div className=\"text-xs text-amber-600 font-bold mt-1\">\n                        Threshold\n                    </div>\n                </div>\n            </div>\n\n            {/* Item Details */}\n            <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm p-6\">\n                <h2 className=\"text-lg font-black text-slate-900 mb-6 uppercase tracking-tight\">Item Information</h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div>\n                        <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                            Item Name\n                        </label>\n                        <div className=\"text-base font-black text-slate-900\">{item.name}</div>\n                    </div>\n                    <div>\n                        <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                            SKU\n                        </label>\n                        <div className=\"text-base font-bold text-slate-600\">{item.sku}</div>\n                    </div>\n                    {item.description && (\n                        <div className=\"md:col-span-2\">\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Description\n                            </label>\n                            <div className=\"text-sm text-slate-600\">{item.description}</div>\n                        </div>\n                    )}\n                    <div>\n                        <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                            Base Unit\n                        </label>\n                        <div className=\"text-base font-bold text-slate-600\">{item.baseUnit}</div>\n                    </div>\n                    <div>\n                        <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                            Status\n                        </label>\n                        <span className={`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${item.status === 'Active'\n                                ? 'bg-emerald-50 text-emerald-600 border-emerald-200'\n                                : 'bg-slate-100 text-slate-400 border-slate-200'\n                            }`}>\n                            {item.status}\n                        </span>\n                    </div>\n                </div>\n            </div>\n\n            {/* Ledger History */}\n            <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                <div className=\"p-6 border-b border-slate-200\">\n                    <div className=\"flex items-center gap-3\">\n                        <FileText size={20} className=\"text-slate-600\" />\n                        <h2 className=\"text-lg font-black text-slate-900 uppercase tracking-tight\">Stock Movement History</h2>\n                    </div>\n                </div>\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-left border-collapse\">\n                        <thead>\n                            <tr className=\"bg-slate-50 border-b border-slate-100\">\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Date</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Source</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Reference</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Change</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Balance After</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-slate-50\">\n                            {ledger.length === 0 ? (\n                                <tr>\n                                    <td colSpan={5} className=\"px-6 py-12 text-center\">\n                                        <FileText size={32} className=\"text-slate-300 mx-auto mb-3\" />\n                                        <p className=\"text-sm text-slate-400 font-medium\">No stock movements yet</p>\n                                    </td>\n                                </tr>\n                            ) : (\n                                ledger.map((entry) => (\n                                    <tr key={entry.id} className=\"hover:bg-slate-50/50\">\n                                        <td className=\"px-6 py-4 text-sm font-bold text-slate-900\">\n                                            {new Date(entry.createdAt).toLocaleString()}\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <span className={`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${entry.sourceType === 'inventory' ? 'bg-emerald-50 text-emerald-600 border-emerald-200' :\n                                                    entry.sourceType === 'sale' ? 'bg-blue-50 text-blue-600 border-blue-200' :\n                                                        entry.sourceType === 'return' ? 'bg-rose-50 text-rose-600 border-rose-200' :\n                                                            'bg-violet-50 text-violet-600 border-violet-200'\n                                                }`}>\n                                                {entry.sourceType}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-sm font-bold text-slate-600\">\n                                            {entry.sourceReference}\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            <span className={`text-base font-black tabular-nums ${entry.changeQuantity > 0 ? 'text-emerald-600' : 'text-rose-600'\n                                                }`}>\n                                                {entry.changeQuantity > 0 ? '+' : ''}{entry.changeQuantity.toFixed(2)}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            <span className=\"text-base font-black text-slate-900 tabular-nums\">\n                                                {entry.balanceAfter.toFixed(2)}\n                                            </span>\n                                        </td>\n                                    </tr>\n                                ))\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n\n            {/* Stock Adjustment Modal */}\n            {showAdjustModal && (\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n                    <div className=\"bg-white rounded-3xl p-8 max-w-md w-full mx-4 shadow-2xl\">\n                        <h3 className=\"text-xl font-black text-slate-900 mb-6\">Adjust Stock</h3>\n\n                        <div className=\"space-y-4 mb-6\">\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                    Adjustment Quantity\n                                </label>\n                                <div className=\"flex items-center gap-2\">\n                                    <button\n                                        onClick={() => setAdjustQuantity(Math.max(-item.currentStock, adjustQuantity - 1))}\n                                        className=\"p-2 bg-slate-100 rounded-xl hover:bg-slate-200\"\n                                    >\n                                        <Minus size={16} />\n                                    </button>\n                                    <input\n                                        type=\"number\"\n                                        value={adjustQuantity}\n                                        onChange={(e) => setAdjustQuantity(parseFloat(e.target.value) || 0)}\n                                        className=\"flex-1 px-4 py-2 border border-slate-200 rounded-xl text-center text-lg font-black\"\n                                        placeholder=\"0\"\n                                    />\n                                    <button\n                                        onClick={() => setAdjustQuantity(adjustQuantity + 1)}\n                                        className=\"p-2 bg-slate-100 rounded-xl hover:bg-slate-200\"\n                                    >\n                                        <Plus size={16} />\n                                    </button>\n                                </div>\n                                <p className=\"text-xs text-slate-500 mt-2\">\n                                    New stock: {(item.currentStock + adjustQuantity).toFixed(2)} {item.baseUnit}\n                                </p>\n                            </div>\n\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                    Reason (Required)\n                                </label>\n                                <textarea\n                                    value={adjustReason}\n                                    onChange={(e) => setAdjustReason(e.target.value)}\n                                    className=\"w-full px-4 py-2 border border-slate-200 rounded-xl text-sm\"\n                                    rows={3}\n                                    placeholder=\"Enter reason for adjustment...\"\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"flex items-center gap-3\">\n                            <button\n                                onClick={() => {\n                                    setShowAdjustModal(false);\n                                    setAdjustQuantity(0);\n                                    setAdjustReason('');\n                                }}\n                                disabled={adjustLoading}\n                                className=\"flex-1 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all disabled:opacity-50\"\n                            >\n                                Cancel\n                            </button>\n                            <button\n                                onClick={handleAdjustStock}\n                                disabled={adjustLoading || !adjustReason.trim() || adjustQuantity === 0}\n                                className=\"flex-1 px-4 py-2 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all disabled:opacity-50\"\n                            >\n                                {adjustLoading ? 'Adjusting...' : 'Adjust Stock'}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7991, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/RecipeDetailPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Edit3,\n    Copy,\n    Trash2,\n    ChefHat,\n    AlertCircle,\n    Package\n} from 'lucide-react';\nimport { Recipe } from '../../types/inventory';\nimport { recipeService } from '../../services/inventoryService';\n\n/**\n * Recipe Detail Page\n * View recipe with ingredients, cost breakdown, and products using it\n */\nexport const RecipeDetailPage: React.FC = () => {\n    const router = useRouter();\n    const { id } = useParams<{ id: string }>();\n\n    const [recipe, setRecipe] = useState<Recipe | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n    const [actionLoading, setActionLoading] = useState(false);\n\n    useEffect(() => {\n        loadRecipe();\n    }, [id]);\n\n    const loadRecipe = async () => {\n        if (!id) return;\n        setLoading(true);\n        try {\n            const data = await recipeService.getById(id);\n            setRecipe(data);\n        } catch (error) {\n            console.error('Failed to load recipe:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleDuplicate = async () => {\n        if (!id) return;\n        setActionLoading(true);\n        try {\n            const newRecipe = await recipeService.duplicate(id);\n            alert('Recipe duplicated successfully');\n            router.push(`/backoffice/inventory/recipes/${newRecipe.id}`);\n        } catch (error: any) {\n            alert(error.message || 'Failed to duplicate recipe');\n        } finally {\n            setActionLoading(false);\n        }\n    };\n\n    const handleDelete = async () => {\n        if (!id) return;\n        setActionLoading(true);\n        try {\n            await recipeService.delete(id);\n            alert('Recipe deleted successfully');\n            router.push('/backoffice/inventory/recipes');\n        } catch (error: any) {\n            alert(error.message || 'Failed to delete recipe');\n        } finally {\n            setActionLoading(false);\n            setShowDeleteConfirm(false);\n        }\n    };\n\n    if (loading || !recipe) {\n        return (\n            <div className=\"flex items-center justify-center h-96\">\n                <div className=\"text-center\">\n                    <ChefHat className=\"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4\" />\n                    <p className=\"text-slate-600 font-medium\">Loading recipe...</p>\n                </div>\n            </div>\n        );\n    }\n\n    const canDelete = recipe.usedByProductCount === 0;\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory/recipes')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">{recipe.name}</h1>\n                    {recipe.description && (\n                        <p className=\"text-sm text-slate-500 font-medium\">{recipe.description}</p>\n                    )}\n                </div>\n                <div className=\"flex items-center gap-2\">\n                    <button\n                        onClick={handleDuplicate}\n                        disabled={actionLoading}\n                        className=\"flex items-center gap-2 px-4 py-2 bg-violet-600 text-white rounded-xl text-xs font-bold hover:bg-violet-700 transition-all disabled:opacity-50\"\n                    >\n                        <Copy size={14} />\n                        Duplicate\n                    </button>\n                    <button\n                        onClick={() => router.push(`/backoffice/inventory/recipes/${id}/edit`)}\n                        className=\"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-700 transition-all\"\n                    >\n                        <Edit3 size={14} />\n                        Edit\n                    </button>\n                    <button\n                        onClick={() => setShowDeleteConfirm(true)}\n                        disabled={!canDelete}\n                        className=\"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-xl text-xs font-bold hover:bg-rose-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n                        title={!canDelete ? 'Cannot delete - recipe is attached to products' : 'Delete recipe'}\n                    >\n                        <Trash2 size={14} />\n                        Delete\n                    </button>\n                </div>\n            </div>\n\n            {/* Stats Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div className=\"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-3xl border border-orange-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-orange-600 rounded-2xl shadow-lg shadow-orange-200\">\n                            <Package size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-orange-600 uppercase tracking-widest\">Ingredients</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-orange-900 tracking-tight\">\n                        {recipe.ingredients.length}\n                    </div>\n                    <div className=\"text-xs text-orange-600 font-bold mt-1\">\n                        Total Items\n                    </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200\">\n                            <ChefHat size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-emerald-600 uppercase tracking-widest\">Recipe Cost</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-emerald-900 tracking-tight\">\n                        ${recipe.totalRecipeCost.toFixed(2)}\n                    </div>\n                    <div className=\"text-xs text-emerald-600 font-bold mt-1\">\n                        Auto-Calculated\n                    </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200\">\n                            <Package size={20} className=\"text-white\" />\n                        </div>\n                        <span className=\"text-xs font-black text-blue-600 uppercase tracking-widest\">Used By</span>\n                    </div>\n                    <div className=\"text-3xl font-black text-blue-900 tracking-tight\">\n                        {recipe.usedByProductCount}\n                    </div>\n                    <div className=\"text-xs text-blue-600 font-bold mt-1\">\n                        Products\n                    </div>\n                </div>\n            </div>\n\n            {/* Recipe Info */}\n            <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm p-6\">\n                <h2 className=\"text-lg font-black text-slate-900 mb-6 uppercase tracking-tight\">Recipe Information</h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div>\n                        <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                            Recipe Name\n                        </label>\n                        <div className=\"text-base font-black text-slate-900\">{recipe.name}</div>\n                    </div>\n                    <div>\n                        <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                            Status\n                        </label>\n                        <span className={`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${recipe.status === 'Active'\n                                ? 'bg-emerald-50 text-emerald-600 border-emerald-200'\n                                : 'bg-slate-100 text-slate-400 border-slate-200'\n                            }`}>\n                            {recipe.status}\n                        </span>\n                    </div>\n                    {recipe.description && (\n                        <div className=\"md:col-span-2\">\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Description\n                            </label>\n                            <div className=\"text-sm text-slate-600\">{recipe.description}</div>\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {/* Ingredients Table */}\n            <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                <div className=\"p-6 border-b border-slate-200\">\n                    <h2 className=\"text-lg font-black text-slate-900 uppercase tracking-tight\">Ingredients (Bill of Materials)</h2>\n                </div>\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-left border-collapse\">\n                        <thead>\n                            <tr className=\"bg-slate-50 border-b border-slate-100\">\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">#</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Ingredient</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Unit</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Qty Used</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Wastage %</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Effective Qty</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Unit Cost</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Line Cost</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-slate-50\">\n                            {recipe.ingredients.map((ingredient, index) => (\n                                <tr key={ingredient.id} className=\"hover:bg-slate-50/50\">\n                                    <td className=\"px-6 py-4 text-sm font-bold text-slate-600\">{index + 1}</td>\n                                    <td className=\"px-6 py-4 text-sm font-black text-slate-900\">{ingredient.inventoryItemName}</td>\n                                    <td className=\"px-6 py-4 text-sm font-bold text-slate-600\">{ingredient.baseUnit}</td>\n                                    <td className=\"px-6 py-4 text-sm font-black text-slate-900 text-right tabular-nums\">\n                                        {ingredient.quantityUsed.toFixed(2)}\n                                    </td>\n                                    <td className=\"px-6 py-4 text-sm font-bold text-amber-600 text-right tabular-nums\">\n                                        {ingredient.wastagePercentage}%\n                                    </td>\n                                    <td className=\"px-6 py-4 text-sm font-bold text-slate-600 text-right tabular-nums\">\n                                        {ingredient.effectiveQuantity.toFixed(2)}\n                                    </td>\n                                    <td className=\"px-6 py-4 text-sm font-bold text-slate-600 text-right tabular-nums\">\n                                        ${ingredient.unitCost.toFixed(2)}\n                                    </td>\n                                    <td className=\"px-6 py-4 text-base font-black text-emerald-600 text-right tabular-nums\">\n                                        ${ingredient.lineCost.toFixed(2)}\n                                    </td>\n                                </tr>\n                            ))}\n                            <tr className=\"bg-slate-50 font-black\">\n                                <td colSpan={7} className=\"px-6 py-4 text-right text-sm uppercase tracking-wider text-slate-900\">\n                                    Total Recipe Cost:\n                                </td>\n                                <td className=\"px-6 py-4 text-right text-xl text-emerald-600 tabular-nums\">\n                                    ${recipe.totalRecipeCost.toFixed(2)}\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n\n            {/* Recipe Rules Info */}\n            <div className=\"bg-blue-50 border border-blue-200 rounded-3xl p-6\">\n                <div className=\"flex items-start gap-4\">\n                    <div className=\"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200\">\n                        <AlertCircle size={20} className=\"text-white\" />\n                    </div>\n                    <div className=\"flex-1\">\n                        <h3 className=\"text-lg font-black text-blue-900 tracking-tight mb-2\">\n                            Recipe Calculation Rules\n                        </h3>\n                        <ul className=\"space-y-2 text-sm text-blue-700 font-medium\">\n                            <li className=\"flex items-start gap-2\">\n                                <span className=\"text-blue-600 font-black\"></span>\n                                <span><strong>Effective Quantity</strong> = Quantity Used + (Quantity Used  Wastage %)</span>\n                            </li>\n                            <li className=\"flex items-start gap-2\">\n                                <span className=\"text-blue-600 font-black\"></span>\n                                <span><strong>Line Cost</strong> = Effective Quantity  Unit Cost</span>\n                            </li>\n                            <li className=\"flex items-start gap-2\">\n                                <span className=\"text-blue-600 font-black\"></span>\n                                <span><strong>Total Recipe Cost</strong> = Sum of all Line Costs (auto-calculated)</span>\n                            </li>\n                            <li className=\"flex items-start gap-2\">\n                                <span className=\"text-blue-600 font-black\"></span>\n                                <span>Unit costs are fetched from <strong>Inventory Items</strong> (average cost)</span>\n                            </li>\n                            <li className=\"flex items-start gap-2\">\n                                <span className=\"text-blue-600 font-black\"></span>\n                                <span><strong>NO manual cost overrides</strong> allowed</span>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n\n            {/* Delete Confirmation Modal */}\n            {showDeleteConfirm && (\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n                    <div className=\"bg-white rounded-3xl p-8 max-w-md w-full mx-4 shadow-2xl\">\n                        <div className=\"flex items-center gap-4 mb-6\">\n                            <div className=\"p-3 bg-rose-100 rounded-2xl\">\n                                <AlertCircle size={24} className=\"text-rose-600\" />\n                            </div>\n                            <div>\n                                <h3 className=\"text-lg font-black text-slate-900\">Delete Recipe?</h3>\n                                <p className=\"text-sm text-slate-600\">This action cannot be undone.</p>\n                            </div>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                            <button\n                                onClick={() => setShowDeleteConfirm(false)}\n                                disabled={actionLoading}\n                                className=\"flex-1 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all disabled:opacity-50\"\n                            >\n                                Cancel\n                            </button>\n                            <button\n                                onClick={handleDelete}\n                                disabled={actionLoading}\n                                className=\"flex-1 px-4 py-2 bg-rose-600 text-white rounded-xl text-sm font-bold hover:bg-rose-700 transition-all disabled:opacity-50\"\n                            >\n                                {actionLoading ? 'Deleting...' : 'Delete'}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9080, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/ReturnDetailPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Printer,\n    Calendar,\n    RotateCcw,\n    MapPin,\n    AlertCircle\n} from 'lucide-react';\nimport { InventoryReturn } from '../../types/inventory';\nimport { returnService } from '../../services/inventoryService';\n\n/**\n * Return Detail Page\n * \n * View details of a processed return/adjustment.\n * Returns are final and cannot be edited.\n */\nexport const ReturnDetailPage: React.FC = () => {\n    const router = useRouter();\n    const { id } = useParams<{ id: string }>();\n\n    const [ret, setRet] = useState<InventoryReturn | null>(null);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const loadReturn = async () => {\n            if (!id) return;\n            try {\n                const data = await returnService.getById(id);\n                setRet(data);\n            } catch (error) {\n                console.error('Failed to load return:', error);\n            } finally {\n                setLoading(false);\n            }\n        };\n        loadReturn();\n    }, [id]);\n\n    if (loading) {\n        return (\n            <div className=\"flex items-center justify-center h-96\">\n                <div className=\"text-center\">\n                    <RotateCcw className=\"w-12 h-12 text-slate-400 animate-spin mx-auto mb-4\" />\n                    <p className=\"text-slate-600 font-medium\">Loading return details...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (!ret) {\n        return (\n            <div className=\"flex items-center justify-center h-96\">\n                <div className=\"text-center\">\n                    <AlertCircle className=\"w-12 h-12 text-rose-400 mx-auto mb-4\" />\n                    <p className=\"text-slate-600 font-medium\">Return not found</p>\n                    <button\n                        onClick={() => router.push('/backoffice/inventory/returns')}\n                        className=\"mt-4 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold\"\n                    >\n                        Back to Returns\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    const getReturnTypeColor = (type: string) => {\n        switch (type) {\n            case 'Supplier Return': return 'bg-blue-50 text-blue-600 border-blue-200';\n            case 'Damaged': return 'bg-rose-50 text-rose-600 border-rose-200';\n            case 'Expired': return 'bg-amber-50 text-amber-600 border-amber-200';\n            case 'Adjustment': return 'bg-violet-50 text-violet-600 border-violet-200';\n            default: return 'bg-slate-50 text-slate-600 border-slate-200';\n        }\n    };\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory/returns')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">Return Details</h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">{ret.referenceNo}</p>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                    <button\n                        onClick={() => window.print()}\n                        className=\"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all\"\n                    >\n                        <Printer size={14} />\n                        Print\n                    </button>\n                </div>\n            </div>\n\n            {/* Info Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <div className=\"bg-white p-4 rounded-2xl border border-slate-200\">\n                    <div className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2\">Type</div>\n                    <span className={`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${getReturnTypeColor(ret.returnType)}`}>\n                        {ret.returnType}\n                    </span>\n                </div>\n                <div className=\"bg-white p-4 rounded-2xl border border-slate-200\">\n                    <div className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2\">Date</div>\n                    <div className=\"flex items-center gap-2\">\n                        <Calendar size={16} className=\"text-slate-400\" />\n                        <span className=\"text-sm font-black text-slate-900\">\n                            {new Date(ret.returnDate).toLocaleDateString()}\n                        </span>\n                    </div>\n                </div>\n                <div className=\"bg-white p-4 rounded-2xl border border-slate-200\">\n                    <div className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2\">Total Amount</div>\n                    <div className=\"text-lg font-black text-rose-600\">\n                        ${ret.totalAmount.toFixed(2)}\n                    </div>\n                </div>\n                <div className=\"bg-white p-4 rounded-2xl border border-slate-200\">\n                    <div className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2\">Processed By</div>\n                    <div className=\"text-sm font-black text-slate-900\">{ret.createdByName}</div>\n                </div>\n            </div>\n\n            {/* Main Content */}\n            <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                {/* Header Info */}\n                <div className=\"p-6 bg-slate-50 border-b border-slate-200\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Business Location\n                            </label>\n                            <div className=\"flex items-center gap-2\">\n                                <MapPin size={16} className=\"text-slate-400\" />\n                                <span className=\"text-base font-black text-slate-900\">{ret.storeName}</span>\n                            </div>\n                        </div>\n                        {ret.supplierName && (\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                    Supplier\n                                </label>\n                                <div className=\"text-base font-black text-slate-900\">{ret.supplierName}</div>\n                            </div>\n                        )}\n                        <div className=\"md:col-span-2\">\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Reason / Notes\n                            </label>\n                            <div className=\"p-4 bg-white rounded-xl border border-slate-200 text-sm text-slate-600\">\n                                {ret.reason || 'No reason provided.'}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Items Grid */}\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-left border-collapse\">\n                        <thead>\n                            <tr className=\"bg-slate-50 border-b border-slate-100\">\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">#</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Item</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Quantity</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Unit Cost</th>\n                                <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Line Total</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-slate-50\">\n                            {ret.products.map((item: any, index: number) => (\n                                <tr key={item.inventoryItemId} className=\"hover:bg-slate-50/50\">\n                                    <td className=\"px-6 py-4 text-sm font-bold text-slate-600\">{index + 1}</td>\n                                    <td className=\"px-6 py-4 text-sm font-black text-slate-900\">\n                                        {/* Name might not be directly in ReturnItem if not populated in backend mock properly, \n                                            but usually backend returns populated data. Assuming yes for now based on service logic */}\n                                        {item.inventoryItemName || 'Item ' + item.inventoryItemId}\n                                    </td>\n                                    <td className=\"px-6 py-4 text-sm font-black text-slate-900 text-right tabular-nums\">\n                                        {item.quantity}\n                                    </td>\n                                    <td className=\"px-6 py-4 text-sm font-bold text-slate-600 text-right tabular-nums\">\n                                        ${item.unitCost.toFixed(2)}\n                                    </td>\n                                    <td className=\"px-6 py-4 text-base font-black text-rose-600 text-right tabular-nums\">\n                                        ${item.lineTotal.toFixed(2)}\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                        <tfoot className=\"bg-slate-50 border-t border-slate-200\">\n                            <tr>\n                                <td colSpan={4} className=\"px-6 py-4 text-right text-sm font-black text-slate-900 uppercase tracking-wide\">\n                                    Grand Total\n                                </td>\n                                <td className=\"px-6 py-4 text-right text-xl font-black text-rose-600 tabular-nums\">\n                                    ${ret.totalAmount.toFixed(2)}\n                                </td>\n                            </tr>\n                        </tfoot>\n                    </table>\n                </div>\n\n                {/* Audit Trail */}\n                <div className=\"p-6 border-t border-slate-200\">\n                    <h3 className=\"text-sm font-black text-slate-900 uppercase tracking-wider mb-4\">Audit Trail</h3>\n                    <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex items-center justify-between\">\n                            <span className=\"text-slate-600 font-medium\">Processed by:</span>\n                            <span className=\"font-bold text-slate-900\">{ret.createdByName}</span>\n                        </div>\n                        <div className=\"flex items-center justify-between\">\n                            <span className=\"text-slate-600 font-medium\">Processed at:</span>\n                            <span className=\"font-bold text-slate-900\">{new Date(ret.createdAt).toLocaleString()}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9805, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/VendorDetailPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Phone,\n    Mail,\n    MapPin,\n    Edit3,\n    Users\n} from 'lucide-react';\nimport { Vendor, InventoryEntry, InventoryReturn } from '../../types/inventory';\nimport { vendorService, returnService } from '../../services/inventoryService';\n\n/**\n * Vendor Detail Page\n * \n * View supplier details, transaction history, and returns.\n */\nexport const VendorDetailPage: React.FC = () => {\n    const router = useRouter();\n    const { id } = useParams<{ id: string }>();\n\n    const [vendor, setVendor] = useState<Vendor | null>(null);\n    const [entries, setEntries] = useState<InventoryEntry[]>([]);\n    const [returns, setReturns] = useState<InventoryReturn[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [activeTab, setActiveTab] = useState<'overview' | 'transactions' | 'returns'>('overview');\n\n    useEffect(() => {\n        const loadData = async () => {\n            if (!id) return;\n            try {\n                const [vData, eData, rData] = await Promise.all([\n                    vendorService.getById(id),\n                    vendorService.getVendorEntries(id),\n                    returnService.getAll({ supplierId: id })\n                ]);\n                setVendor(vData);\n                setEntries(eData);\n                setReturns(rData);\n            } catch (error) {\n                console.error('Failed to load vendor data:', error);\n            } finally {\n                setLoading(false);\n            }\n        };\n        loadData();\n    }, [id]);\n\n    if (loading) {\n        return (\n            <div className=\"flex items-center justify-center h-96\">\n                <div className=\"text-center\">\n                    <Users className=\"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4\" />\n                    <p className=\"text-slate-600 font-medium\">Loading vendor details...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (!vendor) {\n        return (\n            <div className=\"flex items-center justify-center h-96\">\n                <div className=\"text-center\">\n                    <p className=\"text-slate-600 font-medium\">Vendor not found</p>\n                    <button\n                        onClick={() => router.push('/backoffice/inventory/vendors')}\n                        className=\"mt-4 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold\"\n                    >\n                        Back to Vendors\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory/vendors')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">{vendor.name}</h1>\n                    <div className=\"flex items-center gap-2 mt-1\">\n                        <span className={`px-2 py-0.5 rounded-md text-[10px] font-black uppercase tracking-wider border ${vendor.status === 'Active'\n                            ? 'bg-emerald-50 text-emerald-600 border-emerald-200'\n                            : 'bg-slate-100 text-slate-400 border-slate-200'\n                            }`}>\n                            {vendor.status}\n                        </span>\n                        <span className=\"text-xs text-slate-400 font-bold uppercase tracking-tight\">ID: {vendor.id}</span>\n                    </div>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                    <button\n                        onClick={() => router.push(`/backoffice/inventory/vendors/${id}/edit`)}\n                        className=\"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all\"\n                    >\n                        <Edit3 size={14} />\n                        Edit\n                    </button>\n                </div>\n            </div>\n\n            {/* Navigation Tabs */}\n            <div className=\"flex items-center gap-1 border-b border-slate-100\">\n                <button\n                    onClick={() => setActiveTab('overview')}\n                    className={`px-4 py-3 text-sm font-bold rounded-t-xl transition-all ${activeTab === 'overview'\n                        ? 'bg-slate-900 text-white shadow-sm'\n                        : 'text-slate-500 hover:text-slate-900 hover:bg-slate-50'\n                        }`}\n                >\n                    Overview\n                </button>\n                <button\n                    onClick={() => setActiveTab('transactions')}\n                    className={`px-4 py-3 text-sm font-bold rounded-t-xl transition-all ${activeTab === 'transactions'\n                        ? 'bg-slate-900 text-white shadow-sm'\n                        : 'text-slate-500 hover:text-slate-900 hover:bg-slate-50'\n                        }`}\n                >\n                    Transactions ({entries.length})\n                </button>\n                <button\n                    onClick={() => setActiveTab('returns')}\n                    className={`px-4 py-3 text-sm font-bold rounded-t-xl transition-all ${activeTab === 'returns'\n                        ? 'bg-slate-900 text-white shadow-sm'\n                        : 'text-slate-500 hover:text-slate-900 hover:bg-slate-50'\n                        }`}\n                >\n                    Returns ({returns.length})\n                </button>\n            </div>\n\n            {/* Tab Content */}\n            <div className=\"space-y-6\">\n                {activeTab === 'overview' && (\n                    <>\n                        {/* Stats Cards */}\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                            <div className=\"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm\">\n                                <div className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Total Purchases</div>\n                                <div className=\"text-3xl font-black text-slate-900 tabular-nums\">\n                                    ${vendor.totalPurchases.toFixed(2)}\n                                </div>\n                            </div>\n                            <div className=\"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm\">\n                                <div className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Amount Paid</div>\n                                <div className=\"text-3xl font-black text-emerald-600 tabular-nums\">\n                                    ${vendor.totalPaid.toFixed(2)}\n                                </div>\n                            </div>\n                            <div className=\"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm\">\n                                <div className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Outstanding Balance</div>\n                                <div className=\"text-3xl font-black text-rose-600 tabular-nums\">\n                                    ${vendor.totalDue.toFixed(2)}\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Vendor Info */}\n                        <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden p-6\">\n                            <h3 className=\"text-sm font-black text-slate-900 uppercase tracking-widest mb-6\">Contact Information</h3>\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n                                {vendor.contactPerson && (\n                                    <div className=\"flex items-start gap-4\">\n                                        <div className=\"p-3 bg-slate-50 rounded-2xl\">\n                                            <Users size={20} className=\"text-slate-400\" />\n                                        </div>\n                                        <div>\n                                            <label className=\"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1\">Contact Person</label>\n                                            <div className=\"text-sm font-bold text-slate-900\">{vendor.contactPerson}</div>\n                                        </div>\n                                    </div>\n                                )}\n                                {vendor.phone && (\n                                    <div className=\"flex items-start gap-4\">\n                                        <div className=\"p-3 bg-slate-50 rounded-2xl\">\n                                            <Phone size={20} className=\"text-slate-400\" />\n                                        </div>\n                                        <div>\n                                            <label className=\"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1\">Phone</label>\n                                            <div className=\"text-sm font-bold text-slate-900\">{vendor.phone}</div>\n                                        </div>\n                                    </div>\n                                )}\n                                {vendor.email && (\n                                    <div className=\"flex items-start gap-4\">\n                                        <div className=\"p-3 bg-slate-50 rounded-2xl\">\n                                            <Mail size={20} className=\"text-slate-400\" />\n                                        </div>\n                                        <div>\n                                            <label className=\"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1\">Email</label>\n                                            <div className=\"text-sm font-bold text-slate-900\">{vendor.email}</div>\n                                        </div>\n                                    </div>\n                                )}\n                                {vendor.address && (\n                                    <div className=\"flex items-start gap-4 md:col-span-2\">\n                                        <div className=\"p-3 bg-slate-50 rounded-2xl\">\n                                            <MapPin size={20} className=\"text-slate-400\" />\n                                        </div>\n                                        <div>\n                                            <label className=\"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1\">Address</label>\n                                            <div className=\"text-sm font-bold text-slate-900 max-w-md\">{vendor.address}</div>\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    </>\n                )}\n\n                {activeTab === 'transactions' && (\n                    <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                        <div className=\"p-6 border-b border-slate-200\">\n                            <h3 className=\"text-sm font-black text-slate-900 uppercase tracking-widest\">Transaction History</h3>\n                        </div>\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full text-left border-collapse\">\n                                <thead>\n                                    <tr className=\"bg-slate-50 border-b border-slate-100\">\n                                        <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Date</th>\n                                        <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Reference No</th>\n                                        <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Status</th>\n                                        <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Total</th>\n                                        <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Paid</th>\n                                        <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Balance</th>\n                                    </tr>\n                                </thead>\n                                <tbody className=\"divide-y divide-slate-50\">\n                                    {entries.length === 0 ? (\n                                        <tr>\n                                            <td colSpan={6} className=\"px-6 py-12 text-center text-sm text-slate-400 font-medium\">\n                                                No transactions found.\n                                            </td>\n                                        </tr>\n                                    ) : (\n                                        entries.map(entry => (\n                                            <tr\n                                                key={entry.id}\n                                                className=\"hover:bg-slate-50/50 cursor-pointer transition-colors\"\n                                                onClick={() => router.push(`/backoffice/inventory/entries/${entry.id}`)}\n                                            >\n                                                <td className=\"px-6 py-4 text-sm font-bold text-slate-900\">\n                                                    {new Date(entry.inventoryDate).toLocaleDateString()}\n                                                </td>\n                                                <td className=\"px-6 py-4\">\n                                                    <div className=\"text-sm font-black text-blue-600\">{entry.referenceNo}</div>\n                                                </td>\n                                                <td className=\"px-6 py-4\">\n                                                    <span className=\"px-2 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold\">{entry.inventoryStatus}</span>\n                                                </td>\n                                                <td className=\"px-6 py-4 text-right text-sm font-bold text-slate-900 tabular-nums\">\n                                                    ${entry.grandTotal.toFixed(2)}\n                                                </td>\n                                                <td className=\"px-6 py-4 text-right text-sm font-bold text-emerald-600 tabular-nums\">\n                                                    ${(entry.grandTotal - entry.paymentDue).toFixed(2)}\n                                                </td>\n                                                <td className=\"px-6 py-4 text-right text-sm font-bold text-rose-600 tabular-nums\">\n                                                    ${entry.paymentDue.toFixed(2)}\n                                                </td>\n                                            </tr>\n                                        ))\n                                    )}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                )}\n\n                {activeTab === 'returns' && (\n                    <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                        <div className=\"p-6 border-b border-slate-200\">\n                            <h3 className=\"text-sm font-black text-slate-900 uppercase tracking-widest\">Vendor Returns</h3>\n                        </div>\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full text-left border-collapse\">\n                                <thead>\n                                    <tr className=\"bg-slate-50 border-b border-slate-100\">\n                                        <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Date</th>\n                                        <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Reference No</th>\n                                        <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Type</th>\n                                        <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Amount</th>\n                                        <th className=\"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Reason</th>\n                                    </tr>\n                                </thead>\n                                <tbody className=\"divide-y divide-slate-50\">\n                                    {returns.length === 0 ? (\n                                        <tr>\n                                            <td colSpan={5} className=\"px-6 py-12 text-center text-sm text-slate-400 font-medium\">\n                                                No returns recorded for this vendor.\n                                            </td>\n                                        </tr>\n                                    ) : (\n                                        returns.map(ret => (\n                                            <tr\n                                                key={ret.id}\n                                                className=\"hover:bg-slate-50/50 cursor-pointer transition-colors\"\n                                                onClick={() => router.push(`/backoffice/inventory/returns/${ret.id}`)}\n                                            >\n                                                <td className=\"px-6 py-4 text-sm font-bold text-slate-900\">\n                                                    {new Date(ret.returnDate).toLocaleDateString()}\n                                                </td>\n                                                <td className=\"px-6 py-4\">\n                                                    <div className=\"text-sm font-black text-rose-600\">{ret.referenceNo}</div>\n                                                </td>\n                                                <td className=\"px-6 py-4\">\n                                                    <span className=\"px-2 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold\">{ret.returnType}</span>\n                                                </td>\n                                                <td className=\"px-6 py-4 text-right text-sm font-bold text-slate-900 tabular-nums\">\n                                                    ${ret.totalAmount.toFixed(2)}\n                                                </td>\n                                                <td className=\"px-6 py-4 text-sm text-slate-500\">\n                                                    {ret.reason || '-'}\n                                                </td>\n                                            </tr>\n                                        ))\n                                    )}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10808, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/EditRecipePage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Save,\n    Search,\n    Trash2,\n    ChefHat,\n    AlertCircle\n} from 'lucide-react';\n\nimport { InventoryItem, RecipeStatus, CreateRecipeDTO } from '../../types/inventory';\nimport { inventoryItemService, recipeService } from '../../services/inventoryService';\n\ninterface IngredientRow {\n    tempId: string;\n    inventoryItemId: string;\n    inventoryItemName: string;\n    baseUnit: string;\n    unitCost: number;\n    quantityUsed: number;\n    wastagePercentage: number;\n}\n\n/**\n * Edit Recipe Page\n * \n * Allows modifying existing recipes.\n * If recipe is used by products, changes will affect future sales/costing immediately.\n */\nexport const EditRecipePage: React.FC = () => {\n    const router = useRouter();\n    const { id } = useParams<{ id: string }>();\n    const [loading, setLoading] = useState(true);\n    const [submitting, setSubmitting] = useState(false);\n\n    // Form State\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n    const [status, setStatus] = useState<RecipeStatus>('Active');\n    const [ingredients, setIngredients] = useState<IngredientRow[]>([]);\n    const [usedByCount, setUsedByCount] = useState(0);\n\n    // Search State\n    const [searchTerm, setSearchTerm] = useState('');\n    const [isSearching, setIsSearching] = useState(false);\n    const [searchResults, setSearchResults] = useState<InventoryItem[]>([]);\n    const [allInventoryItems, setAllInventoryItems] = useState<InventoryItem[]>([]);\n\n    useEffect(() => {\n        const init = async () => {\n            if (!id) return;\n            setLoading(true);\n            try {\n                // Load Recipe and Items in parallel\n                const [recipe, items] = await Promise.all([\n                    recipeService.getById(id),\n                    inventoryItemService.getAll({ status: 'Active' })\n                ]);\n\n                if (!recipe) {\n                    alert('Recipe not found');\n                    router.push('/backoffice/inventory/recipes');\n                    return;\n                }\n\n                setAllInventoryItems(items);\n\n                // Populate Form\n                setName(recipe.name);\n                setDescription(recipe.description || '');\n                setStatus(recipe.status);\n                setUsedByCount(recipe.usedByProductCount);\n\n                // Map existing ingredients to rows\n                setIngredients(recipe.ingredients.map(ing => ({\n                    tempId: ing.id, // Use existing ID or new temp ID if we were adding new ones\n                    inventoryItemId: ing.inventoryItemId,\n                    inventoryItemName: ing.inventoryItemName,\n                    baseUnit: ing.baseUnit,\n                    unitCost: ing.unitCost,\n                    quantityUsed: ing.quantityUsed,\n                    wastagePercentage: ing.wastagePercentage\n                })));\n\n            } catch (error) {\n                console.error('Failed to load data:', error);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        init();\n    }, [id]);\n\n    // Filter items based on search\n    useEffect(() => {\n        if (!searchTerm.trim()) {\n            setSearchResults([]);\n            return;\n        }\n\n        const results = allInventoryItems.filter(item =>\n            item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            item.sku.toLowerCase().includes(searchTerm.toLowerCase())\n        );\n        setSearchResults(results.slice(0, 5));\n    }, [searchTerm, allInventoryItems]);\n\n    const handleAddIngredient = (item: InventoryItem) => {\n        if (ingredients.some(ing => ing.inventoryItemId === item.id)) {\n            alert('Ingredient already added to recipe');\n            return;\n        }\n\n        const newIngredient: IngredientRow = {\n            tempId: Date.now().toString(),\n            inventoryItemId: item.id,\n            inventoryItemName: item.name,\n            baseUnit: item.baseUnit,\n            unitCost: item.averageCost,\n            quantityUsed: 1,\n            wastagePercentage: 0\n        };\n\n        setIngredients([...ingredients, newIngredient]);\n        setSearchTerm('');\n        setSearchResults([]);\n    };\n\n    const handleRemoveIngredient = (tempId: string) => {\n        setIngredients(ingredients.filter(ing => ing.tempId !== tempId));\n    };\n\n    const updateIngredient = (tempId: string, field: keyof IngredientRow, value: number) => {\n        setIngredients(ingredients.map(ing => {\n            if (ing.tempId === tempId) {\n                return { ...ing, [field]: value };\n            }\n            return ing;\n        }));\n    };\n\n    const calculateLineCost = (ing: IngredientRow) => {\n        const effectiveQty = ing.quantityUsed + (ing.quantityUsed * ing.wastagePercentage / 100);\n        return effectiveQty * ing.unitCost;\n    };\n\n    const totalRecipeCost = ingredients.reduce((sum, ing) => sum + calculateLineCost(ing), 0);\n    const totalIngredients = ingredients.length;\n\n    const handleSubmit = async () => {\n        if (!id) return;\n        if (!name.trim()) {\n            alert('Recipe name is required');\n            return;\n        }\n        if (ingredients.length === 0) {\n            alert('Please add at least one ingredient');\n            return;\n        }\n\n        setSubmitting(true);\n        try {\n            const recipeData: CreateRecipeDTO = {\n                name,\n                description,\n                status,\n                ingredients: ingredients.map(ing => ({\n                    inventoryItemId: ing.inventoryItemId,\n                    baseUnit: ing.baseUnit as any,\n                    quantityUsed: ing.quantityUsed,\n                    wastagePercentage: ing.wastagePercentage\n                }))\n            };\n\n            await recipeService.update(id, recipeData);\n            alert('Recipe updated successfully!');\n            router.push('/backoffice/inventory/recipes');\n        } catch (error: any) {\n            alert('Failed to update recipe: ' + error.message);\n        } finally {\n            setSubmitting(false);\n        }\n    };\n\n    if (loading) {\n        return <div className=\"p-12 text-center text-slate-500\">Loading recipe data...</div>;\n    }\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory/recipes')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">Edit Recipe</h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">{usedByCount > 0 ? `Used by ${usedByCount} products - Edits will affect live costs` : 'Not linked to any products'}</p>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                    <button\n                        onClick={() => router.push('/backoffice/inventory/recipes')}\n                        className=\"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all\"\n                    >\n                        Cancel\n                    </button>\n                    <button\n                        onClick={handleSubmit}\n                        disabled={submitting}\n                        className=\"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-blue-200 hover:from-blue-700 hover:to-blue-600 transition-all active:scale-95 disabled:opacity-50\"\n                    >\n                        <Save size={16} />\n                        {submitting ? 'Saving...' : 'Save Changes'}\n                    </button>\n                </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                {/* Left Column */}\n                <div className=\"lg:col-span-2 space-y-6\">\n\n                    {/* Basic Info */}\n                    <div className=\"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-6\">\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                            <div className=\"md:col-span-2\">\n                                <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Recipe Name *</label>\n                                <input\n                                    type=\"text\"\n                                    value={name}\n                                    onChange={(e) => setName(e.target.value)}\n                                    className=\"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all outline-none\"\n                                />\n                            </div>\n                            <div className=\"md:col-span-2\">\n                                <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Description</label>\n                                <textarea\n                                    value={description}\n                                    onChange={(e) => setDescription(e.target.value)}\n                                    rows={2}\n                                    className=\"w-full p-4 rounded-xl border border-slate-200 font-medium text-slate-900 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all outline-none resize-none\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Status</label>\n                                <div className=\"flex p-1 bg-slate-100 rounded-xl\">\n                                    {(['Active', 'Inactive'] as const).map((s) => (\n                                        <button\n                                            key={s}\n                                            onClick={() => setStatus(s)}\n                                            className={`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${status === s\n                                                ? 'bg-white text-slate-900 shadow-sm'\n                                                : 'text-slate-500 hover:text-slate-700'\n                                                }`}\n                                        >\n                                            {s}\n                                        </button>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Ingredients table (Identical to Create page, just different color accent maybe) */}\n                    <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                        <div className=\"p-6 border-b border-slate-100 flex items-center justify-between\">\n                            <h2 className=\"text-lg font-black text-slate-900 uppercase tracking-tight flex items-center gap-2\">\n                                <ChefHat size={18} className=\"text-slate-400\" />\n                                Ingredients\n                            </h2>\n                            <div className=\"relative w-72 group\">\n                                <Search size={16} className=\"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors\" />\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Add more ingredients...\"\n                                    value={searchTerm}\n                                    onChange={(e) => setSearchTerm(e.target.value)}\n                                    onFocus={() => setIsSearching(true)}\n                                    onBlur={() => setTimeout(() => setIsSearching(false), 200)}\n                                    className=\"w-full h-10 pl-11 pr-4 bg-slate-50 rounded-xl border-none font-bold text-sm focus:ring-2 focus:ring-blue-500/20 text-slate-900 placeholder:text-slate-400\"\n                                />\n                                {isSearching && searchTerm && searchResults.length > 0 && (\n                                    <div className=\"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden z-20\">\n                                        {searchResults.map((item) => (\n                                            <button\n                                                key={item.id}\n                                                onClick={() => handleAddIngredient(item)}\n                                                className=\"w-full text-left p-3 hover:bg-blue-50 flex items-center justify-between group/item\"\n                                            >\n                                                <div>\n                                                    <div className=\"text-sm font-bold text-slate-900 group-hover/item:text-blue-700\">{item.name}</div>\n                                                    <div className=\"text-xs font-medium text-slate-500\">{item.sku}</div>\n                                                </div>\n                                                <div className=\"text-xs font-bold text-slate-400 bg-slate-100 px-2 py-1 rounded-lg\">\n                                                    Stock: {item.currentStock}\n                                                </div>\n                                            </button>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full text-left border-collapse\">\n                                <thead>\n                                    <tr className=\"bg-slate-50 border-b border-slate-100 text-[10px] font-black text-slate-400 uppercase tracking-widest\">\n                                        <th className=\"px-6 py-4\">Ingredient</th>\n                                        <th className=\"px-4 py-4 text-right\">Unit Cost</th>\n                                        <th className=\"px-4 py-4 text-center\">Qty Used</th>\n                                        <th className=\"px-4 py-4 text-center\">Wastage %</th>\n                                        <th className=\"px-4 py-4 text-right\">Effective Qty</th>\n                                        <th className=\"px-4 py-4 text-right\">Line Cost</th>\n                                        <th className=\"px-4 py-4\"></th>\n                                    </tr>\n                                </thead>\n                                <tbody className=\"divide-y divide-slate-50\">\n                                    {ingredients.map((ing) => {\n                                        const effectiveQty = ing.quantityUsed + (ing.quantityUsed * ing.wastagePercentage / 100);\n                                        const lineCost = effectiveQty * ing.unitCost;\n\n                                        return (\n                                            <tr key={ing.tempId} className=\"hover:bg-slate-50/50 transition-colors group\">\n                                                <td className=\"px-6 py-4\">\n                                                    <div className=\"text-sm font-black text-slate-900\">{ing.inventoryItemName}</div>\n                                                    <div className=\"text-xs font-bold text-slate-400\">{ing.baseUnit}</div>\n                                                </td>\n                                                <td className=\"px-4 py-4 text-right\">\n                                                    <div className=\"text-sm font-bold text-slate-600\">${ing.unitCost.toFixed(2)}</div>\n                                                </td>\n                                                <td className=\"px-4 py-4\">\n                                                    <input\n                                                        type=\"number\"\n                                                        min=\"0\"\n                                                        step=\"0.01\"\n                                                        value={ing.quantityUsed}\n                                                        onChange={(e) => updateIngredient(ing.tempId, 'quantityUsed', parseFloat(e.target.value) || 0)}\n                                                        className=\"w-24 h-10 px-3 text-center bg-white border border-slate-200 rounded-lg font-bold text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none\"\n                                                    />\n                                                </td>\n                                                <td className=\"px-4 py-4\">\n                                                    <div className=\"flex items-center justify-center gap-1\">\n                                                        <input\n                                                            type=\"number\"\n                                                            min=\"0\"\n                                                            max=\"100\"\n                                                            value={ing.wastagePercentage}\n                                                            onChange={(e) => updateIngredient(ing.tempId, 'wastagePercentage', parseFloat(e.target.value) || 0)}\n                                                            className=\"w-20 h-10 px-3 text-center bg-white border border-slate-200 rounded-lg font-bold text-amber-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none\"\n                                                        />\n                                                        <span className=\"text-xs font-black text-slate-400\">%</span>\n                                                    </div>\n                                                </td>\n                                                <td className=\"px-4 py-4 text-right\">\n                                                    <div className=\"text-sm font-bold text-slate-600\">{effectiveQty.toFixed(2)} <span className=\"text-[10px] text-slate-400\">{ing.baseUnit}</span></div>\n                                                </td>\n                                                <td className=\"px-4 py-4 text-right\">\n                                                    <div className=\"text-sm font-black text-slate-900\">${lineCost.toFixed(2)}</div>\n                                                </td>\n                                                <td className=\"px-4 py-4 text-right\">\n                                                    <button\n                                                        onClick={() => handleRemoveIngredient(ing.tempId)}\n                                                        className=\"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100\"\n                                                    >\n                                                        <Trash2 size={16} />\n                                                    </button>\n                                                </td>\n                                            </tr>\n                                        );\n                                    })}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Right Column */}\n                <div className=\"space-y-6\">\n                    {/* Cost Summary Card */}\n                    <div className=\"bg-gradient-to-br from-slate-900 to-slate-800 text-white p-8 rounded-3xl shadow-xl shadow-slate-200/50 relative overflow-hidden\">\n                        <div className=\"absolute top-0 right-0 p-32 bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none\"></div>\n\n                        <div className=\"relative z-10\">\n                            <h3 className=\"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6 border-b border-white/10 pb-4\">\n                                Cost Analysis\n                            </h3>\n\n                            <div className=\"space-y-4 mb-8\">\n                                <div className=\"flex justify-between items-center text-sm\">\n                                    <span className=\"text-slate-300\">Ingredient Count</span>\n                                    <span className=\"font-bold\">{totalIngredients}</span>\n                                </div>\n                                <div className=\"flex justify-between items-center text-sm\">\n                                    <span className=\"text-slate-300\">Avg Cost / Item</span>\n                                    <span className=\"font-bold\">\n                                        ${ingredients.length > 0 ? (totalRecipeCost / ingredients.length).toFixed(2) : '0.00'}\n                                    </span>\n                                </div>\n                            </div>\n\n                            <div className=\"pt-6 border-t border-white/10\">\n                                <p className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2\">Total Recipe Cost</p>\n                                <div className=\"text-4xl font-black tracking-tight text-white mb-1\">\n                                    ${totalRecipeCost.toFixed(2)}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    {usedByCount > 0 && (\n                        <div className=\"bg-amber-50 p-6 rounded-3xl border border-amber-100\">\n                            <h3 className=\"text-sm font-black text-amber-900 uppercase tracking-widest mb-4 flex items-center gap-2\">\n                                <AlertCircle size={16} />\n                                Warning\n                            </h3>\n                            <p className=\"text-sm text-amber-800 leading-relaxed font-medium\">\n                                This recipe is currently used by <strong className=\"text-black\">{usedByCount} product(s)</strong>.\n                                Changes made here will immediately affect cost calculations for future sales of these products.\n                            </p>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 11798, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/InventoryItemFormPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Save,\n    Package,\n    AlertCircle\n} from 'lucide-react';\nimport { BaseUnit, ItemStatus, CreateInventoryItemDTO } from '../../types/inventory';\nimport { inventoryItemService } from '../../services/inventoryService';\n\n/**\n * Inventory Item Form Page (Create / Edit)\n * \n * Used to define standard inventory items (ingredients).\n * Note: Stock is NOT managed here (use Adjust Stock or Inventory Entries).\n */\nexport const InventoryItemFormPage: React.FC = () => {\n    const router = useRouter();\n    const { id } = useParams<{ id: string }>();\n    const isEditMode = !!id;\n\n    const [loading, setLoading] = useState(isEditMode);\n    const [submitting, setSubmitting] = useState(false);\n\n    // Form State\n    const [name, setName] = useState('');\n    const [sku, setSku] = useState('');\n    const [baseUnit, setBaseUnit] = useState<BaseUnit>('Piece');\n    const [lowStockThreshold, setLowStockThreshold] = useState<number>(10);\n    const [status, setStatus] = useState<ItemStatus>('Active');\n    const [description, setDescription] = useState('');\n\n    useEffect(() => {\n        if (isEditMode && id) {\n            loadItem(id);\n        }\n    }, [id, isEditMode]);\n\n    const loadItem = async (itemId: string) => {\n        try {\n            const data = await inventoryItemService.getById(itemId);\n            if (data) {\n                setName(data.name);\n                setSku(data.sku);\n                setBaseUnit(data.baseUnit);\n                setLowStockThreshold(data.lowStockThreshold);\n                setStatus(data.status);\n                setDescription(data.description || '');\n            } else {\n                alert('Item not found');\n                router.push('/backoffice/inventory/list');\n            }\n        } catch (error) {\n            console.error('Failed to load item:', error);\n            alert('Error loading item details');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleSubmit = async () => {\n        if (!name.trim()) {\n            alert('Item Name is required');\n            return;\n        }\n        if (!sku.trim()) {\n            alert('SKU is required');\n            return;\n        }\n\n        setSubmitting(true);\n        try {\n            const itemData: CreateInventoryItemDTO = {\n                name,\n                sku,\n                baseUnit,\n                lowStockThreshold,\n                status,\n                description\n            };\n\n            if (isEditMode && id) {\n                await inventoryItemService.update(id, itemData);\n                alert('Item updated successfully');\n            } else {\n                await inventoryItemService.create(itemData, 'TENANT001');\n                alert('Item created successfully');\n            }\n            router.push('/backoffice/inventory/list');\n        } catch (error: any) {\n            console.error('Failed to save item:', error);\n            alert('Failed to save item: ' + error.message);\n        } finally {\n            setSubmitting(false);\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"flex items-center justify-center h-96\">\n                <div className=\"text-center\">\n                    <Package className=\"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4\" />\n                    <p className=\"text-slate-600 font-medium\">Loading item details...</p>\n                </div>\n            </div>\n        );\n    }\n\n    const units: BaseUnit[] = ['Piece', 'Gram', 'Kilogram', 'Liter', 'Milliliter'];\n\n    return (\n        <div className=\"max-w-2xl mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push(isEditMode ? `/backoffice/inventory/items/${id}` : '/backoffice/inventory/list')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">\n                        {isEditMode ? 'Edit Item' : 'Create New Item'}\n                    </h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">\n                        {isEditMode ? 'Update item details' : 'Define new inventory ingredient'}\n                    </p>\n                </div>\n            </div>\n\n            {/* Form */}\n            <div className=\"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm space-y-6\">\n\n                <div className=\"space-y-4\">\n                    <div>\n                        <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Item Name *</label>\n                        <input\n                            type=\"text\"\n                            value={name}\n                            onChange={(e) => setName(e.target.value)}\n                            placeholder=\"e.g., Cheddar Cheese Block\"\n                            className=\"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none\"\n                        />\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">SKU *</label>\n                            <input\n                                type=\"text\"\n                                value={sku}\n                                onChange={(e) => setSku(e.target.value)}\n                                placeholder=\"e.g., ING-001\"\n                                className=\"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Base Unit *</label>\n                            <select\n                                value={baseUnit}\n                                onChange={(e) => setBaseUnit(e.target.value as BaseUnit)}\n                                disabled={isEditMode} // Usually risky to change unit if stock exists\n                                className=\"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none bg-white disabled:bg-slate-50 disabled:text-slate-500\"\n                            >\n                                {units.map(u => (\n                                    <option key={u} value={u}>{u}</option>\n                                ))}\n                            </select>\n                            {isEditMode && <p className=\"text-xs text-amber-500 mt-1 font-medium\">Unit cannot be changed after creation</p>}\n                        </div>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Description</label>\n                        <textarea\n                            value={description}\n                            onChange={(e) => setDescription(e.target.value)}\n                            rows={3}\n                            placeholder=\"Optional details about this item...\"\n                            className=\"w-full p-4 rounded-xl border border-slate-200 font-medium text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none resize-none\"\n                        />\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">\n                                Low Stock Threshold\n                            </label>\n                            <div className=\"relative\">\n                                <input\n                                    type=\"number\"\n                                    min=\"0\"\n                                    value={lowStockThreshold}\n                                    onChange={(e) => setLowStockThreshold(parseFloat(e.target.value) || 0)}\n                                    className=\"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none\"\n                                />\n                                <div className=\"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-bold text-slate-400\">\n                                    {baseUnit}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Status</label>\n                            <div className=\"flex p-1 bg-slate-100 rounded-xl h-12 items-center\">\n                                {(['Active', 'Inactive'] as const).map((s) => (\n                                    <button\n                                        key={s}\n                                        onClick={() => setStatus(s)}\n                                        className={`flex-1 py-2 text-xs font-bold rounded-lg transition-all h-10 ${status === s\n                                            ? 'bg-white text-slate-900 shadow-sm'\n                                            : 'text-slate-500 hover:text-slate-700'\n                                            }`}\n                                    >\n                                        {s}\n                                    </button>\n                                ))}\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"bg-blue-50 p-4 rounded-xl border border-blue-100 flex gap-3 text-blue-800\">\n                        <AlertCircle size={20} className=\"flex-shrink-0\" />\n                        <p className=\"text-xs font-medium leading-relaxed\">\n                            <strong>Note:</strong> Initial stock cannot be set here. Use the \"Adjust Stock\" feature or \"Receive Inventory\" to add stock after creating the item.\n                        </p>\n                    </div>\n                </div>\n\n                <div className=\"pt-6 border-t border-slate-100 flex items-center justify-end gap-3\">\n                    <button\n                        onClick={() => router.push('/backoffice/inventory/list')}\n                        className=\"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all\"\n                    >\n                        Cancel\n                    </button>\n                    <button\n                        onClick={handleSubmit}\n                        disabled={submitting}\n                        className=\"flex items-center gap-2 px-8 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all active:scale-95 disabled:opacity-50\"\n                    >\n                        <Save size={16} />\n                        {submitting ? 'Saving...' : (isEditMode ? 'Update Item' : 'Create Item')}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 12321, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/EditInventoryEntryPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Search,\n    Upload,\n    FileText,\n    Trash2,\n    Save,\n    CheckCircle\n} from 'lucide-react';\nimport { InventoryStatus, InventoryEntryProduct, CreateInventoryEntryDTO, Vendor, InventoryItem } from '../../types/inventory';\nimport { inventoryService, vendorService, inventoryItemService } from '../../services/inventoryService';\n\n/**\n * Edit Inventory Entry Page\n * \n * Allows editing of Draft/Ordered entries.\n * Received entries cannot be edited.\n */\nexport const EditInventoryEntryPage: React.FC = () => {\n    const router = useRouter();\n    const { id } = useParams<{ id: string }>();\n\n    const [loading, setLoading] = useState(true);\n    const [saving, setSaving] = useState(false);\n\n    // Initial Data\n    const [vendors, setVendors] = useState<Vendor[]>([]);\n    const [allItems, setAllItems] = useState<InventoryItem[]>([]);\n\n    // Header Fields\n    const [supplierId, setSupplierId] = useState('');\n    const [referenceNo, setReferenceNo] = useState('');\n    const [inventoryDate, setInventoryDate] = useState('');\n    const [inventoryStatus, setInventoryStatus] = useState<InventoryStatus>('Draft');\n    const [storeId, setStoreId] = useState('STORE001');\n    const [payTerm, setPayTerm] = useState('');\n\n    // Products\n    const [products, setProducts] = useState<InventoryEntryProduct[]>([]);\n\n    // Footer\n    const [purchaseTax, setPurchaseTax] = useState(0);\n    const [shippingCharges, setShippingCharges] = useState(0);\n    const [additionalNotes, setAdditionalNotes] = useState('');\n\n    // Search\n    const [searchQuery, setSearchQuery] = useState('');\n    const [showSearchResults, setShowSearchResults] = useState(false);\n\n    useEffect(() => {\n        const init = async () => {\n            if (!id) return;\n            try {\n                const [entry, vendorList, itemList] = await Promise.all([\n                    inventoryService.getEntry(id),\n                    vendorService.getAll(),\n                    inventoryItemService.getAll({ status: 'Active' })\n                ]);\n\n                if (!entry) {\n                    alert('Entry not found');\n                    router.push('/backoffice/inventory/entries');\n                    return;\n                }\n\n                if (entry.inventoryStatus === 'Received' || entry.inventoryStatus === 'Partial') {\n                    alert('Cannot edit received inventory');\n                    router.push(`/backoffice/inventory/entries/${id}`);\n                    return;\n                }\n\n                setVendors(vendorList);\n                setAllItems(itemList);\n\n                // Populate Form\n                setSupplierId(entry.supplierId);\n                setReferenceNo(entry.referenceNo);\n                setInventoryDate(entry.inventoryDate);\n                setInventoryStatus(entry.inventoryStatus);\n                setStoreId(entry.storeId);\n                setPayTerm(entry.payTerm || '');\n                setProducts(entry.products);\n                setPurchaseTax(entry.purchaseTax);\n                setShippingCharges(entry.shippingCharges);\n                setAdditionalNotes(entry.additionalNotes || '');\n\n            } catch (error) {\n                console.error('Failed to load entry:', error);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        init();\n    }, [id]);\n\n    // Add product to grid\n    const addProduct = (inventoryItemId: string) => {\n        const item = allItems.find(i => i.id === inventoryItemId);\n        if (!item) return;\n\n        const newProduct: InventoryEntryProduct = {\n            id: `TEMP${Date.now()}`, // Temp ID\n            inventoryItemId: item.id,\n            inventoryItemName: item.name,\n            sku: item.sku,\n            purchaseQuantity: 1,\n            unitCostBeforeTax: 0,\n            subtotal: 0,\n            taxPercentage: 0,\n            taxAmount: 0,\n            unitCostAfterTax: 0,\n            lineTotal: 0\n        };\n\n        setProducts([...products, newProduct]);\n        setSearchQuery('');\n        setShowSearchResults(false);\n    };\n\n    // Update product field\n    const updateProduct = (id: string, field: keyof InventoryEntryProduct, value: any) => {\n        setProducts(products.map(p => {\n            if (p.id !== id) return p;\n\n            const updated = { ...p, [field]: value };\n\n            // Recalculate\n            const qty = updated.purchaseQuantity;\n            const costBefore = updated.unitCostBeforeTax;\n            const taxPct = updated.taxPercentage;\n\n            updated.subtotal = qty * costBefore;\n            updated.taxAmount = updated.subtotal * (taxPct / 100);\n            updated.unitCostAfterTax = costBefore + (costBefore * taxPct / 100);\n            updated.lineTotal = qty * updated.unitCostAfterTax;\n\n            return updated;\n        }));\n    };\n\n    // Remove product\n    const removeProduct = (productId: string) => {\n        setProducts(products.filter(p => p.id !== productId));\n    };\n\n    // Calculate totals\n    const subtotal = products.reduce((sum, p) => sum + p.subtotal, 0);\n    const totalTax = products.reduce((sum, p) => sum + p.taxAmount, 0) + purchaseTax;\n    const grandTotal = subtotal + totalTax + shippingCharges;\n\n    const handleUpdate = async (andReceive: boolean = false) => {\n        if (!id) return;\n        if (!supplierId) {\n            alert('Please select a supplier');\n            return;\n        }\n        if (products.length === 0) {\n            alert('Please add at least one product');\n            return;\n        }\n\n        setSaving(true);\n        try {\n            const entryData: CreateInventoryEntryDTO = {\n                supplierId,\n                referenceNo,\n                inventoryDate,\n                inventoryStatus: andReceive ? 'Received' : inventoryStatus,\n                storeId,\n                payTerm,\n                products: products.map(p => ({\n                    sku: p.sku,\n                    inventoryItemId: p.inventoryItemId,\n                    purchaseQuantity: p.purchaseQuantity,\n                    unitCostBeforeTax: p.unitCostBeforeTax,\n                    subtotal: p.subtotal,\n                    taxPercentage: p.taxPercentage,\n                    taxAmount: p.taxAmount,\n                    unitCostAfterTax: p.unitCostAfterTax,\n                    lineTotal: p.lineTotal\n                })),\n                purchaseTax,\n                shippingCharges,\n                additionalNotes\n            };\n\n            await inventoryService.updateEntry(id, entryData);\n\n            if (andReceive) {\n                await inventoryService.receiveInventory(id);\n                alert('Inventory received & stock updated successfully!');\n            } else {\n                alert('Entry updated successfully!');\n            }\n            router.push('/backoffice/inventory/entries');\n        } catch (error: any) {\n            alert('Failed to update: ' + error.message);\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    // Search results\n    const searchResults = searchQuery.trim()\n        ? allItems.filter(item =>\n            item.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n            item.sku.toLowerCase().includes(searchQuery.toLowerCase())\n        ).slice(0, 5)\n        : [];\n\n    if (loading) {\n        return <div className=\"p-12 text-center text-slate-500\">Loading entry...</div>;\n    }\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory/entries')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">Edit Inventory Entry</h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">{referenceNo}</p>\n                </div>\n            </div>\n\n            {/* Form Container */}\n            <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                {/* Header Fields */}\n                <div className=\"p-6 bg-slate-50 border-b border-slate-200\">\n                    <h2 className=\"text-sm font-black text-slate-900 uppercase tracking-widest mb-4\">Entry Details</h2>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                        {/* Supplier */}\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Supplier <span className=\"text-rose-500\">*</span>\n                            </label>\n                            <select\n                                value={supplierId}\n                                onChange={(e) => setSupplierId(e.target.value)}\n                                className=\"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all\"\n                                required\n                            >\n                                <option value=\"\">Select Supplier</option>\n                                {vendors.map(vendor => (\n                                    <option key={vendor.id} value={vendor.id}>{vendor.name}</option>\n                                ))}\n                            </select>\n                        </div>\n\n                        {/* Reference No */}\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Reference No\n                            </label>\n                            <input\n                                type=\"text\"\n                                value={referenceNo}\n                                onChange={(e) => setReferenceNo(e.target.value)}\n                                className=\"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all\"\n                            />\n                        </div>\n\n                        {/* Inventory Date */}\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Inventory Date\n                            </label>\n                            <input\n                                type=\"date\"\n                                value={inventoryDate}\n                                onChange={(e) => setInventoryDate(e.target.value)}\n                                className=\"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all\"\n                            />\n                        </div>\n\n                        {/* Inventory Status */}\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Inventory Status\n                            </label>\n                            <select\n                                value={inventoryStatus}\n                                onChange={(e) => setInventoryStatus(e.target.value as InventoryStatus)}\n                                className=\"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all\"\n                            >\n                                <option value=\"Draft\">Draft</option>\n                                <option value=\"Ordered\">Ordered</option>\n                                <option value=\"Cancelled\">Cancelled</option>\n                            </select>\n                        </div>\n\n                        {/* Pay Term */}\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Pay Term\n                            </label>\n                            <input\n                                type=\"text\"\n                                value={payTerm}\n                                onChange={(e) => setPayTerm(e.target.value)}\n                                className=\"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all\"\n                            />\n                        </div>\n\n                        {/* Attach Document */}\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                Attach Document\n                            </label>\n                            <button className=\"w-full px-4 py-2 bg-slate-100 border border-slate-200 rounded-xl text-sm font-bold text-slate-600 hover:bg-slate-200 transition-all flex items-center justify-center gap-2\">\n                                <Upload size={16} />\n                                Upload Invoice/PDF\n                            </button>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Product Entry Actions */}\n                <div className=\"p-6 border-b border-slate-200\">\n                    <div className=\"flex items-center gap-4\">\n                        {/* Search Product */}\n                        <div className=\"flex-1 relative\">\n                            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                            <input\n                                type=\"text\"\n                                value={searchQuery}\n                                onChange={(e) => {\n                                    setSearchQuery(e.target.value);\n                                    setShowSearchResults(true);\n                                }}\n                                onFocus={() => setShowSearchResults(true)}\n                                placeholder=\"Search Product / SKU / Barcode...\"\n                                className=\"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all\"\n                            />\n\n                            {/* Search Results Dropdown */}\n                            {showSearchResults && searchResults.length > 0 && (\n                                <div className=\"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-10 max-h-64 overflow-y-auto\">\n                                    {searchResults.map(item => (\n                                        <button\n                                            key={item.id}\n                                            onClick={() => addProduct(item.id)}\n                                            className=\"w-full px-4 py-3 text-left hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-0\"\n                                        >\n                                            <div className=\"text-sm font-bold text-slate-900\">{item.name}</div>\n                                            <div className=\"text-xs text-slate-500\">SKU: {item.sku} | Stock: {item.currentStock} {item.baseUnit}</div>\n                                        </button>\n                                    ))}\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Product Grid */}\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-left border-collapse\">\n                        <thead>\n                            <tr className=\"bg-slate-50 border-b border-slate-200\">\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest w-12\">#</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Product Name</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest\">SKU</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Purchase Qty</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Unit Cost (Before Tax)</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Subtotal</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Tax %</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Unit Cost (After Tax)</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Line Total</th>\n                                <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center\">Delete</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-slate-100\">\n                            {products.length === 0 ? (\n                                <tr>\n                                    <td colSpan={10} className=\"px-4 py-12 text-center\">\n                                        <div className=\"flex flex-col items-center gap-3\">\n                                            <FileText size={32} className=\"text-slate-300\" />\n                                            <p className=\"text-sm text-slate-400 font-medium\">No products added.</p>\n                                        </div>\n                                    </td>\n                                </tr>\n                            ) : (\n                                products.map((product, index) => (\n                                    <tr key={product.id} className=\"hover:bg-slate-50 transition-colors\">\n                                        <td className=\"px-4 py-3 text-sm font-bold text-slate-600\">{index + 1}</td>\n                                        <td className=\"px-4 py-3 text-sm font-bold text-slate-900\">{product.inventoryItemName}</td>\n                                        <td className=\"px-4 py-3 text-xs text-slate-500 font-medium\">{product.sku}</td>\n                                        <td className=\"px-4 py-3 text-right\">\n                                            <input\n                                                type=\"number\"\n                                                value={product.purchaseQuantity}\n                                                onChange={(e) => updateProduct(product.id, 'purchaseQuantity', parseFloat(e.target.value) || 0)}\n                                                className=\"w-24 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-sm text-right focus:border-emerald-600\"\n                                                min=\"0\"\n                                                step=\"0.01\"\n                                            />\n                                        </td>\n                                        <td className=\"px-4 py-3 text-right\">\n                                            <input\n                                                type=\"number\"\n                                                value={product.unitCostBeforeTax}\n                                                onChange={(e) => updateProduct(product.id, 'unitCostBeforeTax', parseFloat(e.target.value) || 0)}\n                                                className=\"w-28 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-sm text-right focus:border-emerald-600\"\n                                                min=\"0\"\n                                                step=\"0.01\"\n                                            />\n                                        </td>\n                                        <td className=\"px-4 py-3 text-sm font-bold text-slate-900 text-right tabular-nums\">\n                                            ${product.subtotal.toFixed(2)}\n                                        </td>\n                                        <td className=\"px-4 py-3 text-right\">\n                                            <input\n                                                type=\"number\"\n                                                value={product.taxPercentage}\n                                                onChange={(e) => updateProduct(product.id, 'taxPercentage', parseFloat(e.target.value) || 0)}\n                                                className=\"w-20 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-sm text-right focus:border-emerald-600\"\n                                                min=\"0\"\n                                                max=\"100\"\n                                                step=\"0.1\"\n                                            />\n                                        </td>\n                                        <td className=\"px-4 py-3 text-sm font-bold text-slate-900 text-right tabular-nums\">\n                                            ${product.unitCostAfterTax.toFixed(2)}\n                                        </td>\n                                        <td className=\"px-4 py-3 text-base font-black text-emerald-600 text-right tabular-nums\">\n                                            ${product.lineTotal.toFixed(2)}\n                                        </td>\n                                        <td className=\"px-4 py-3 text-center\">\n                                            <button\n                                                onClick={() => removeProduct(product.id)}\n                                                className=\"p-2 text-slate-400 hover:text-rose-600 transition-colors\"\n                                            >\n                                                <Trash2 size={16} />\n                                            </button>\n                                        </td>\n                                    </tr>\n                                ))\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n\n                {/* Footer */}\n                <div className=\"p-6 bg-slate-50 border-t border-slate-200\">\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                        {/* Left: Additional Fields */}\n                        <div className=\"space-y-4\">\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                    Purchase Tax\n                                </label>\n                                <input\n                                    type=\"number\"\n                                    value={purchaseTax}\n                                    onChange={(e) => setPurchaseTax(parseFloat(e.target.value) || 0)}\n                                    className=\"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all\"\n                                    min=\"0\"\n                                    step=\"0.01\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                    Shipping Charges\n                                </label>\n                                <input\n                                    type=\"number\"\n                                    value={shippingCharges}\n                                    onChange={(e) => setShippingCharges(parseFloat(e.target.value) || 0)}\n                                    className=\"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all\"\n                                    min=\"0\"\n                                    step=\"0.01\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">\n                                    Additional Notes\n                                </label>\n                                <textarea\n                                    value={additionalNotes}\n                                    onChange={(e) => setAdditionalNotes(e.target.value)}\n                                    rows={3}\n                                    className=\"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all resize-none\"\n                                    placeholder=\"Any additional notes...\"\n                                />\n                            </div>\n                        </div>\n\n                        {/* Right: Summary */}\n                        <div className=\"bg-white rounded-2xl border border-slate-200 p-6 space-y-3\">\n                            <h3 className=\"text-sm font-black text-slate-900 uppercase tracking-widest mb-4\">Summary</h3>\n                            <div className=\"flex justify-between items-center\">\n                                <span className=\"text-sm font-bold text-slate-600\">Subtotal</span>\n                                <span className=\"text-sm font-black text-slate-900 tabular-nums\">${subtotal.toFixed(2)}</span>\n                            </div>\n                            <div className=\"flex justify-between items-center\">\n                                <span className=\"text-sm font-bold text-slate-600\">Tax</span>\n                                <span className=\"text-sm font-black text-slate-900 tabular-nums\">${totalTax.toFixed(2)}</span>\n                            </div>\n                            <div className=\"flex justify-between items-center\">\n                                <span className=\"text-sm font-bold text-slate-600\">Shipping</span>\n                                <span className=\"text-sm font-black text-slate-900 tabular-nums\">${shippingCharges.toFixed(2)}</span>\n                            </div>\n                            <div className=\"pt-3 border-t border-slate-200 flex justify-between items-center\">\n                                <span className=\"text-lg font-black text-slate-900 uppercase tracking-tight\">Grand Total</span>\n                                <span className=\"text-2xl font-black text-emerald-600 tabular-nums\">${grandTotal.toFixed(2)}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"p-6 bg-white border-t border-slate-200 flex items-center justify-end gap-4\">\n                    <button\n                        onClick={() => router.push('/backoffice/inventory/entries')}\n                        className=\"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all\"\n                    >\n                        Cancel\n                    </button>\n                    <button\n                        onClick={() => handleUpdate(false)}\n                        disabled={saving}\n                        className=\"px-6 py-2.5 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-slate-800 transition-all flex items-center gap-2 disabled:opacity-50\"\n                    >\n                        <Save size={16} />\n                        {saving ? 'Saving...' : 'Update Entry'}\n                    </button>\n                    <button\n                        onClick={() => handleUpdate(true)}\n                        disabled={saving}\n                        className=\"px-6 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-bold hover:bg-emerald-700 transition-all flex items-center gap-2 disabled:opacity-50\"\n                    >\n                        <CheckCircle size={16} />\n                        Update & Receive\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 13534, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/VendorFormPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Save,\n    Users,\n    MapPin,\n    Phone,\n    Mail\n} from 'lucide-react';\nimport { CreateVendorDTO } from '../../types/inventory';\nimport { vendorService } from '../../services/inventoryService';\n\n/**\n * Vendor Form Page (Create / Edit)\n * \n * Manage supplier details.\n */\nexport const VendorFormPage: React.FC = () => {\n    const router = useRouter();\n    const { id } = useParams<{ id: string }>();\n    const isEditMode = !!id;\n\n    const [loading, setLoading] = useState(isEditMode);\n    const [submitting, setSubmitting] = useState(false);\n\n    // Form State\n    const [name, setName] = useState('');\n    const [contactPerson, setContactPerson] = useState('');\n    const [phone, setPhone] = useState('');\n    const [email, setEmail] = useState('');\n    const [address, setAddress] = useState('');\n    const [status, setStatus] = useState<'Active' | 'Inactive'>('Active');\n\n    useEffect(() => {\n        if (isEditMode && id) {\n            loadVendor(id);\n        }\n    }, [id, isEditMode]);\n\n    const loadVendor = async (vendorId: string) => {\n        try {\n            const data = await vendorService.getById(vendorId);\n            if (data) {\n                setName(data.name);\n                setContactPerson(data.contactPerson || '');\n                setPhone(data.phone || '');\n                setEmail(data.email || '');\n                setAddress(data.address || '');\n                setStatus(data.status);\n            } else {\n                alert('Vendor not found');\n                router.push('/backoffice/inventory/vendors');\n            }\n        } catch (error) {\n            console.error('Failed to load vendor:', error);\n            alert('Error loading vendor details');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleSubmit = async () => {\n        if (!name.trim()) {\n            alert('Vendor Name is required');\n            return;\n        }\n\n        setSubmitting(true);\n        try {\n            const vendorData: CreateVendorDTO = {\n                name,\n                contactPerson,\n                phone,\n                email,\n                address,\n                status\n            };\n\n            if (isEditMode && id) {\n                await vendorService.update(id, vendorData);\n                alert('Vendor updated successfully');\n            } else {\n                await vendorService.create(vendorData);\n                alert('Vendor created successfully');\n            }\n            router.push('/backoffice/inventory/vendors');\n        } catch (error: any) {\n            console.error('Failed to save vendor:', error);\n            alert('Failed to save vendor: ' + error.message);\n        } finally {\n            setSubmitting(false);\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"flex items-center justify-center h-96\">\n                <div className=\"text-center\">\n                    <Users className=\"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4\" />\n                    <p className=\"text-slate-600 font-medium\">Loading vendor details...</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"max-w-2xl mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory/vendors')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">\n                        {isEditMode ? 'Edit Vendor' : 'Add New Vendor'}\n                    </h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">\n                        {isEditMode ? 'Update supplier information' : 'Register a new supplier'}\n                    </p>\n                </div>\n            </div>\n\n            {/* Form */}\n            <div className=\"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm space-y-6\">\n\n                <div className=\"space-y-4\">\n                    <div>\n                        <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Vendor Name *</label>\n                        <input\n                            type=\"text\"\n                            value={name}\n                            onChange={(e) => setName(e.target.value)}\n                            placeholder=\"e.g., Global Foods Ltd\"\n                            className=\"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none\"\n                        />\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Contact Person</label>\n                            <div className=\"relative\">\n                                <Users className=\"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                                <input\n                                    type=\"text\"\n                                    value={contactPerson}\n                                    onChange={(e) => setContactPerson(e.target.value)}\n                                    className=\"w-full h-12 pl-10 pr-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none\"\n                                />\n                            </div>\n                        </div>\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Phone</label>\n                            <div className=\"relative\">\n                                <Phone className=\"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                                <input\n                                    type=\"text\"\n                                    value={phone}\n                                    onChange={(e) => setPhone(e.target.value)}\n                                    className=\"w-full h-12 pl-10 pr-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none\"\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Email Address</label>\n                        <div className=\"relative\">\n                            <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                            <input\n                                type=\"email\"\n                                value={email}\n                                onChange={(e) => setEmail(e.target.value)}\n                                className=\"w-full h-12 pl-10 pr-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none\"\n                            />\n                        </div>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Address</label>\n                        <div className=\"relative\">\n                            <MapPin className=\"absolute left-4 top-3 w-4 h-4 text-slate-400\" />\n                            <textarea\n                                value={address}\n                                onChange={(e) => setAddress(e.target.value)}\n                                rows={3}\n                                className=\"w-full p-4 pl-10 rounded-xl border border-slate-200 font-medium text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none resize-none\"\n                            />\n                        </div>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Status</label>\n                        <div className=\"flex p-1 bg-slate-100 rounded-xl max-w-sm\">\n                            {(['Active', 'Inactive'] as const).map((s) => (\n                                <button\n                                    key={s}\n                                    onClick={() => setStatus(s)}\n                                    className={`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${status === s\n                                        ? 'bg-white text-slate-900 shadow-sm'\n                                        : 'text-slate-500 hover:text-slate-700'\n                                        }`}\n                                >\n                                    {s}\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"pt-6 border-t border-slate-100 flex items-center justify-end gap-3\">\n                    <button\n                        onClick={() => router.push('/backoffice/inventory/vendors')}\n                        className=\"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all\"\n                    >\n                        Cancel\n                    </button>\n                    <button\n                        onClick={handleSubmit}\n                        disabled={submitting}\n                        className=\"flex items-center gap-2 px-8 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all active:scale-95 disabled:opacity-50\"\n                    >\n                        <Save size={16} />\n                        {submitting ? 'Saving...' : (isEditMode ? 'Update Vendor' : 'Create Vendor')}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 14033, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/CreateReturnPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\n;\nimport {\n    ArrowLeft,\n    Search,\n    Trash2,\n    RotateCcw\n} from 'lucide-react';\nimport { ReturnType, InventoryItem } from '../../types/inventory';\nimport { inventoryItemService } from '../../services/inventoryService';\n\ninterface ReturnItem {\n    id: string; // temp id\n    inventoryItemId: string;\n    inventoryItemName: string;\n    sku: string;\n    baseUnit: string;\n    quantity: number;\n    unitCost: number; // Current average cost\n    lineTotal: number;\n}\n\n/**\n * Create Return / Adjustment Page\n * \n * Handles:\n * - Supplier Returns (Stock Out)\n * - Waste / Damaged (Stock Out)\n * - Internal Usage (Stock Out)\n */\nexport const CreateReturnPage: React.FC = () => {\n    const router = useRouter();\n\n    // Header\n    const [returnType, setReturnType] = useState<ReturnType>('Damaged');\n    const [referenceNo, setReferenceNo] = useState('');\n    const [returnDate, setReturnDate] = useState(new Date().toISOString().split('T')[0]);\n    const storeId = 'STORE001';\n    const [reason, setReason] = useState('');\n    const [supplierId, setSupplierId] = useState(''); // Only if type is Supplier Return\n\n    // Items\n    const [items, setItems] = useState<ReturnItem[]>([]);\n\n    // Search\n    const [searchQuery, setSearchQuery] = useState('');\n    const [searchResults, setSearchResults] = useState<InventoryItem[]>([]);\n    const [showResults, setShowResults] = useState(false);\n    const [inventoryItems, setInventoryItems] = useState<InventoryItem[]>([]);\n\n    useEffect(() => {\n        // Load items for search\n        const loadItems = async () => {\n            const data = await inventoryItemService.getAll({ status: 'Active' });\n            setInventoryItems(data);\n        };\n        loadItems();\n    }, []);\n\n    // Filter search\n    useEffect(() => {\n        if (searchQuery.trim()) {\n            const results = inventoryItems.filter(item =>\n                item.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                item.sku.toLowerCase().includes(searchQuery.toLowerCase())\n            ).slice(0, 5);\n            setSearchResults(results);\n        } else {\n            setSearchResults([]);\n        }\n    }, [searchQuery, inventoryItems]);\n\n    const addItem = (item: InventoryItem) => {\n        const newItem: ReturnItem = {\n            id: `TEMP_${Date.now()}`,\n            inventoryItemId: item.id,\n            inventoryItemName: item.name,\n            sku: item.sku,\n            baseUnit: item.baseUnit,\n            quantity: 1,\n            unitCost: item.averageCost,\n            lineTotal: item.averageCost * 1\n        };\n        setItems([...items, newItem]);\n        setSearchQuery('');\n        setShowResults(false);\n    };\n\n    const updateItem = (id: string, field: keyof ReturnItem, value: number) => {\n        setItems(items.map(item => {\n            if (item.id !== id) return item;\n            const updated = { ...item, [field]: value };\n            if (field === 'quantity' || field === 'unitCost') {\n                updated.lineTotal = updated.quantity * updated.unitCost;\n            }\n            return updated;\n        }));\n    };\n\n    const removeItem = (id: string) => {\n        setItems(items.filter(i => i.id !== id));\n    };\n\n    const totalAmount = items.reduce((sum, item) => sum + item.lineTotal, 0);\n\n    const handleSave = async () => {\n        if (items.length === 0) {\n            alert('Please add at least one item');\n            return;\n        }\n        if (!reason) {\n            alert('Please provide a reason');\n            return;\n        }\n\n        const payload = {\n            returnType,\n            referenceNo,\n            returnDate,\n            storeId,\n            supplierId: returnType === 'Supplier Return' ? supplierId : undefined,\n            reason,\n            items: items.map((i: ReturnItem) => ({\n                inventoryItemId: i.inventoryItemId,\n                quantity: i.quantity,\n                unitCost: i.unitCost,\n                lineTotal: i.lineTotal\n            })),\n            totalAmount\n        };\n\n        console.log('Saving return:', payload);\n        // await inventoryService.createReturn(payload); // Mock call\n        alert('Return/Adjustment created successfully!');\n        router.push('/backoffice/inventory/returns');\n    };\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6 pb-24\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4 border-b border-slate-100 pb-6\">\n                <button\n                    onClick={() => router.push('/backoffice/inventory/returns')}\n                    className=\"p-2 hover:bg-slate-100 rounded-xl transition-colors\"\n                >\n                    <ArrowLeft size={20} className=\"text-slate-600\" />\n                </button>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">Create Return / Adjustment</h1>\n                    <p className=\"text-sm text-slate-500 font-medium\">Record stock wastage, damage, or supplier returns</p>\n                </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                {/* Left: Form */}\n                <div className=\"lg:col-span-2 space-y-6\">\n                    <div className=\"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-4\">\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">Type</label>\n                                <select\n                                    value={returnType}\n                                    onChange={(e) => setReturnType(e.target.value as ReturnType)}\n                                    className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none\"\n                                >\n                                    <option value=\"Damaged\">Damaged (Waste)</option>\n                                    <option value=\"Expired\">Expired (Waste)</option>\n                                    <option value=\"Supplier Return\">Supplier Return</option>\n                                    <option value=\"Adjustment\">Inventory Adjustment</option>\n                                </select>\n                            </div>\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">Date</label>\n                                <input\n                                    type=\"date\"\n                                    value={returnDate}\n                                    onChange={(e) => setReturnDate(e.target.value)}\n                                    className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none\"\n                                />\n                            </div>\n                            <div>\n                                <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">Reference No</label>\n                                <input\n                                    type=\"text\"\n                                    value={referenceNo}\n                                    onChange={(e) => setReferenceNo(e.target.value)}\n                                    placeholder=\"Optional\"\n                                    className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none\"\n                                />\n                            </div>\n                            {returnType === 'Supplier Return' && (\n                                <div>\n                                    <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">Supplier</label>\n                                    <input\n                                        type=\"text\"\n                                        value={supplierId}\n                                        onChange={(e) => setSupplierId(e.target.value)}\n                                        placeholder=\"Supplier ID / Name\"\n                                        className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none\"\n                                    />\n                                </div>\n                            )}\n                        </div>\n                        <div>\n                            <label className=\"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2\">Reason / Notes *</label>\n                            <textarea\n                                value={reason}\n                                onChange={(e) => setReason(e.target.value)}\n                                rows={2}\n                                className=\"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none resize-none\"\n                                placeholder=\"Describe why stock is being returned or adjusted...\"\n                            />\n                        </div>\n                    </div>\n\n                    {/* Items Grid */}\n                    <div className=\"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\n                        <div className=\"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-4\">\n                            <div className=\"relative flex-1\">\n                                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                                <input\n                                    type=\"text\"\n                                    value={searchQuery}\n                                    onChange={(e) => {\n                                        setSearchQuery(e.target.value);\n                                        setShowResults(true);\n                                    }}\n                                    onFocus={() => setShowResults(true)}\n                                    placeholder=\"Search item to add...\"\n                                    className=\"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none\"\n                                />\n                                {showResults && searchResults.length > 0 && (\n                                    <div className=\"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-10 max-h-60 overflow-y-auto\">\n                                        {searchResults.map((item: InventoryItem) => (\n                                            <button\n                                                key={item.id}\n                                                onClick={() => addItem(item)}\n                                                className=\"w-full px-4 py-3 text-left hover:bg-slate-50 border-b border-slate-100 last:border-0\"\n                                            >\n                                                <div className=\"text-sm font-bold text-slate-900\">{item.name}</div>\n                                                <div className=\"text-xs text-slate-500\">SKU: {item.sku} | Stock: {item.currentStock} {item.baseUnit}</div>\n                                            </button>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full text-left border-collapse\">\n                                <thead>\n                                    <tr className=\"bg-slate-50 border-b border-slate-100\">\n                                        <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest\">Item</th>\n                                        <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Qty</th>\n                                        <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Cost</th>\n                                        <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right\">Total</th>\n                                        <th className=\"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center\">Action</th>\n                                    </tr>\n                                </thead>\n                                <tbody className=\"divide-y divide-slate-50\">\n                                    {items.length === 0 ? (\n                                        <tr>\n                                            <td colSpan={5} className=\"px-4 py-8 text-center text-sm text-slate-400 font-medium\">\n                                                No items added. Search above.\n                                            </td>\n                                        </tr>\n                                    ) : (\n                                        items.map((item: ReturnItem) => (\n                                            <tr key={item.id} className=\"hover:bg-slate-50/50\">\n                                                <td className=\"px-4 py-3\">\n                                                    <div className=\"text-sm font-bold text-slate-900\">{item.inventoryItemName}</div>\n                                                    <div className=\"text-[10px] text-slate-400\">{item.sku}</div>\n                                                </td>\n                                                <td className=\"px-4 py-3 text-right\">\n                                                    <input\n                                                        type=\"number\"\n                                                        value={item.quantity}\n                                                        onChange={(e) => updateItem(item.id, 'quantity', parseFloat(e.target.value) || 0)}\n                                                        className=\"w-20 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-right text-sm focus:border-rose-600 outline-none\"\n                                                        min=\"0\"\n                                                    />\n                                                </td>\n                                                <td className=\"px-4 py-3 text-right text-sm text-slate-600\">\n                                                    ${item.unitCost.toFixed(2)}\n                                                </td>\n                                                <td className=\"px-4 py-3 text-right text-sm font-bold text-slate-900\">\n                                                    ${item.lineTotal.toFixed(2)}\n                                                </td>\n                                                <td className=\"px-4 py-3 text-center\">\n                                                    <button\n                                                        onClick={() => removeItem(item.id)}\n                                                        className=\"text-slate-400 hover:text-rose-600 transition-colors\"\n                                                    >\n                                                        <Trash2 size={16} />\n                                                    </button>\n                                                </td>\n                                            </tr>\n                                        ))\n                                    )}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Right: Summary */}\n                <div className=\"space-y-6\">\n                    <div className=\"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm\">\n                        <h3 className=\"text-sm font-black text-slate-900 uppercase tracking-widest mb-4\">Summary</h3>\n                        <div className=\"flex justify-between items-center mb-4\">\n                            <span className=\"text-slate-600 font-bold text-sm\">Total Items</span>\n                            <span className=\"text-slate-900 font-black\">{items.length}</span>\n                        </div>\n                        <div className=\"flex justify-between items-center pt-4 border-t border-slate-100\">\n                            <span className=\"text-lg font-black text-slate-900 uppercase tracking-tight\">Total Value</span>\n                            <span className=\"text-2xl font-black text-rose-600\">${totalAmount.toFixed(2)}</span>\n                        </div>\n                        <p className=\"text-xs text-slate-400 mt-2\">\n                            This value will be deducted from your inventory valuation.\n                        </p>\n\n                        <button\n                            onClick={handleSave}\n                            className=\"w-full mt-6 py-3 bg-rose-600 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-rose-200 hover:bg-rose-700 transition-all flex items-center justify-center gap-2\"\n                        >\n                            <RotateCcw size={16} />\n                            Process Return\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAOA;;;AAZA;;;;;AAiCO,MAAM,mBAA6B;;IACtC,MAAM,SAAS,IAAA,kJAAS;IAExB,SAAS;IACT,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAa;IACzD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;IACnF,MAAM,UAAU;IAChB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC,KAAK,kCAAkC;IAEpF,QAAQ;IACR,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAe,EAAE;IAEnD,SAAS;IACT,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAkB,EAAE;IACtE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAkB,EAAE;IAExE,IAAA,0KAAS;sCAAC;YACN,wBAAwB;YACxB,MAAM;wDAAY;oBACd,MAAM,OAAO,MAAM,+KAAoB,CAAC,MAAM,CAAC;wBAAE,QAAQ;oBAAS;oBAClE,kBAAkB;gBACtB;;YACA;QACJ;qCAAG,EAAE;IAEL,gBAAgB;IAChB,IAAA,0KAAS;sCAAC;YACN,IAAI,YAAY,IAAI,IAAI;gBACpB,MAAM,UAAU,eAAe,MAAM;0DAAC,CAAA,OAClC,KAAK,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY,WAAW,OACxD,KAAK,GAAG,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY,WAAW;yDACzD,KAAK,CAAC,GAAG;gBACX,iBAAiB;YACrB,OAAO;gBACH,iBAAiB,EAAE;YACvB;QACJ;qCAAG;QAAC;QAAa;KAAe;IAEhC,MAAM,UAAU,CAAC;QACb,MAAM,UAAsB;YACxB,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;YACxB,iBAAiB,KAAK,EAAE;YACxB,mBAAmB,KAAK,IAAI;YAC5B,KAAK,KAAK,GAAG;YACb,UAAU,KAAK,QAAQ;YACvB,UAAU;YACV,UAAU,KAAK,WAAW;YAC1B,WAAW,KAAK,WAAW,GAAG;QAClC;QACA,SAAS;eAAI;YAAO;SAAQ;QAC5B,eAAe;QACf,eAAe;IACnB;IAEA,MAAM,aAAa,CAAC,IAAY,OAAyB;QACrD,SAAS,MAAM,GAAG,CAAC,CAAA;YACf,IAAI,KAAK,EAAE,KAAK,IAAI,OAAO;YAC3B,MAAM,UAAU;gBAAE,GAAG,IAAI;gBAAE,CAAC,MAAM,EAAE;YAAM;YAC1C,IAAI,UAAU,cAAc,UAAU,YAAY;gBAC9C,QAAQ,SAAS,GAAG,QAAQ,QAAQ,GAAG,QAAQ,QAAQ;YAC3D;YACA,OAAO;QACX;IACJ;IAEA,MAAM,aAAa,CAAC;QAChB,SAAS,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IACxC;IAEA,MAAM,cAAc,MAAM,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,SAAS,EAAE;IAEtE,MAAM,aAAa;QACf,IAAI,MAAM,MAAM,KAAK,GAAG;YACpB,MAAM;YACN;QACJ;QACA,IAAI,CAAC,QAAQ;YACT,MAAM;YACN;QACJ;QAEA,MAAM,UAAU;YACZ;YACA;YACA;YACA;YACA,YAAY,eAAe,oBAAoB,aAAa;YAC5D;YACA,OAAO,MAAM,GAAG,CAAC,CAAC,IAAkB,CAAC;oBACjC,iBAAiB,EAAE,eAAe;oBAClC,UAAU,EAAE,QAAQ;oBACpB,UAAU,EAAE,QAAQ;oBACpB,WAAW,EAAE,SAAS;gBAC1B,CAAC;YACD;QACJ;QAEA,QAAQ,GAAG,CAAC,kBAAkB;QAC9B,6DAA6D;QAC7D,MAAM;QACN,OAAO,IAAI,CAAC;IAChB;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,WAAU;kCAEV,cAAA,6LAAC,gOAAS;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;kCAEnC,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAG,WAAU;0CAAoD;;;;;;0CAClE,6LAAC;gCAAE,WAAU;0CAAqC;;;;;;;;;;;;;;;;;;0BAI1D,6LAAC;gBAAI,WAAU;;kCAEX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;;kEACG,6LAAC;wDAAM,WAAU;kEAAuE;;;;;;kEACxF,6LAAC;wDACG,OAAO;wDACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wDAC7C,WAAU;;0EAEV,6LAAC;gEAAO,OAAM;0EAAU;;;;;;0EACxB,6LAAC;gEAAO,OAAM;0EAAU;;;;;;0EACxB,6LAAC;gEAAO,OAAM;0EAAkB;;;;;;0EAChC,6LAAC;gEAAO,OAAM;0EAAa;;;;;;;;;;;;;;;;;;0DAGnC,6LAAC;;kEACG,6LAAC;wDAAM,WAAU;kEAAuE;;;;;;kEACxF,6LAAC;wDACG,MAAK;wDACL,OAAO;wDACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wDAC7C,WAAU;;;;;;;;;;;;0DAGlB,6LAAC;;kEACG,6LAAC;wDAAM,WAAU;kEAAuE;;;;;;kEACxF,6LAAC;wDACG,MAAK;wDACL,OAAO;wDACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wDAC9C,aAAY;wDACZ,WAAU;;;;;;;;;;;;4CAGjB,eAAe,mCACZ,6LAAC;;kEACG,6LAAC;wDAAM,WAAU;kEAAuE;;;;;;kEACxF,6LAAC;wDACG,MAAK;wDACL,OAAO;wDACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wDAC7C,aAAY;wDACZ,WAAU;;;;;;;;;;;;;;;;;;kDAK1B,6LAAC;;0DACG,6LAAC;gDAAM,WAAU;0DAAuE;;;;;;0DACxF,6LAAC;gDACG,OAAO;gDACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gDACzC,MAAM;gDACN,WAAU;gDACV,aAAY;;;;;;;;;;;;;;;;;;0CAMxB,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;kDACX,cAAA,6LAAC;4CAAI,WAAU;;8DACX,6LAAC,mNAAM;oDAAC,WAAU;;;;;;8DAClB,6LAAC;oDACG,MAAK;oDACL,OAAO;oDACP,UAAU,CAAC;wDACP,eAAe,EAAE,MAAM,CAAC,KAAK;wDAC7B,eAAe;oDACnB;oDACA,SAAS,IAAM,eAAe;oDAC9B,aAAY;oDACZ,WAAU;;;;;;gDAEb,eAAe,cAAc,MAAM,GAAG,mBACnC,6LAAC;oDAAI,WAAU;8DACV,cAAc,GAAG,CAAC,CAAC,qBAChB,6LAAC;4DAEG,SAAS,IAAM,QAAQ;4DACvB,WAAU;;8EAEV,6LAAC;oEAAI,WAAU;8EAAoC,KAAK,IAAI;;;;;;8EAC5D,6LAAC;oEAAI,WAAU;;wEAAyB;wEAAM,KAAK,GAAG;wEAAC;wEAAW,KAAK,YAAY;wEAAC;wEAAE,KAAK,QAAQ;;;;;;;;2DAL9F,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;kDAapC,6LAAC;wCAAI,WAAU;kDACX,cAAA,6LAAC;4CAAM,WAAU;;8DACb,6LAAC;8DACG,cAAA,6LAAC;wDAAG,WAAU;;0EACV,6LAAC;gEAAG,WAAU;0EAA4E;;;;;;0EAC1F,6LAAC;gEAAG,WAAU;0EAAuF;;;;;;0EACrG,6LAAC;gEAAG,WAAU;0EAAuF;;;;;;0EACrG,6LAAC;gEAAG,WAAU;0EAAuF;;;;;;0EACrG,6LAAC;gEAAG,WAAU;0EAAwF;;;;;;;;;;;;;;;;;8DAG9G,6LAAC;oDAAM,WAAU;8DACZ,MAAM,MAAM,KAAK,kBACd,6LAAC;kEACG,cAAA,6LAAC;4DAAG,SAAS;4DAAG,WAAU;sEAA2D;;;;;;;;;;mGAKzF,MAAM,GAAG,CAAC,CAAC,qBACP,6LAAC;4DAAiB,WAAU;;8EACxB,6LAAC;oEAAG,WAAU;;sFACV,6LAAC;4EAAI,WAAU;sFAAoC,KAAK,iBAAiB;;;;;;sFACzE,6LAAC;4EAAI,WAAU;sFAA8B,KAAK,GAAG;;;;;;;;;;;;8EAEzD,6LAAC;oEAAG,WAAU;8EACV,cAAA,6LAAC;wEACG,MAAK;wEACL,OAAO,KAAK,QAAQ;wEACpB,UAAU,CAAC,IAAM,WAAW,KAAK,EAAE,EAAE,YAAY,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wEAC/E,WAAU;wEACV,KAAI;;;;;;;;;;;8EAGZ,6LAAC;oEAAG,WAAU;;wEAA8C;wEACtD,KAAK,QAAQ,CAAC,OAAO,CAAC;;;;;;;8EAE5B,6LAAC;oEAAG,WAAU;;wEAAwD;wEAChE,KAAK,SAAS,CAAC,OAAO,CAAC;;;;;;;8EAE7B,6LAAC;oEAAG,WAAU;8EACV,cAAA,6LAAC;wEACG,SAAS,IAAM,WAAW,KAAK,EAAE;wEACjC,WAAU;kFAEV,cAAA,6LAAC,uNAAM;4EAAC,MAAM;;;;;;;;;;;;;;;;;2DAzBjB,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAsC5C,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAG,WAAU;8CAAmE;;;;;;8CACjF,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAK,WAAU;sDAAmC;;;;;;sDACnD,6LAAC;4CAAK,WAAU;sDAA6B,MAAM,MAAM;;;;;;;;;;;;8CAE7D,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAK,WAAU;sDAA6D;;;;;;sDAC7E,6LAAC;4CAAK,WAAU;;gDAAoC;gDAAE,YAAY,OAAO,CAAC;;;;;;;;;;;;;8CAE9E,6LAAC;oCAAE,WAAU;8CAA8B;;;;;;8CAI3C,6LAAC;oCACG,SAAS;oCACT,WAAU;;sDAEV,6LAAC,gOAAS;4CAAC,MAAM;;;;;;wCAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQnD;GA/Sa;;QACM,kJAAS;;;KADf"}},
    {"offset": {"line": 14818, "column": 0}, "map": {"version":3,"sources":["file:///home/lenovo/Desktop/v2/zyappy_frontend/src/modules/m9/pages/inventory/index.ts"],"sourcesContent":["/**\n * Inventory Module Pages - Index\n * Centralized exports for all inventory pages\n */\n\nexport { InventoryPage } from '../InventoryPage';\nexport { AddInventoryPage } from './AddInventoryPage';\nexport { InventoryEntriesPage } from './InventoryEntriesPage';\nexport { ListInventoryPage } from './ListInventoryPage';\nexport { RecipesPage } from './RecipesPage';\nexport { ListReturnsPage } from './ListReturnsPage';\nexport { VendorsPage } from './VendorsPage';\n\n// Detail Pages\nexport { InventoryEntryDetailPage } from './InventoryEntryDetailPage';\nexport { InventoryItemDetailPage } from './InventoryItemDetailPage';\nexport { RecipeDetailPage } from './RecipeDetailPage';\nexport { ReturnDetailPage } from './ReturnDetailPage';\nexport { VendorDetailPage } from './VendorDetailPage';\n\n\n\n// Create/Edit Pages\nexport { CreateRecipePage } from './CreateRecipePage';\nexport { EditRecipePage } from './EditRecipePage';\nexport { InventoryItemFormPage } from './InventoryItemFormPage';\nexport { EditInventoryEntryPage } from './EditInventoryEntryPage';\nexport { VendorFormPage } from './VendorFormPage';\nexport { CreateReturnPage } from './CreateReturnPage';\n\n\n\n\n\n\n"],"names":[],"mappings":";AAAA;;;CAGC,GAED;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,eAAe;AACf;AACA;AACA;AACA;AACA;AAIA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA"}}]
}