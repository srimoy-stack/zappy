module.exports=[11255,24583,65254,77960,38824,70180,38941,13588,53854,43998,98088,1794,23601,80534,93371,46203,83917,29771,71370,43893,50193,63618,31140,57919,42135,20787,88058,27868,25964,63033,89738,19235,71849,42661,99991,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(23690);let e=({label:a,value:c,secondaryInfo:e,isLoading:f=!1})=>{if(f)return(0,b.jsx)("div",{className:"bg-white border border-slate-200 p-3 h-24 animate-pulse",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-2 bg-slate-100 rounded w-16"}),(0,b.jsx)("div",{className:"h-6 bg-slate-100 rounded w-24"})]})});let g=c.includes("-");return(0,b.jsxs)("div",{className:"bg-white border border-slate-200 p-3 h-24 flex flex-col justify-start",children:[(0,b.jsx)("div",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest mb-1",children:a}),(0,b.jsx)("div",{className:(0,d.cn)("text-2xl font-bold tracking-tight",g?"text-red-600":"text-slate-900"),children:c}),e&&(0,b.jsx)("div",{className:"text-[10px] text-slate-400 font-medium mt-1",children:e})]})},f=({data:a,isLoading:c=!1})=>(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-0 border-t border-l border-slate-200",children:[(0,b.jsx)("div",{className:"border-r border-b border-slate-200",children:(0,b.jsx)(e,{label:"Gross Sales",value:a?(0,d.formatCurrency)(a.grossSales):"$0.00",isLoading:c})}),(0,b.jsx)("div",{className:"border-r border-b border-slate-200",children:(0,b.jsx)(e,{label:"Net Sales",value:a?(0,d.formatCurrency)(a.netSales):"$0.00",isLoading:c})}),(0,b.jsx)("div",{className:"border-r border-b border-slate-200",children:(0,b.jsx)(e,{label:"Orders",value:a?a.orders.toString():"0",isLoading:c})}),(0,b.jsx)("div",{className:"border-r border-b border-slate-200",children:(0,b.jsx)(e,{label:"Avg Ticket",value:a?(0,d.formatCurrency)(a.averageOrderValue):"$0.00",isLoading:c})}),(0,b.jsx)("div",{className:"border-r border-b border-slate-200",children:(0,b.jsx)(e,{label:"Refunds",value:a?(0,d.formatCurrency)(a.refunds):"$0.00",isLoading:c})}),(0,b.jsx)("div",{className:"border-r border-b border-slate-200",children:(0,b.jsx)(e,{label:"Cash Var",value:a?(0,d.formatCurrency)(a.cashVariance):"$0.00",isLoading:c})})]});var g=a.i(70106);let h=(0,g.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var i=a.i(92e3);let j=(0,g.default)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),k=({title:a,description:c,icon:e,action:f,className:g})=>(0,b.jsxs)("div",{className:(0,d.cn)("flex flex-col items-center justify-center p-12",g),children:[(0,b.jsx)("div",{className:"rounded-full bg-slate-100 p-3 mb-4",children:e||(0,b.jsx)(j,{className:"h-6 w-6 text-slate-400"})}),(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-1",children:a}),c&&(0,b.jsx)("p",{className:"text-sm text-slate-500 text-center mb-4 max-w-md",children:c}),f&&(0,b.jsx)("button",{onClick:f.onClick,className:"px-4 py-2 bg-slate-900 text-white rounded-md text-sm font-medium hover:bg-slate-800 transition-colors",children:f.label})]}),l=({data:a,isLoading:c=!1})=>c?(0,b.jsx)("div",{className:"bg-white border border-slate-200 divide-y divide-slate-100",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"flex gap-4 p-3 animate-pulse",children:[(0,b.jsx)("div",{className:"h-4 bg-slate-50 rounded w-24"}),(0,b.jsx)("div",{className:"h-4 bg-slate-50 rounded w-12 ml-auto"}),(0,b.jsx)("div",{className:"h-4 bg-slate-50 rounded w-20"})]},a))}):a&&0!==a.length?(0,b.jsx)("div",{className:"bg-white border border-slate-200",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50/30",children:[(0,b.jsx)("th",{className:"text-left px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Channel"}),(0,b.jsx)("th",{className:"text-right px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Orders"}),(0,b.jsx)("th",{className:"text-right px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Sales"}),(0,b.jsx)("th",{className:"text-right px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"%"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100",children:a.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"px-4 py-2 text-xs font-bold text-slate-900",children:a.channel}),(0,b.jsx)("td",{className:"px-4 py-2 text-xs text-slate-500 text-right",children:a.orders}),(0,b.jsx)("td",{className:"px-4 py-2 text-xs text-slate-900 font-bold text-right",children:(0,d.formatCurrency)(a.sales)}),(0,b.jsxs)("td",{className:"px-4 py-2 text-[11px] text-slate-500 text-right",children:[a.percentage.toFixed(1),"%"]})]},a.channel))})]})}):(0,b.jsx)("div",{className:"bg-white border border-slate-200",children:(0,b.jsx)(k,{title:"No sales data",description:"Sales data will appear here"})}),m=({data:a,isLoading:c=!1,onOrderClick:e})=>c?(0,b.jsx)("div",{className:"bg-white border border-slate-200 divide-y divide-slate-100",children:[1,2,3,4,5].map(a=>(0,b.jsxs)("div",{className:"flex gap-4 p-3 animate-pulse",children:[(0,b.jsx)("div",{className:"h-4 bg-slate-50 rounded w-16"}),(0,b.jsx)("div",{className:"h-4 bg-slate-50 rounded w-20"}),(0,b.jsx)("div",{className:"h-4 bg-slate-50 rounded w-32"}),(0,b.jsx)("div",{className:"h-4 bg-slate-50 rounded w-16"}),(0,b.jsx)("div",{className:"h-4 bg-slate-50 rounded w-20"}),(0,b.jsx)("div",{className:"h-4 bg-slate-50 rounded w-16 ml-auto"})]},a))}):a&&0!==a.length?(0,b.jsx)("div",{className:"bg-white border border-slate-200",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50/30",children:[(0,b.jsx)("th",{className:"text-left px-4 py-2 text-                           [10px] font-bold text-slate-500 uppercase tracking-widest",children:"Time"}),(0,b.jsx)("th",{className:"text-left px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Order #"}),(0,b.jsx)("th",{className:"text-left px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Customer"}),(0,b.jsx)("th",{className:"text-left px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Channel"}),(0,b.jsx)("th",{className:"text-left px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Status"}),(0,b.jsx)("th",{className:"text-right px-4 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Total"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100",children:a.slice(0,5).map(a=>{let c;return(0,b.jsxs)("tr",{onClick:()=>e?.(a.id),className:(0,d.cn)("group",e&&"cursor-pointer hover:bg-slate-50/50"),children:[(0,b.jsx)("td",{className:"px-4 py-2 text-xs text-slate-500",children:a.time}),(0,b.jsx)("td",{className:"px-4 py-2 text-xs font-bold text-slate-900",children:a.orderNumber}),(0,b.jsx)("td",{className:"px-4 py-2 text-xs text-slate-600",children:a.customer}),(0,b.jsx)("td",{className:"px-4 py-2",children:(0,b.jsx)("span",{className:"text-[11px] font-medium text-slate-500",children:a.channel})}),(0,b.jsx)("td",{className:"px-4 py-2",children:(0,b.jsx)("span",{className:(0,d.cn)("text-[11px] font-bold",(a=>{switch(a){case"completed":return"text-emerald-600/80";case"pending":return"text-amber-600/80";case"cancelled":return"text-slate-400";case"refunded":return"text-red-600/80";default:return"text-slate-600"}})(a.status)),children:(c=a.status).charAt(0).toUpperCase()+c.slice(1)})}),(0,b.jsx)("td",{className:"px-4 py-2 text-xs text-slate-900 font-bold text-right",children:(0,d.formatCurrency)(a.total)})]},a.id)})})]})}):(0,b.jsx)("div",{className:"bg-white border border-slate-200",children:(0,b.jsx)(k,{title:"No recent orders",description:"Recent orders will appear here"})}),n=()=>{let a=[45,52,48,70,65,80,75,90,85,95,100,110,105,120,115,130],c=["8AM","9AM","10AM","11AM","12PM","1PM","2PM","3PM","4PM","5PM","6PM","7PM","8PM","9PM","10PM","11PM"],d=Math.max(...a),e=a.map((b,c)=>{let e=c/(a.length-1)*720+40;return`${e},${200-b/d*120-40}`}).join(" ");return(0,b.jsx)("div",{className:"w-full h-[280px] flex flex-col pt-4",children:(0,b.jsx)("div",{className:"flex-1 relative",children:(0,b.jsxs)("svg",{viewBox:"0 0 800 200",className:"w-full h-full overflow-visible",children:[[0,.25,.5,.75,1].map((a,c)=>{let e=160-120*a;return(0,b.jsxs)("g",{children:[(0,b.jsx)("line",{x1:40,y1:e,x2:760,y2:e,stroke:"#E2E8F0",strokeWidth:"1",strokeDasharray:"4 4"}),(0,b.jsx)("text",{x:30,y:e+4,textAnchor:"end",className:"text-[10px] fill-slate-400 font-medium",children:Math.round(a*d)})]},c)}),(0,b.jsx)("defs",{children:(0,b.jsxs)("linearGradient",{id:"gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:"0.1"}),(0,b.jsx)("stop",{offset:"100%",stopColor:"#10B981",stopOpacity:"0"})]})}),(0,b.jsx)("polyline",{points:`40,160 ${e} 760,160`,fill:"url(#gradient)"}),(0,b.jsx)("polyline",{points:e,fill:"none",stroke:"#10B981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.map((c,e)=>{if(e%2!=0)return null;let f=e/(a.length-1)*720+40;return(0,b.jsx)("circle",{cx:f,cy:200-c/d*120-40,r:"3",className:"fill-white stroke-emerald-500 stroke-[2]"},e)}),c.map((a,d)=>{if(d%3!=0)return null;let e=d/(c.length-1)*720+40;return(0,b.jsx)("text",{x:e,y:180,textAnchor:"middle",className:"text-[10px] fill-slate-400 font-medium uppercase tracking-tighter",children:a},d)})]})})})},o=()=>{let[a,e]=(0,c.useState)("today");return(0,b.jsxs)("div",{className:"bg-white border border-slate-200 rounded overflow-hidden shadow-sm",children:[(0,b.jsxs)("div",{className:"px-6 pt-6 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-widest",children:"Sales"}),(0,b.jsx)("p",{className:"text-[11px] text-slate-400 mt-0.5 font-medium uppercase tracking-tight",children:"Revenue performance over time"})]}),(0,b.jsx)("div",{className:"flex bg-slate-50 p-1 rounded-md border border-slate-200",children:[{id:"today",label:"Today"},{id:"week",label:"This Week"},{id:"month",label:"This Month"}].map(c=>(0,b.jsx)("button",{onClick:()=>e(c.id),className:(0,d.cn)("px-4 py-1.5 text-[11px] font-bold rounded-sm transition-all uppercase tracking-wider",a===c.id?"bg-white text-slate-900 shadow-sm border border-slate-200":"text-slate-500 hover:text-slate-800"),children:c.label},c.id))})]}),(0,b.jsx)("div",{className:"px-6 pb-8",children:(0,b.jsx)(n,{})})]})},p=(0,g.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);a.s(["HomePage",0,()=>{let[a,d]=(0,c.useState)(null),[e,g]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{(async()=>{g(!0);try{await new Promise(a=>setTimeout(a,600)),d({kpis:{grossSales:15250.5,netSales:14800.25,orders:342,averageOrderValue:44.59,refunds:450.25,cashVariance:-2.5},salesByChannel:[{channel:"POS",orders:280,sales:12500.5,percentage:82},{channel:"Online",orders:45,sales:2100,percentage:13.8},{channel:"Uber",orders:17,sales:649.75,percentage:4.2}],recentOrders:[{id:"1",time:"10:45 AM",orderNumber:"#1092",customer:"Jane Cooper",channel:"POS",status:"completed",total:45},{id:"2",time:"10:42 AM",orderNumber:"#1091",customer:"Wade Warren",channel:"Online",status:"pending",total:32.5},{id:"3",time:"10:38 AM",orderNumber:"#1090",customer:"Esther Howard",channel:"POS",status:"completed",total:12},{id:"4",time:"10:35 AM",orderNumber:"#1089",customer:"Cameron Williamson",channel:"Uber",status:"refunded",total:54.2},{id:"5",time:"10:30 AM",orderNumber:"#1088",customer:"Anonymous",channel:"POS",status:"completed",total:8.5},{id:"6",time:"10:25 AM",orderNumber:"#1087",customer:"John Smith",channel:"POS",status:"completed",total:22.1},{id:"7",time:"10:20 AM",orderNumber:"#1086",customer:"Sarah Miller",channel:"Online",status:"completed",total:15.75}]})}catch(a){console.error("Failed to load dashboard data",a)}finally{g(!1)}})()},[]),(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-20 px-2 lg:px-4",children:[(0,b.jsx)("div",{className:"flex items-center justify-between border-b border-slate-200 pb-4 pt-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-slate-100 rounded-lg",children:(0,b.jsx)(p,{className:"w-5 h-5 text-slate-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Home"}),(0,b.jsx)("p",{className:"text-[11px] font-medium text-slate-400 uppercase tracking-widest mt-0.5",children:"Executive Business Overview"})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded overflow-hidden border border-slate-200 shadow-sm",children:(0,b.jsx)(f,{data:a?.kpis||null,isLoading:e})}),(0,b.jsx)("section",{className:"w-full",children:(0,b.jsx)(o,{})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 items-start",children:[(0,b.jsxs)("div",{className:"xl:col-span-1 space-y-3",children:[(0,b.jsx)("div",{className:"flex items-center justify-between px-1",children:(0,b.jsx)("h2",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.15em]",children:"Sales by Channel"})}),(0,b.jsx)("div",{className:"rounded border border-slate-200 shadow-sm overflow-hidden",children:(0,b.jsx)(l,{data:a?.salesByChannel||[],isLoading:e})})]}),(0,b.jsxs)("div",{className:"xl:col-span-2 space-y-3",children:[(0,b.jsx)("div",{className:"flex items-center justify-between px-1",children:(0,b.jsx)("h2",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.15em]",children:"Recent Orders"})}),(0,b.jsx)("div",{className:"rounded border border-slate-200 shadow-sm overflow-hidden",children:(0,b.jsx)(m,{data:a?.recentOrders||[],isLoading:e,onOrderClick:a=>console.log("Order detail placeholder:",a)})})]})]})]})}],24583);var q=a.i(98967),r=a.i(13749),s=a.i(50522);let t=(0,g.default)("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),u=(0,g.default)("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),v=({data:a,isLoading:c,onRowClick:d,currentPage:e,itemsPerPage:f,totalItems:g,onPageChange:h,onItemsPerPageChange:j})=>c?(0,b.jsx)("div",{className:"h-64 flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"})}):a&&0!==a.length?(0,b.jsxs)("div",{className:"bg-white border border-slate-200 rounded shadow-sm overflow-hidden flex flex-col",children:[(0,b.jsx)("div",{className:"overflow-x-auto scrollbar-thin scrollbar-thumb-slate-200",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse table-auto min-w-[1800px]",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-white border-b border-slate-100",children:[(0,b.jsx)(A,{label:"Action"}),(0,b.jsx)(A,{label:"Date"}),(0,b.jsx)(A,{label:"Invoice No."}),(0,b.jsx)(A,{label:"Customer name"}),(0,b.jsx)(A,{label:"Contact number"}),(0,b.jsx)(A,{label:"Location"}),(0,b.jsx)(A,{label:"Payment status"}),(0,b.jsx)(A,{label:"Payment Method"}),(0,b.jsx)(A,{label:"Total amount",align:"right"}),(0,b.jsx)(A,{label:"Base Price",align:"right"}),(0,b.jsx)(A,{label:"Tax",align:"right"}),(0,b.jsx)(A,{label:"Total",align:"right"}),(0,b.jsx)(A,{label:"Net Price",align:"right"}),(0,b.jsx)(A,{label:"Sell Price",align:"right"}),(0,b.jsx)(A,{label:"Return",align:"right"}),(0,b.jsx)(A,{label:"Shipping",align:"right"}),(0,b.jsx)(A,{label:"Net due",align:"right"}),(0,b.jsx)(A,{label:"Total items",align:"center"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:a.map(a=>(0,b.jsx)(x,{row:a,onClick:()=>d(a)},a.id))})]})}),(0,b.jsxs)("div",{className:"px-4 py-3 bg-white border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Show"}),(0,b.jsx)("select",{value:f,onChange:a=>j(Number(a.target.value)),className:"bg-slate-50 border border-slate-200 rounded px-2 py-1 text-xs font-bold text-slate-600 focus:outline-none focus:border-emerald-500 transition-colors",children:[10,25,50,100].map(a=>(0,b.jsx)("option",{value:a,children:a},a))}),(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Entries"})]}),(0,b.jsx)("div",{className:"h-4 w-[1px] bg-slate-100 hidden sm:block"}),(0,b.jsxs)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Showing ",Math.min((e-1)*f+1,g)," to ",Math.min(e*f,g)," of ",g," entries"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(w,{onClick:()=>h(1),disabled:1===e,icon:t}),(0,b.jsx)(w,{onClick:()=>h(e-1),disabled:1===e,icon:r.ChevronLeft}),(0,b.jsxs)("div",{className:"flex items-center px-2",children:[(0,b.jsx)("span",{className:"text-xs font-black text-slate-900 mx-2",children:e}),(0,b.jsx)("span",{className:"text-xs font-bold text-slate-300 mx-1",children:"/"}),(0,b.jsx)("span",{className:"text-xs font-bold text-slate-400 mx-2",children:Math.ceil(g/f)||1})]}),(0,b.jsx)(w,{onClick:()=>h(e+1),disabled:e>=Math.ceil(g/f),icon:s.ChevronRight}),(0,b.jsx)(w,{onClick:()=>h(Math.ceil(g/f)),disabled:e>=Math.ceil(g/f),icon:u})]})]})]}):(0,b.jsx)("div",{className:"bg-white border border-slate-200 rounded-xl p-24 text-center shadow-sm",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)("div",{className:"p-4 bg-slate-50 rounded-full",children:(0,b.jsx)(i.AlertCircle,{className:"w-12 h-12 text-slate-200"})}),(0,b.jsx)("div",{children:(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"No Sales Found"})})]})}),w=({onClick:a,disabled:c,icon:e})=>(0,b.jsx)("button",{onClick:a,disabled:c,className:(0,d.cn)("p-1.5 rounded-md transition-all border",c?"bg-slate-50 text-slate-200 border-slate-100 cursor-not-allowed":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50 hover:border-slate-300 active:scale-90"),children:(0,b.jsx)(e,{className:"w-4 h-4"})}),x=({row:a,onClick:c})=>{let e=new Date(a.timestamp).toLocaleDateString()+" "+new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,b.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors group cursor-pointer",onClick:c,children:[(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("button",{className:"flex items-center gap-1 px-2.5 py-1 bg-sky-50 text-sky-600 rounded text-[10px] font-black uppercase hover:bg-sky-100 transition-colors border border-sky-100",children:["Actions",(0,b.jsx)(z,{className:"w-3 h-3"})]})}),(0,b.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs text-slate-600 font-medium",children:e}),(0,b.jsx)("td",{className:"px-4 py-3 text-xs text-blue-600 font-bold hover:underline",children:a.invoiceNo}),(0,b.jsx)("td",{className:"px-4 py-3 text-xs text-slate-700 font-medium capitalize prose-sm",children:a.customerName}),(0,b.jsx)("td",{className:"px-4 py-3 text-xs text-slate-500 font-medium",children:a.contactNumber}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("div",{className:"max-w-[200px] text-[10px] text-slate-400 font-medium leading-relaxed",children:a.location})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)(y,{status:a.paymentStatus})}),(0,b.jsx)("td",{className:"px-4 py-3 text-xs text-slate-600 font-bold",children:a.paymentMethod}),(0,b.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-900 font-black",children:(0,d.formatCurrency)(a.totalAmount)}),(0,b.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-500 font-medium",children:(0,d.formatCurrency)(a.basePrice)}),(0,b.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-500 font-medium",children:(0,d.formatCurrency)(a.tax)}),(0,b.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-500 font-medium",children:(0,d.formatCurrency)(a.totalAmount)}),(0,b.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-500 font-medium",children:(0,d.formatCurrency)(a.netPrice)}),(0,b.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-500 font-medium",children:(0,d.formatCurrency)(a.sellPrice)}),(0,b.jsx)("td",{className:"px-4 py-3 text-right text-xs text-red-400 font-medium",children:(0,d.formatCurrency)(a.returnAmount)}),(0,b.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-500 font-medium",children:(0,d.formatCurrency)(a.shipping)}),(0,b.jsx)("td",{className:"px-4 py-3 text-right text-xs text-slate-900 font-black",children:(0,d.formatCurrency)(a.netDue)}),(0,b.jsx)("td",{className:"px-4 py-3 text-center text-xs text-slate-600 font-bold",children:a.totalItems})]})},y=({status:a})=>(0,b.jsx)("span",{className:(0,d.cn)("px-2 py-0.5 rounded text-[9px] font-black uppercase border tracking-widest",{Paid:"bg-emerald-50 text-emerald-600 border-emerald-100",Partial:"bg-amber-50 text-amber-600 border-amber-100",Due:"bg-red-50 text-red-600 border-red-100",Refunded:"bg-slate-50 text-slate-600 border-slate-100"}[a]),children:a}),z=({className:a})=>(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:(0,b.jsx)("polyline",{points:"6 9 12 15 18 9"})}),A=({label:a,align:c="left"})=>(0,b.jsx)("th",{className:(0,d.cn)("px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest bg-slate-50/50","right"===c?"text-right":"center"===c?"text-center":"text-left"),children:a});var B=a.i(41675),C=a.i(69012),D=a.i(87654);let E=({filters:a,onFilterChange:c,onClear:d})=>{let{role:e}=(0,q.useRouteAccess)();return(0,b.jsxs)("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-6 text-slate-800",children:[(0,b.jsx)(C.Filter,{className:"w-4 h-4 text-emerald-600"}),(0,b.jsx)("h4",{className:"text-sm font-bold uppercase tracking-wider",children:"Filters"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)(F,{label:"Business Location",children:(0,b.jsxs)("select",{className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20",disabled:"ADMIN"!==e,children:[(0,b.jsx)("option",{children:"All"}),(0,b.jsx)("option",{children:"Flagship Store"}),(0,b.jsx)("option",{children:"Warehouse Ops"})]})}),(0,b.jsx)(F,{label:"Customer",children:(0,b.jsx)("select",{className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20",children:(0,b.jsx)("option",{children:"All"})})}),(0,b.jsx)(F,{label:"Payment Status",children:(0,b.jsxs)("select",{className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20",value:a.paymentStatus?.[0]||"",onChange:b=>c({...a,paymentStatus:b.target.value?[b.target.value]:void 0}),children:[(0,b.jsx)("option",{value:"",children:"All"}),(0,b.jsx)("option",{value:"Paid",children:"Paid"}),(0,b.jsx)("option",{value:"Partial",children:"Partial"}),(0,b.jsx)("option",{value:"Due",children:"Due"}),(0,b.jsx)("option",{value:"Refunded",children:"Refunded"})]})}),(0,b.jsx)(F,{label:"Date Range",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 h-10 bg-slate-50 border border-slate-200 rounded-lg",children:[(0,b.jsx)(B.Calendar,{className:"w-3.5 h-3.5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"01/01/2023 - 31/12/2023",className:"bg-transparent text-xs font-medium focus:outline-none w-full placeholder:text-slate-300",readOnly:!0})]})}),(0,b.jsx)(F,{label:"User",children:(0,b.jsx)("select",{className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20",children:(0,b.jsx)("option",{children:"All"})})}),(0,b.jsx)(F,{label:"Shipping Status",children:(0,b.jsx)("select",{className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20",children:(0,b.jsx)("option",{children:"All"})})}),(0,b.jsx)(F,{label:"Payment Method",children:(0,b.jsxs)("select",{className:"w-full h-10 px-3 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20",children:[(0,b.jsx)("option",{children:"All"}),(0,b.jsx)("option",{children:"Cash"}),(0,b.jsx)("option",{children:"Card"}),(0,b.jsx)("option",{children:"Online"})]})}),(0,b.jsx)("div",{className:"flex items-end justify-end",children:(0,b.jsxs)("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 text-xs font-bold text-slate-500 hover:text-slate-800 transition-colors uppercase tracking-widest",children:[(0,b.jsx)(D.RotateCcw,{className:"w-3.5 h-3.5"}),"Clear"]})})]})]})},F=({label:a,children:c})=>(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsxs)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block",children:[a,":"]}),(0,b.jsx)("div",{className:"relative",children:c})]});var G=a.i(87532),H=a.i(24722),I=a.i(4720);let J=(0,g.default)("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]);var K=a.i(71931);let L=(0,g.default)("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);var M=a.i(15618);let N=({onSearch:a,onExport:c,onAdd:d})=>{let{role:e}=(0,q.useRouteAccess)();return(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-4 mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[(0,b.jsx)("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest whitespace-nowrap",children:"All sales"}),(0,b.jsxs)("div",{className:"relative flex-1 lg:w-64",children:[(0,b.jsx)(G.Search,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search...",className:"w-full pl-8 pr-3 py-1.5 bg-white border border-slate-200 rounded text-xs focus:outline-none focus:border-emerald-500",onChange:b=>a(b.target.value)})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 w-full lg:w-auto overflow-x-auto pb-2 lg:pb-0",children:[("ADMIN"===e||"STORE_MANAGER"===e)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(O,{onClick:()=>c("pdf"),icon:I.FileText,label:"Export PDF"}),(0,b.jsx)(O,{onClick:()=>c("excel"),icon:H.FileSpreadsheet,label:"Export Excel"}),(0,b.jsx)(O,{onClick:()=>c("csv"),icon:J,label:"Export Multi"}),(0,b.jsx)("div",{className:"h-4 w-[1px] bg-slate-200 mx-1"})]}),(0,b.jsx)(O,{icon:L,label:"Column visibility"}),(0,b.jsx)(O,{onClick:()=>window.print(),icon:K.Printer,label:"Export PDF"}),(0,b.jsxs)("button",{onClick:d,className:"flex items-center gap-1.5 px-4 py-1.5 bg-violet-600 hover:bg-violet-700 text-white rounded text-[10px] font-black uppercase tracking-widest transition-all shadow-md active:scale-95 ml-2",children:[(0,b.jsx)(M.Plus,{className:"w-3.5 h-3.5"}),"Add"]})]})]})},O=({onClick:a,icon:c,label:d})=>(0,b.jsxs)("button",{onClick:a,className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-white border border-slate-200 rounded text-[9px] font-bold text-slate-600 uppercase tracking-wider hover:bg-slate-50 transition-all shadow-sm whitespace-nowrap",children:[(0,b.jsx)(c,{className:"w-3 h-3 text-slate-400"}),d]}),P=(0,g.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Q=(0,g.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),R=(0,g.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),S=(0,g.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),T=(0,g.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),U=(0,g.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var V=a.i(33350);let W=({transaction:a,isOpen:c,onClose:e})=>{if(!c||!a)return null;let f="REFUND"===a.type||"PARTIAL_REFUND"===a.type;return(0,b.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-lg rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true",children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-base font-bold text-slate-900",children:"Transaction Details"}),(0,b.jsxs)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:["Audit Log ID: ",a.id]})]}),(0,b.jsx)("button",{onClick:e,className:"p-2 hover:bg-slate-200 rounded-full transition-colors text-slate-400 hover:text-slate-600",children:(0,b.jsx)(P,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:(0,d.cn)("text-[10px] font-black uppercase tracking-[0.2em] px-2 py-0.5 rounded border mb-2 inline-block",f?"bg-red-50 text-red-700 border-red-100":"bg-emerald-50 text-emerald-700 border-emerald-100"),children:a.type.replace("_"," ")}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-900 font-black text-2xl",children:[(0,d.formatCurrency)(a.totalAmount),(0,b.jsx)("span",{className:"text-xs font-medium text-slate-400 mt-1",children:a.currency})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-1",children:"Status"}),(0,b.jsx)("span",{className:"px-2 py-1 bg-white border border-slate-200 rounded-md text-[10px] font-black text-slate-600 uppercase tracking-wider shadow-sm",children:a.status})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-y-6 gap-x-4",children:[(0,b.jsx)(X,{icon:Q,label:"Timestamp",value:a.timestamp}),(0,b.jsx)(X,{icon:T,label:"Invoice No.",value:a.invoiceNo}),(0,b.jsx)(X,{icon:R,label:"Location",value:a.location}),(0,b.jsx)(X,{icon:S,label:"User/Employee",value:a.userName||"System"}),(0,b.jsx)(X,{icon:V.Tag,label:"Channel",value:a.channel}),(0,b.jsx)(X,{icon:U,label:"Payment Method",value:a.paymentMethod||"â€”"})]}),a.originalTransactionId&&(0,b.jsxs)("div",{className:"mt-4 p-4 border border-blue-100 bg-blue-50/30 rounded-lg flex items-start gap-3",children:[(0,b.jsx)(i.AlertCircle,{className:"w-4 h-4 text-blue-500 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-blue-900",children:"Referenced Payment"}),(0,b.jsxs)("p",{className:"text-[11px] text-blue-700 mt-0.5 leading-relaxed",children:["This transaction is a refund for payment processed under Transaction ID:",(0,b.jsx)("span",{className:"font-mono ml-1",children:a.originalTransactionId})]})]})]})]}),(0,b.jsx)("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-100 flex justify-end",children:(0,b.jsx)("button",{onClick:e,className:"px-6 py-2 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-100 transition-all uppercase tracking-widest",children:"Close Detail"})})]})})},X=({icon:a,label:c,value:d})=>(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-slate-50 rounded-lg shrink-0 border border-slate-100",children:(0,b.jsx)(a,{className:"w-3.5 h-3.5 text-slate-400"})}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-0.5",children:c}),(0,b.jsx)("span",{className:"text-xs font-bold text-slate-700 block truncate",children:d})]})]}),Y=(0,g.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var Z=a.i(90166);let $=(0,g.default)("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);var _=a.i(83497);let aa=({isOpen:a,onClose:d,onAdd:e})=>{let[f,g]=(0,c.useState)({type:"ORDER_PAID",channel:"POS",paymentStatus:"Paid",paymentMethod:"Cash",currency:"USD",status:"completed",totalItems:1,totalAmount:0,basePrice:0,tax:0,netPrice:0,sellPrice:0,returnAmount:0,shipping:0,netDue:0});if(!a)return null;let h=a=>{let{name:b,value:c,type:d}=a.target;g(a=>({...a,[b]:"number"===d?parseFloat(c):c}))};return(0,b.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true",children:[(0,b.jsxs)("div",{className:"px-8 py-5 border-b border-slate-100 flex items-center justify-between bg-white",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Add Sales Activity"}),(0,b.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em] mt-1",children:"Manual Transaction Entry"})]}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-full transition-all text-slate-400 hover:text-slate-600 active:scale-90",children:(0,b.jsx)(P,{className:"w-5 h-5"})})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e({...f,id:`TX-${Math.floor(1e4*Math.random())}`,timestamp:new Date().toISOString(),userId:"sys-01",userName:"Current User"}),d()},children:[(0,b.jsx)("div",{className:"p-8 max-h-[70vh] overflow-y-auto scrollbar-thin scrollbar-thumb-slate-200",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.25em] mb-4 flex items-center gap-2",children:[(0,b.jsx)(T,{className:"w-3.5 h-3.5"})," General Information"]}),(0,b.jsx)(ab,{label:"Invoice Number",icon:T,children:(0,b.jsx)("input",{required:!0,type:"text",name:"invoiceNo",value:f.invoiceNo||"",onChange:h,placeholder:"e.g. S4724",className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})}),(0,b.jsx)(ab,{label:"Transaction Type",icon:$,children:(0,b.jsxs)("select",{name:"type",value:f.type,onChange:h,className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all appearance-none",children:[(0,b.jsx)("option",{value:"ORDER_PAID",children:"Order Paid"}),(0,b.jsx)("option",{value:"REFUND",children:"Refund"}),(0,b.jsx)("option",{value:"PARTIAL_REFUND",children:"Partial Refund"})]})}),(0,b.jsx)(ab,{label:"Customer Name",icon:S,children:(0,b.jsx)("input",{required:!0,type:"text",name:"customerName",value:f.customerName||"",onChange:h,placeholder:"Guest Customer",className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})}),(0,b.jsx)(ab,{label:"Channel",icon:V.Tag,children:(0,b.jsxs)("select",{name:"channel",value:f.channel,onChange:h,className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all appearance-none",children:[(0,b.jsx)("option",{value:"POS",children:"In-Store (POS)"}),(0,b.jsx)("option",{value:"ONLINE",children:"Online Store"}),(0,b.jsx)("option",{value:"UBER",children:"Uber Eats"}),(0,b.jsx)("option",{value:"PHONE",children:"Phone Order"})]})})]}),(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.25em] mb-4 flex items-center gap-2",children:[(0,b.jsx)(Z.DollarSign,{className:"w-3.5 h-3.5"})," Financial Details"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(ab,{label:"Total Amount",icon:Z.DollarSign,children:(0,b.jsx)("input",{required:!0,type:"number",step:"0.01",name:"totalAmount",value:f.totalAmount,onChange:h,className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})}),(0,b.jsx)(ab,{label:"Total Items",icon:_.Package,children:(0,b.jsx)("input",{required:!0,type:"number",name:"totalItems",value:f.totalItems,onChange:h,className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})})]}),(0,b.jsx)(ab,{label:"Payment Method",icon:U,children:(0,b.jsxs)("select",{name:"paymentMethod",value:f.paymentMethod,onChange:h,className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all appearance-none",children:[(0,b.jsx)("option",{value:"Cash",children:"Cash"}),(0,b.jsx)("option",{value:"Card",children:"Credit/Debit Card"}),(0,b.jsx)("option",{value:"Online",children:"Online Payment"})]})}),(0,b.jsx)(ab,{label:"Payment Status",icon:$,children:(0,b.jsxs)("select",{name:"paymentStatus",value:f.paymentStatus,onChange:h,className:"w-full h-11 pl-11 pr-4 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all appearance-none",children:[(0,b.jsx)("option",{value:"Paid",children:"Fully Paid"}),(0,b.jsx)("option",{value:"Partial",children:"Partially Paid"}),(0,b.jsx)("option",{value:"Due",children:"Payment Due"}),(0,b.jsx)("option",{value:"Refunded",children:"Refunded"})]})}),(0,b.jsxs)("div",{className:"p-4 bg-emerald-50/50 border border-emerald-100 rounded-xl",children:[(0,b.jsx)("p",{className:"text-[10px] text-emerald-700 font-bold uppercase tracking-wider mb-2",children:"Location Context"}),(0,b.jsx)("p",{className:"text-[11px] text-emerald-600 leading-relaxed font-medium",children:"This record will be tagged to your current active store location automatically for audit consistency."})]})]})]})}),(0,b.jsxs)("div",{className:"px-8 py-6 bg-slate-50 border-t border-slate-100 flex items-center justify-between",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"px-6 py-2.5 text-xs font-bold text-slate-400 hover:text-slate-600 transition-all uppercase tracking-widest",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",className:"flex items-center gap-2 px-8 py-2.5 bg-slate-900 hover:bg-slate-800 text-white rounded-xl text-xs font-black uppercase tracking-[0.15em] transition-all shadow-xl shadow-slate-200 active:scale-95",children:[(0,b.jsx)(Y,{className:"w-4 h-4"}),"Force Record Transaction"]})]})]})]})})},ab=({label:a,icon:c,children:d})=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"flex items-center gap-2 text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:a}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:(0,b.jsx)(c,{className:"w-3.5 h-3.5 text-slate-400"})}),d]})]}),ac=(0,g.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);a.s(["SalesActivityPage",0,()=>{let{role:a,user:d}=(0,q.useRouteAccess)(),[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(1),[r,s]=(0,c.useState)(10),[t,u]=(0,c.useState)({refundsOnly:!1,startDate:new Date().toISOString().split("T")[0]||null,endDate:new Date().toISOString().split("T")[0]||null,channel:[],searchQuery:""});(0,c.useEffect)(()=>{(async()=>{j(!0);try{await new Promise(a=>setTimeout(a,800));let b=[{id:"TX-1001",timestamp:"2023-11-18T16:27:00Z",type:"ORDER_PAID",invoiceNo:"S4721",customerName:"parveen singh",contactNumber:"112233",channel:"ONLINE",location:"BRAMPTON - NORTH PARK - 2530 N Park Dr, Brampton, ON",storeId:"store-01",userName:"System",userId:"sys-01",paymentStatus:"Paid",paymentMethod:"Cash",totalAmount:52.97,basePrice:53,tax:5,netPrice:54,sellPrice:5.86,returnAmount:0,shipping:1,netDue:1,totalItems:11,currency:"USD",status:"completed"},{id:"TX-1002",timestamp:"2023-11-18T16:22:00Z",type:"REFUND",invoiceNo:"5470",customerName:"jasbir",contactNumber:"112233",channel:"UBER",location:"BRAMPTON - NORTH PARK - 2530 N Park Dr, Brampton, ON",storeId:"store-01",userName:"Manager1",userId:"mgr-01",paymentStatus:"Refunded",paymentMethod:"Cash",totalAmount:28.32,basePrice:28.32,tax:2,netPrice:31.77,sellPrice:11.23,returnAmount:28.32,shipping:1,netDue:0,totalItems:1,currency:"USD",originalTransactionId:"TX-1001",status:"completed"},{id:"TX-1003",timestamp:new Date().toISOString(),type:"ORDER_PAID",invoiceNo:"S4723",customerName:"John Doe",contactNumber:"998877",channel:"POS",location:"WAREHOUSE OPS - 100 Main St, Warehouse City",storeId:"store-02",userName:"Mark Smith",userId:"user-2",paymentStatus:"Partial",paymentMethod:"Card",totalAmount:125.5,basePrice:110,tax:15.5,netPrice:125.5,sellPrice:125.5,returnAmount:0,shipping:0,netDue:50,totalItems:4,currency:"USD",status:"completed"}],c=b;"EMPLOYEE"===a&&d?c=b.filter(a=>a.userId===d.id):"STORE_MANAGER"===a&&d&&(c=b.filter(a=>d.storeIds.includes(a.storeId))),f(c),h(c)}catch(a){console.error("Ledger fetch error:",a)}finally{j(!1)}})()},[a,d]),(0,c.useEffect)(()=>{let a=[...e];if(t.searchQuery){let b=t.searchQuery.toLowerCase();a=a.filter(a=>a.invoiceNo.toLowerCase().includes(b)||a.customerName.toLowerCase().includes(b)||a.id.toLowerCase().includes(b))}t.paymentStatus&&t.paymentStatus.length>0&&(a=a.filter(a=>t.paymentStatus?.includes(a.paymentStatus))),h(a),p(1)},[t,e]);let w=g.slice((o-1)*r,o*r);return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto pb-20 px-2 lg:px-4 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 border-b border-slate-100 pb-4",children:[(0,b.jsx)("div",{className:"p-2 bg-slate-900 rounded-lg shadow-lg",children:(0,b.jsx)(ac,{className:"w-5 h-5 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Sales Activities"}),(0,b.jsx)("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mt-0.5 opacity-80",children:"Functional System of Record"})]})]}),(0,b.jsx)(E,{filters:t,onFilterChange:u,onClear:()=>u({refundsOnly:!1,startDate:new Date().toISOString().split("T")[0]||null,endDate:new Date().toISOString().split("T")[0]||null,channel:[]})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(N,{onSearch:a=>u({...t,searchQuery:a}),onExport:a=>{console.log(`Exporting as ${a}...`)},onAdd:()=>n(!0)}),(0,b.jsx)(v,{data:w,isLoading:i,onRowClick:l,currentPage:o,itemsPerPage:r,totalItems:g.length,onPageChange:p,onItemsPerPageChange:s})]}),(0,b.jsx)(W,{transaction:k,isOpen:!!k,onClose:()=>l(null)}),(0,b.jsx)(aa,{isOpen:m,onClose:()=>n(!1),onAdd:a=>{let b={...a,location:"Flagship Store - 123 Main St, New York, NY",storeId:"store-01",status:"completed"};f(a=>[b,...a])}})]})}],65254);var ad=a.i(50944),ae=a.i(24669);let af=(0,g.default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),ag=(0,g.default)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),ah=(0,g.default)("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),ai=(0,g.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),aj=[{id:"DAILY_SALES",title:"Daily Sales Report",description:"View aggregated sales data by store for a specific date range.",path:"/backoffice/reports/daily-sales",icon:ae.TrendingUp},{id:"SALES_BY_CHANNEL",title:"Sales by Channel",description:"Analyze performance across POS, Online, and Uber Eats.",path:"/backoffice/reports/sales-by-channel",icon:af},{id:"TOP_SELLING_ITEMS",title:"Top Selling Items",description:"Identification of best performers by quantity and revenue.",path:"/backoffice/reports/top-selling-items",icon:I.FileText},{id:"DISCOUNTS",title:"Discounts & Offers",description:"Track promotional efficiency and discount usage.",path:"/backoffice/reports/discounts",icon:ag},{id:"TAXES",title:"Taxes Summary",description:"Consolidated tax report for accounting reconciliation.",path:"/backoffice/reports/taxes",icon:Z.DollarSign},{id:"PREP_TIME",title:"Preparation Time",description:"Kitchen performance metrics and delivery speed.",path:"/backoffice/reports/prep-time",icon:Q},{id:"CASH_VARIANCE",title:"Cash Variance",description:"Audit report for cash drawer discrepancies.",path:"/backoffice/cash-variance",icon:ah}];a.s(["ReportsPage",0,()=>{let a=(0,ad.useRouter)();return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-8 pb-20 px-4",children:[(0,b.jsx)("div",{className:"border-b border-slate-200 pb-4 pt-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-slate-900 rounded-lg shadow-lg",children:(0,b.jsx)(I.FileText,{className:"w-5 h-5 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Reports"}),(0,b.jsx)("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mt-0.5 opacity-80",children:"Business Intelligence & Exports"})]})]})}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:aj.map(c=>(0,b.jsxs)("div",{className:"group bg-white border border-slate-200 rounded-xl p-5 shadow-sm hover:shadow-md hover:border-emerald-200 transition-all cursor-pointer flex flex-col justify-between",onClick:()=>a.push(c.path),children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-slate-50 rounded-lg flex items-center justify-center mb-4 group-hover:bg-emerald-50 transition-colors",children:(0,b.jsx)(c.icon,{className:"w-5 h-5 text-slate-400 group-hover:text-emerald-600 transition-colors"})}),(0,b.jsx)("h3",{className:"text-sm font-bold text-slate-900 mb-2 truncate",title:c.title,children:c.title}),(0,b.jsx)("p",{className:"text-xs text-slate-500 leading-relaxed line-clamp-2",title:c.description,children:c.description})]}),(0,b.jsxs)("div",{className:"flex items-center text-[10px] font-black text-emerald-600 uppercase tracking-widest group-hover:translate-x-1 transition-transform",children:["View Report",(0,b.jsx)(ai,{className:"w-3.5 h-3.5 ml-1"})]})]},c.id))})]})}],77960),a.s(["FinancesPage",0,()=>(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Finances"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Financial overview and management"})]}),(0,b.jsx)("div",{className:"bg-white border border-slate-200 rounded-lg p-12 text-center",children:(0,b.jsx)("p",{className:"text-slate-400",children:"Finances content will be implemented in future tasks"})})]})],38824);let ak=(0,g.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),al=(0,g.default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),am=(0,g.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),an=[{id:"cat-1",name:"Signature Pizza",description:"Our chef special pizzas"},{id:"cat-2",name:"Traditional Pizza",description:"Classic favorites"},{id:"cat-3",name:"Combos",description:"Meal deals and family packs"},{id:"cat-4",name:"Drinks",description:"Soft drinks and water"}],ao=[{id:"item-1",productType:"SINGLE",name:"Veggie Supreme",description:"Loaded with fresh vegetables and mozzarella cheese.",imageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591",categoryId:"cat-1",isAvailable:!0,variantGroups:[{id:"vg-1",name:"Size",isRequired:!0,defaultVariantId:"v-2",sortOrder:1,variants:[{id:"v-1",name:'Small (10")',basePrice:9.99,isAvailable:!0},{id:"v-2",name:'Medium (12")',basePrice:12.99,isAvailable:!0},{id:"v-3",name:'Large (14")',basePrice:15.99,isAvailable:!0}]},{id:"vg-2",name:"Dough",isRequired:!0,defaultVariantId:"v-4",sortOrder:2,variants:[{id:"v-4",name:"Regular Dough",basePrice:0,isAvailable:!0},{id:"v-5",name:"Thin Crust",basePrice:0,isAvailable:!0},{id:"v-6",name:"Whole Wheat",basePrice:1.5,isAvailable:!0}]}],modifierGroups:[{id:"mg-1",name:"Sauce Options",isRequired:!0,minSelection:1,maxSelection:1,isToppingGroup:!1,isHalfAndHalfEnabled:!1,isPremiumRuleEnabled:!1,options:[{id:"opt-1",name:"Tomato Sauce",price:0,subOptions:[{id:"sub-1",name:"Regular",price:0},{id:"sub-2",name:"Easy on Sauce",price:0},{id:"sub-3",name:"Extra Sauce",price:.5}]},{id:"opt-2",name:"BBQ Sauce",price:1},{id:"opt-3",name:"White Garlic",price:1}]},{id:"mg-2",name:"Toppings",isRequired:!1,minSelection:0,maxSelection:15,isToppingGroup:!0,isHalfAndHalfEnabled:!0,isPremiumRuleEnabled:!0,options:[{id:"opt-4",name:"Onions",price:.99,isTopping:!0},{id:"opt-5",name:"Pepperoni",price:1.5,isTopping:!0,isPremium:!0},{id:"opt-6",name:"Mushrooms",price:1.25,isTopping:!0}]}],storeOverrides:[],auditLog:[{timestamp:"2024-01-20T10:00:00Z",user:"Admin",action:"Created Item"}]}],ap=(0,g.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),aq=(0,g.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ar=(0,g.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),as=(0,g.default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var at=a.i(5784);let au=(0,g.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),av=(0,g.default)("circle-dot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),aw=(0,g.default)("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ax=(0,g.default)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),ay=(0,g.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),az=(0,g.default)("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]),aA=(0,g.default)("chef-hat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),aB=a=>(0,b.jsxs)("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a,children:[(0,b.jsx)("path",{d:"M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22V2Z",fill:"currentColor",fillOpacity:"0.4"}),(0,b.jsx)("path",{d:"M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22V12V2Z",fill:"currentColor"})]}),aC=a=>(0,b.jsxs)("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"rotate-180",...a,children:[(0,b.jsx)("path",{d:"M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22V2Z",fill:"currentColor",fillOpacity:"0.4"}),(0,b.jsx)("path",{d:"M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22V12V2Z",fill:"currentColor"})]}),aD=({formData:a,setFormData:c,categories:e,isExisting:f})=>(0,b.jsx)("div",{className:"space-y-16 max-w-4xl animate-in fade-in slide-in-from-bottom-8 duration-600",children:(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsx)("div",{className:"flex items-center gap-4 border-l-[6px] border-slate-900 pl-6 h-10",children:(0,b.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-[0.15em]",children:"Core Configuration"})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"flex items-center justify-between ml-1",children:(0,b.jsx)("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Product Type (Locked after save)"})}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4",children:["SINGLE","COMBO"].map(e=>(0,b.jsxs)("button",{disabled:f,onClick:()=>c({...a,productType:e}),className:(0,d.cn)("px-6 py-5 rounded-[22px] border-2 text-[11px] font-black uppercase tracking-widest transition-all",a.productType===e?"bg-slate-900 text-white border-slate-900 shadow-2xl shadow-slate-200 scale-[1.02]":"bg-white text-slate-400 border-slate-100 hover:border-slate-300",f&&a.productType!==e&&"opacity-30 cursor-not-allowed"),children:[e," PRODUCT"]},e))})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Menu Category"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("select",{value:a.categoryId,onChange:b=>c({...a,categoryId:b.target.value}),className:"w-full px-8 py-5 bg-slate-50 border-2 border-slate-100 rounded-[22px] text-sm font-black text-slate-900 focus:border-slate-900 focus:bg-white transition-all outline-none appearance-none",children:[(0,b.jsx)("option",{value:"",children:"Select Catalog Pool"}),e.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,b.jsx)(at.ChevronDown,{className:"absolute right-6 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:20})]})]}),(0,b.jsxs)("div",{className:"md:col-span-2 space-y-4",children:[(0,b.jsx)("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Merchant Display Name"}),(0,b.jsx)("input",{type:"text",value:a.name,onChange:b=>c({...a,name:b.target.value}),className:"w-full px-10 py-6 bg-slate-50 border-2 border-slate-100 rounded-[30px] text-2xl font-black text-slate-900 focus:border-slate-900 focus:bg-white transition-all outline-none shadow-sm",placeholder:"e.g. Traditional Sicilian Pepperoni"})]}),(0,b.jsxs)("div",{className:"md:col-span-2 space-y-4",children:[(0,b.jsx)("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Public Story"}),(0,b.jsx)("textarea",{value:a.description,onChange:b=>c({...a,description:b.target.value}),rows:5,className:"w-full px-10 py-8 bg-slate-50 border-2 border-slate-100 rounded-[30px] text-sm font-bold text-slate-600 focus:border-slate-900 focus:bg-white transition-all outline-none resize-none leading-relaxed",placeholder:"Public-facing description..."})]})]})]})}),aE=({group:a,updateGroup:e,removeGroup:f,isCombo:g})=>{let[h,i]=(0,c.useState)(!0);return(0,b.jsxs)("div",{className:"bg-white border-2 border-slate-100 rounded-3xl shadow-sm overflow-hidden transition-all hover:shadow-md hover:border-slate-200",children:[(0,b.jsxs)("div",{className:"px-6 py-4 bg-slate-50/50 flex items-center justify-between border-b border-slate-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,b.jsx)("div",{className:"cursor-grab p-2 bg-white rounded-lg shadow-sm border border-slate-100 text-slate-300",children:(0,b.jsx)(as,{size:20})}),(0,b.jsx)("div",{className:"flex-1 max-w-2xl",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{value:a.name,onChange:b=>e({...a,name:b.target.value.toUpperCase()}),className:"bg-transparent text-base font-black text-slate-900 uppercase tracking-wide outline-none border-b-2 border-transparent focus:border-slate-900 w-full transition-all placeholder:text-slate-300",placeholder:g?"COMPONENT NAME (e.g. PIZZA 1)":"GROUP NAME (e.g. SIZE)"}),(0,b.jsx)("span",{className:"shrink-0 px-3 py-1 bg-slate-900 text-white text-[10px] font-bold rounded-lg uppercase tracking-wider shadow-sm",children:"Mandatory"})]})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>i(!h),className:"p-2 text-slate-400 hover:text-slate-900 transition-all hover:bg-slate-100 rounded-lg",children:(0,b.jsx)(at.ChevronDown,{size:20,className:(0,d.cn)("transition-transform duration-300",h&&"rotate-180")})}),(0,b.jsx)("button",{onClick:f,className:"p-2 text-slate-300 hover:text-rose-500 transition-colors hover:bg-rose-50 rounded-lg",children:(0,b.jsx)(ar,{size:20})})]})]}),h&&(0,b.jsx)("div",{className:"p-6 space-y-6 animate-in slide-in-from-top-4 duration-300",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[a.variants.map(c=>{let f=a.defaultVariantId===c.id;return(0,b.jsxs)("div",{onClick:()=>e({...a,defaultVariantId:c.id}),className:(0,d.cn)("relative group/v flex flex-col gap-3 bg-white border-2 rounded-2xl p-4 transition-all cursor-pointer hover:border-slate-300 hover:shadow-sm",f?"border-emerald-500 ring-2 ring-emerald-500/20":"border-slate-100"),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsx)("div",{className:(0,d.cn)("w-5 h-5 rounded-full border-2 flex items-center justify-center shrink-0 mt-1 transition-colors",f?"border-emerald-500 bg-emerald-50":"border-slate-200"),children:f&&(0,b.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500"})}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),e({...a,variants:a.variants.filter(a=>a.id!==c.id),defaultVariantId:f?"":a.defaultVariantId})},className:"text-slate-200 hover:text-rose-500 p-1 opacity-0 group-hover/v:opacity-100 transition-all",children:(0,b.jsx)(ar,{size:16})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("input",{value:c.name,onClick:a=>a.stopPropagation(),onChange:b=>{let d=a.variants.map(a=>a.id===c.id?{...a,name:b.target.value}:a);e({...a,variants:d})},className:"w-full bg-transparent text-sm font-bold text-slate-900 outline-none placeholder:text-slate-300",placeholder:"Label"}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-50 rounded-lg border border-slate-100",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400",children:"$"}),(0,b.jsx)("input",{type:"number",value:c.basePrice,onClick:a=>a.stopPropagation(),onChange:b=>{let d=a.variants.map(a=>a.id===c.id?{...a,basePrice:parseFloat(b.target.value)||0}:a);e({...a,variants:d})},className:"w-full bg-transparent text-xs font-bold text-slate-900 outline-none tabular-nums"})]})]}),f&&(0,b.jsx)("div",{className:"absolute -top-3 left-4 px-2 py-0.5 bg-emerald-500 text-white text-[9px] font-bold rounded-full shadow-sm",children:"Default"})]},c.id)}),(0,b.jsxs)("button",{onClick:()=>{let b={id:"v-"+Date.now(),name:"New Option",basePrice:0,isAvailable:!0};e({...a,variants:[...a.variants,b]})},className:"border-2 border-dashed border-slate-200 rounded-2xl p-4 flex flex-col items-center justify-center gap-2 hover:border-slate-400 hover:bg-slate-50 transition-all group/add min-h-[140px]",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm border border-slate-100 group-hover/add:scale-110 transition-transform",children:(0,b.jsx)(M.Plus,{size:20,className:"text-slate-400 group-hover/add:text-slate-600"})}),(0,b.jsx)("span",{className:"text-xs font-bold uppercase text-slate-400 group-hover/add:text-slate-600",children:"Add Option"})]})]})})]})},aF=({opt:a,group:c,updateOption:e,removeOption:f})=>(0,b.jsxs)("div",{className:"p-6 bg-slate-50/30 border border-slate-100 rounded-3xl flex flex-col gap-6 transition-all hover:bg-white hover:border-slate-200 hover:shadow-md animate-in slide-in-from-bottom-2 duration-300",children:[(0,b.jsxs)("div",{className:"flex items-start gap-6",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center border border-slate-100 shadow-sm shrink-0",children:(0,b.jsx)(_.Package,{size:24,className:"text-slate-300"})}),(0,b.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-5 space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Option Name"}),(0,b.jsx)("input",{value:a.name,onChange:b=>e({...a,name:b.target.value}),className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 text-sm font-bold text-slate-900 outline-none focus:border-slate-900 focus:ring-1 focus:ring-slate-900/10 transition-all",placeholder:"e.g. Extra Cheese"})]}),(0,b.jsxs)("div",{className:"lg:col-span-3 space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block",children:"Surcharge"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"$"}),(0,b.jsx)("input",{type:"number",value:a.price,onChange:b=>e({...a,price:parseFloat(b.target.value)||0}),className:"w-full bg-white border border-slate-200 rounded-xl pl-8 pr-4 py-3 text-sm font-bold text-slate-900 outline-none focus:border-slate-900 focus:ring-1 focus:ring-slate-900/10 tabular-nums"})]})]}),(0,b.jsxs)("div",{className:"lg:col-span-4 flex items-end justify-between gap-4",children:[c.isPremiumRuleEnabled&&(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer py-3 px-4 bg-white border border-slate-100 rounded-xl shadow-sm hover:border-slate-300 transition-all select-none",children:[(0,b.jsx)("div",{className:(0,d.cn)("w-5 h-5 rounded flex items-center justify-center transition-all border",a.isPremium?"bg-amber-500 border-amber-500":"bg-slate-50 border-slate-200"),children:a.isPremium&&(0,b.jsx)(au,{size:14,className:"text-white",strokeWidth:3})}),(0,b.jsx)("span",{className:"text-[10px] font-bold uppercase text-slate-500",children:"Premium"}),(0,b.jsx)("input",{type:"checkbox",checked:a.isPremium,onChange:b=>e({...a,isPremium:b.target.checked}),className:"hidden"})]}),(0,b.jsx)("button",{onClick:f,className:"p-3 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-xl transition-all",children:(0,b.jsx)(ar,{size:20})})]})]})]}),c.isToppingGroup&&(0,b.jsx)("div",{className:"pl-[88px]",children:(0,b.jsxs)("div",{className:"flex items-center gap-4 bg-white p-3 border border-slate-100 rounded-2xl w-fit",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider px-2",children:"Scope"}),(0,b.jsxs)("div",{className:"flex sm:gap-2",children:[(0,b.jsx)("button",{className:"p-2 hover:bg-slate-50 rounded-lg text-slate-400 hover:text-slate-900 transition-colors",children:(0,b.jsx)(av,{size:20})}),(0,b.jsx)("button",{className:"p-2 hover:bg-slate-50 rounded-lg text-slate-400 hover:text-slate-900 transition-colors",children:(0,b.jsx)("div",{className:"rotate-0",children:(0,b.jsx)(aB,{})})}),(0,b.jsx)("button",{className:"p-2 hover:bg-slate-50 rounded-lg text-slate-400 hover:text-slate-900 transition-colors",children:(0,b.jsx)("div",{className:"rotate-0",children:(0,b.jsx)(aC,{})})})]})]})}),(0,b.jsxs)("div",{className:"pl-[88px] space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-t border-slate-100 pt-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),(0,b.jsx)("h5",{className:"text-xs font-bold text-slate-600 uppercase tracking-wide",children:"Included Choices / Variations"})]}),(0,b.jsxs)("button",{onClick:()=>{let b={id:"sub-"+Date.now(),name:"New Intensity",price:0};e({...a,subOptions:[...a.subOptions||[],b]})},className:"text-[10px] font-bold text-emerald-600 hover:text-emerald-700 uppercase tracking-wider flex items-center gap-1",children:[(0,b.jsx)(M.Plus,{size:14})," Add Choice"]})]}),a.subOptions?.length>0&&(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.subOptions.map((c,d)=>(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-white p-3 rounded-xl border border-slate-100 shadow-sm group/sub transition-all hover:border-emerald-200",children:[(0,b.jsx)(aw,{size:16,className:"text-emerald-300 shrink-0",strokeWidth:2.5}),(0,b.jsx)("input",{value:c.name,onChange:b=>{let f=[...a.subOptions||[]];f[d]={...c,name:b.target.value},e({...a,subOptions:f})},className:"flex-1 min-w-0 text-xs font-bold text-slate-700 bg-transparent outline-none placeholder:text-slate-300",placeholder:"e.g. Lite, Extra"}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-slate-400 font-bold border-l border-slate-100 pl-2",children:[(0,b.jsx)("span",{className:"text-[10px]",children:"$"}),(0,b.jsx)("input",{type:"number",value:c.price,onChange:b=>{let f=[...a.subOptions||[]];f[d]={...c,price:parseFloat(b.target.value)||0},e({...a,subOptions:f})},className:"w-12 bg-transparent outline-none tabular-nums text-xs text-slate-600"})]}),(0,b.jsx)("button",{onClick:()=>e({...a,subOptions:a.subOptions.filter(a=>a.id!==c.id)}),className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover/sub:opacity-100 transition-all",children:(0,b.jsx)(ar,{size:14})})]},c.id))})]})]}),aG=a=>{let{group:e,variantGroups:f,updateGroup:g,removeGroup:h,isCombo:i}=a,[j,k]=(0,c.useState)(!0);return(0,b.jsxs)("div",{className:"bg-white border-2 border-slate-100 rounded-3xl shadow-sm overflow-hidden transition-all hover:shadow-md hover:border-slate-200",children:[(0,b.jsxs)("div",{className:"px-6 py-5 bg-slate-50/50 border-b border-slate-100 flex flex-col gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,b.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm border border-slate-100 text-slate-300",children:(0,b.jsx)(as,{size:20})}),(0,b.jsx)("input",{value:e.name,onChange:a=>g({...e,name:a.target.value.toUpperCase()}),className:"bg-transparent text-lg font-black text-slate-900 uppercase tracking-wide outline-none border-b-2 border-transparent focus:border-slate-900 w-full max-w-lg transition-all placeholder:text-slate-300",placeholder:"MODIFIER GROUP NAME (e.g. TOPPINGS)"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>k(!j),className:"p-2 text-slate-400 hover:text-slate-900 transition-all hover:bg-slate-100 rounded-lg",children:(0,b.jsx)(at.ChevronDown,{size:20,className:(0,d.cn)("transition-transform duration-300",j&&"rotate-180")})}),(0,b.jsx)("button",{onClick:h,className:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-all",children:(0,b.jsx)(ar,{size:20})})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4 pl-12",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 bg-white border border-slate-200 rounded-xl shadow-sm",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Required Range"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"number",value:e.minSelection,onChange:a=>g({...e,minSelection:parseInt(a.target.value)||0}),className:"w-10 text-center text-sm font-black text-slate-900 bg-transparent outline-none tabular-nums focus:bg-slate-50 rounded",placeholder:"0"}),(0,b.jsx)("span",{className:"text-slate-300",children:"-"}),(0,b.jsx)("input",{type:"number",value:e.maxSelection,onChange:a=>g({...e,maxSelection:parseInt(a.target.value)||0}),className:"w-10 text-center text-sm font-black text-slate-900 bg-transparent outline-none tabular-nums focus:bg-slate-50 rounded",placeholder:"âˆž"})]})]}),i&&(0,b.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 bg-slate-100 border border-slate-200 rounded-xl",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Link to:"}),(0,b.jsxs)("select",{value:e.linkedVariantGroupId||"",onChange:a=>g({...e,linkedVariantGroupId:a.target.value}),className:"bg-transparent text-xs font-bold text-slate-900 outline-none min-w-[120px]",children:[(0,b.jsx)("option",{value:"",children:"Select Component..."}),f.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]})]})]}),j&&(0,b.jsxs)("div",{className:"p-16 space-y-12",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 gap-12",children:e.options.map((a,c)=>(0,b.jsx)(aF,{opt:a,group:e,updateOption:a=>{let b=[...e.options];b[c]=a,g({...e,options:b})},removeOption:()=>g({...e,options:e.options.filter(b=>b.id!==a.id)})},a.id))}),(0,b.jsxs)("button",{onClick:()=>{let a={id:"opt-"+Date.now(),name:"New Choice",price:1,subOptions:[]};g({...e,options:[...e.options,a]})},className:"w-full py-16 border-6 border-dashed border-slate-50 rounded-[60px] bg-slate-50/20 flex flex-col items-center justify-center gap-8 group transition-all hover:bg-white hover:border-slate-200",children:[(0,b.jsx)(M.Plus,{size:48,className:"text-emerald-500",strokeWidth:4}),(0,b.jsx)("span",{className:"text-[16px] font-black uppercase text-slate-300",children:"Add Choice variant"})]})]})]})},aH=({formData:a,setFormData:c})=>(0,b.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-600 max-w-4xl",children:[(0,b.jsx)("div",{className:"flex items-center gap-4 border-l-[6px] border-slate-900 pl-6 h-10",children:(0,b.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-[0.15em]",children:"Channel Availability"})}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["POS","Online","Kiosk"].map(e=>(0,b.jsxs)("div",{onClick:()=>{let b=a.availability||[],d=b.includes(e)?b.filter(a=>a!==e):[...b,e];c({...a,availability:d})},className:(0,d.cn)("group cursor-pointer p-8 rounded-[32px] border-2 transition-all relative overflow-hidden",a.availability?.includes(e)?"bg-slate-900 border-slate-900 shadow-xl":"bg-white border-slate-100 hover:border-slate-300"),children:[(0,b.jsx)("div",{className:(0,d.cn)("absolute top-0 right-0 p-32 rounded-full blur-3xl -mr-16 -mt-16 transition-all",a.availability?.includes(e)?"bg-white/10":"bg-slate-100/50")}),(0,b.jsxs)("div",{className:"relative z-10 flex flex-col items-center text-center gap-4",children:[(0,b.jsxs)("div",{className:(0,d.cn)("w-16 h-16 rounded-2xl flex items-center justify-center transition-all",a.availability?.includes(e)?"bg-white/10 text-white":"bg-slate-50 text-slate-400"),children:["POS"===e&&(0,b.jsx)(ax,{size:32}),"Online"===e&&(0,b.jsx)(ay,{size:32}),"Kiosk"===e&&(0,b.jsx)(az,{size:32})]}),(0,b.jsx)("span",{className:(0,d.cn)("text-lg font-black uppercase tracking-widest",a.availability?.includes(e)?"text-white":"text-slate-900"),children:e}),(0,b.jsx)("div",{className:(0,d.cn)("px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border",a.availability?.includes(e)?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"bg-slate-100 text-slate-400 border-slate-200"),children:a.availability?.includes(e)?"Active":"Disabled"})]})]},e))})]}),aI=({formData:a})=>(0,b.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-600 max-w-4xl",children:[(0,b.jsx)("div",{className:"flex items-center gap-4 border-l-[6px] border-slate-900 pl-6 h-10",children:(0,b.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-[0.15em]",children:"Linked Recipe & BOM"})}),(0,b.jsxs)("div",{className:"p-10 bg-white border-2 border-slate-100 rounded-[32px] shadow-sm flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center text-orange-600",children:(0,b.jsx)(aA,{size:32})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-black text-slate-900",children:a.recipeName||"Standard Recipe v1"}),(0,b.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase mt-1",children:"Primary Production Recipe"})]})]}),(0,b.jsx)("button",{className:"px-6 py-3 bg-slate-50 text-slate-900 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-100",children:"View Recipe Details"})]}),(0,b.jsx)("div",{className:"p-6 bg-slate-50 border border-slate-100 rounded-2xl",children:(0,b.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"To change the recipe, please go to the Recipes module. Direct association editing is disabled here to maintain integrity."})})]}),aJ=({formData:a,setFormData:c})=>{let e=a.pricingRules||[],f=(b,d,f)=>{let g=[...e];if(d.includes(".")){let a=d.split("."),c=a[0],e=a[1];c&&e&&(g[b][c]={...g[b][c],[e]:f})}else g[b][d]=f;c({...a,pricingRules:g})};return(0,b.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-600 pb-20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-l-[6px] border-slate-900 pl-6 h-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-[0.15em]",children:"Rule Configurator"}),(0,b.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Dynamic Pricing Strategy"})]}),(0,b.jsxs)("button",{onClick:()=>{let b={id:Date.now(),name:"NEW PRICING RULE",status:"Active",priority:(e.length||0)+1,scope:"TENANT",targetType:"PRODUCT",changeType:"PERCENTAGE",changeValue:0,conditions:{days:["MON","TUE","WED","THU","FRI","SAT","SUN"],timeStart:"00:00",timeEnd:"23:59",channels:["POS","ONLINE","KIOSK","DELIVERY"],dateStart:"",dateEnd:""}};c({...a,pricingRules:[...e,b]})},className:"flex items-center gap-2 px-6 py-2 bg-slate-900 text-white rounded-[16px] text-[10px] font-black uppercase tracking-widest hover:bg-emerald-600 transition-colors",children:[(0,b.jsx)(M.Plus,{size:14,strokeWidth:4})," Add Rule"]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[0===e.length&&(0,b.jsxs)("div",{className:"p-12 text-center border-2 border-dashed border-slate-200 rounded-3xl bg-slate-50/50",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-400",children:(0,b.jsx)(Z.DollarSign,{size:32})}),(0,b.jsx)("h4",{className:"text-sm font-black text-slate-900 uppercase tracking-wider",children:"No Active Rules"}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-2 font-medium max-w-xs mx-auto",children:"Create rules to temporarily adjust prices based on time, channel, or location."})]}),e.map((g,h)=>(0,b.jsxs)("div",{className:"bg-white border text-sm border-slate-200 rounded-3xl overflow-hidden shadow-sm hover:shadow-md transition-all group",children:[(0,b.jsxs)("div",{className:"bg-slate-50/80 px-6 py-4 border-b border-slate-100 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,b.jsxs)("span",{className:"w-8 h-8 rounded-lg bg-slate-200 flex items-center justify-center text-[10px] font-black text-slate-600",children:["#",g.priority]}),(0,b.jsx)("input",{value:g.name,onChange:a=>f(h,"name",a.target.value.toUpperCase()),className:"bg-transparent font-black text-slate-800 uppercase tracking-wide outline-none w-full max-w-md focus:text-emerald-700",placeholder:"RULE NAME"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("select",{value:g.status,onChange:a=>f(h,"status",a.target.value),className:(0,d.cn)("px-3 py-1.5 rounded-lg text-[10px] font-black uppercase outline-none transition-colors","Active"===g.status?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"),children:[(0,b.jsx)("option",{value:"Active",children:"Active"}),(0,b.jsx)("option",{value:"Inactive",children:"Inactive"})]}),(0,b.jsx)("button",{onClick:()=>c({...a,pricingRules:e.filter(a=>a.id!==g.id)}),className:"p-2 ml-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-all",children:(0,b.jsx)(ar,{size:16})})]})]}),(0,b.jsxs)("div",{className:"p-6 grid grid-cols-12 gap-8",children:[(0,b.jsx)("div",{className:"col-span-12 xl:col-span-5 space-y-6 border-r border-slate-100 pr-8",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Target & Adjust"}),(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("select",{value:g.scope,onChange:a=>f(h,"scope",a.target.value),className:"w-1/3 py-2 px-3 border border-slate-200 rounded-xl text-[10px] font-black uppercase outline-none bg-slate-50",children:[(0,b.jsx)("option",{value:"TENANT",children:"Tenant-Wide"}),(0,b.jsx)("option",{value:"STORE",children:"Store-Specific"})]}),(0,b.jsxs)("select",{value:g.changeType,onChange:a=>f(h,"changeType",a.target.value),className:"flex-1 py-2 px-3 border border-slate-200 rounded-xl text-[10px] font-black uppercase outline-none bg-slate-50",children:[(0,b.jsx)("option",{value:"PERCENTAGE",children:"Percentage (%)"}),(0,b.jsx)("option",{value:"FIXED",children:"Amount ($)"}),(0,b.jsx)("option",{value:"OVERRIDE",children:"Override Price"})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"number",value:g.changeValue,onChange:a=>f(h,"changeValue",parseFloat(a.target.value)),className:(0,d.cn)("w-full h-11 pl-4 pr-12 bg-white border-2 border-slate-100 rounded-xl font-black text-slate-900 outline-none focus:border-slate-900 transition-all text-sm",g.changeValue>0?"text-emerald-600":g.changeValue<0?"text-rose-600":""),placeholder:"0.00"}),(0,b.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-bold text-slate-400",children:"PERCENTAGE"===g.changeType?"%":"$"})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Applies To"}),(0,b.jsx)("div",{className:"flex gap-2",children:["PRODUCT","VARIANT","MODIFIER"].map(a=>(0,b.jsx)("button",{onClick:()=>f(h,"targetType",a),className:(0,d.cn)("flex-1 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all",g.targetType===a?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-400 border-slate-200 hover:bg-slate-50"),children:a},a))})]})]})}),(0,b.jsxs)("div",{className:"col-span-12 xl:col-span-7 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-2",children:"Effective Period"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex-1 bg-slate-50 border border-slate-200 rounded-xl px-3 py-2 flex items-center gap-2",children:[(0,b.jsx)(B.Calendar,{size:14,className:"text-slate-400"}),(0,b.jsx)("input",{type:"date",value:g.conditions?.dateStart||"",onChange:a=>f(h,"conditions.dateStart",a.target.value),className:"bg-transparent text-[11px] font-bold text-slate-700 outline-none w-full uppercase"})]}),(0,b.jsx)("span",{className:"text-slate-300 font-black text-[10px]",children:"TO"}),(0,b.jsxs)("div",{className:"flex-1 bg-slate-50 border border-slate-200 rounded-xl px-3 py-2 flex items-center gap-2",children:[(0,b.jsx)(B.Calendar,{size:14,className:"text-slate-400"}),(0,b.jsx)("input",{type:"date",value:g.conditions?.dateEnd||"",onChange:a=>f(h,"conditions.dateEnd",a.target.value),className:"bg-transparent text-[11px] font-bold text-slate-700 outline-none w-full uppercase"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-2",children:"Weekly Schedule"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[["MON","TUE","WED","THU","FRI","SAT","SUN"].map(a=>(0,b.jsx)("button",{onClick:()=>{let b=g.conditions?.days||[];f(h,"conditions.days",b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:(0,d.cn)("w-9 h-9 rounded-lg text-[9px] font-black flex items-center justify-center transition-all border",g.conditions?.days?.includes(a)?"bg-emerald-500 text-white border-emerald-500 shadow-md shadow-emerald-100":"bg-white text-slate-400 border-slate-100 hover:border-slate-300"),children:a[0]},a)),(0,b.jsx)("div",{className:"w-[1px] bg-slate-100 mx-2 h-9"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-slate-50 px-3 rounded-xl border border-slate-100 h-9",children:[(0,b.jsx)(Q,{size:14,className:"text-slate-400"}),(0,b.jsx)("input",{type:"time",value:g.conditions?.timeStart,onChange:a=>f(h,"conditions.timeStart",a.target.value),className:"bg-transparent border-none text-[10px] font-bold text-slate-700 focus:ring-0 w-16"}),(0,b.jsx)("span",{className:"text-slate-300 text-[9px] font-black uppercase",children:"-"}),(0,b.jsx)("input",{type:"time",value:g.conditions?.timeEnd,onChange:a=>f(h,"conditions.timeEnd",a.target.value),className:"bg-transparent border-none text-[10px] font-bold text-slate-700 focus:ring-0 w-16"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-2",children:"Sales Channels"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:["POS","ONLINE","KIOSK","DELIVERY"].map(a=>(0,b.jsx)("button",{onClick:()=>{let b=g.conditions?.channels||[];f(h,"conditions.channels",b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:(0,d.cn)("px-3 py-2 rounded-lg text-[9px] font-black uppercase tracking-widest border transition-all",g.conditions?.channels?.includes(a)?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-400 border-slate-100 hover:border-slate-300"),children:a},a))})]})]})]})]},g.id))]})]})},aK=({item:a,onClose:e,categories:f})=>{let[g,h]=(0,c.useState)("GENERAL"),[i,j]=(0,c.useState)(()=>a?JSON.parse(JSON.stringify(a)):{id:"new-"+Date.now(),productType:"SINGLE",name:"",description:"",categoryId:"",isAvailable:!0,variantGroups:[],modifierGroups:[],pricingRules:[],availability:["POS","Online","Kiosk"],auditLog:[]}),k=null!==a,l=[{id:"GENERAL",label:"General",icon:ap},{id:"VARIANTS",label:"Variants",icon:ak},{id:"MODIFIERS",label:"Modifiers",icon:al},{id:"PRICING",label:"Pricing",icon:Z.DollarSign},{id:"INVENTORY",label:"Inventory",icon:_.Package},{id:"AVAILABILITY",label:"Availability",icon:Q},{id:"AUDIT",label:"Audit Log",icon:aq}];return(0,b.jsxs)("div",{className:"bg-slate-50/50 -mx-4 -mt-6 px-4 pt-6 min-h-screen",children:[(0,b.jsxs)("div",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-slate-200 -mx-4 px-8 py-5 flex items-center justify-between shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)("button",{onClick:e,className:"p-2.5 text-slate-400 hover:text-slate-900 transition-all bg-slate-50 rounded-2xl border border-slate-100",children:(0,b.jsx)(r.ChevronLeft,{size:22})}),(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h2",{className:"text-xl font-black text-slate-900 tracking-tight",children:k?`Edit: ${i.name}`:"Setup Offering"}),(0,b.jsxs)("span",{className:(0,d.cn)("px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border","SINGLE"===i.productType?"bg-blue-50 text-blue-700 border-blue-100":"bg-purple-50 text-purple-700 border-purple-100"),children:[i.productType," PRODUCT"]})]})})]}),(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("button",{onClick:()=>i.name?"COMBO"===i.productType&&0===i.variantGroups.length?alert("Combo must have components"):i.variantGroups.some(a=>a.variants.length>0&&!a.defaultVariantId)?alert("Missing default selection in variant group"):"COMBO"===i.productType&&i.modifierGroups.some(a=>!a.linkedVariantGroupId)?alert("Combo modifiers must be bound to a component"):void(console.log("Saving Configuration:",i),e()):alert("Name is required"),className:"flex items-center gap-2 px-10 py-3.5 bg-slate-900 text-white rounded-[22px] text-xs font-black uppercase tracking-widest hover:bg-emerald-600 shadow-xl shadow-slate-200 transition-all",children:[(0,b.jsx)(Y,{size:16,className:"text-emerald-400"}),"Save Product"]})})]}),(0,b.jsxs)("div",{className:"max-w-[1550px] mx-auto py-10 flex flex-col lg:flex-row gap-8",children:[(0,b.jsx)("div",{className:"w-full lg:w-72 shrink-0 space-y-2",children:l.map(a=>(0,b.jsxs)("button",{onClick:()=>h(a.id),className:(0,d.cn)("w-full flex items-center gap-4 px-6 py-4 rounded-[22px] text-[11px] font-black uppercase tracking-widest transition-all",g===a.id?"bg-slate-900 text-white shadow-2xl scale-[1.03]":"text-slate-500 hover:bg-white/80 hover:text-slate-900"),children:[(0,b.jsx)(a.icon,{size:18,strokeWidth:g===a.id?3:2.5}),a.label]},a.id))}),(0,b.jsx)("div",{className:"flex-1 bg-white rounded-[44px] border border-slate-200 shadow-[0_30px_60px_-15px_rgba(0,0,0,0.05)] overflow-hidden min-h-[850px]",children:(0,b.jsxs)("div",{className:"p-16 h-full overflow-y-auto max-h-[calc(100vh-200px)]",children:["GENERAL"===g&&(0,b.jsx)(aD,{formData:i,setFormData:j,categories:f,isExisting:k}),"VARIANTS"===g&&(0,b.jsxs)("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-8 duration-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-l-[6px] border-slate-900 pl-6 h-12",children:[(0,b.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-[0.15em]",children:"Variant Structure"}),(0,b.jsxs)("button",{onClick:()=>{let a={id:"vg-"+Date.now(),name:"NEW GROUP",isRequired:!0,defaultVariantId:"",variants:[],sortOrder:i.variantGroups.length+1};j({...i,variantGroups:[...i.variantGroups,a]})},className:"flex items-center gap-2 px-8 py-3.5 bg-slate-900 text-white rounded-[20px] text-[11px] font-black uppercase tracking-widest",children:[(0,b.jsx)(M.Plus,{size:18,strokeWidth:4})," Add Group"]})]}),(0,b.jsx)("div",{className:"space-y-8",children:i.variantGroups.map((a,c)=>(0,b.jsx)(aE,{group:a,isCombo:"COMBO"===i.productType,updateGroup:a=>{let b=[...i.variantGroups];b[c]=a,j({...i,variantGroups:b})},removeGroup:()=>j({...i,variantGroups:i.variantGroups.filter((a,b)=>b!==c)})},a.id))})]}),"MODIFIERS"===g&&(0,b.jsx)(aL,{formData:i,setFormData:j}),"PRICING"===g&&(0,b.jsx)(aJ,{formData:i,setFormData:j}),"INVENTORY"===g&&(0,b.jsx)(aI,{formData:i,setFormData:j}),"AVAILABILITY"===g&&(0,b.jsx)(aH,{formData:i,setFormData:j}),"AUDIT"===g&&(0,b.jsx)(aM,{icon:aq,label:"Audit Log",description:"Track all changes made to this item."})]})})]})]})},aL=a=>{let{formData:c,setFormData:d}=a,e="COMBO"===c.productType;return(0,b.jsxs)("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-8 duration-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-l-[6px] border-slate-900 pl-6 h-12",children:[(0,b.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-[0.15em]",children:"Modifier Pools"}),(0,b.jsxs)("button",{onClick:()=>{let a={id:"mg-"+Date.now(),name:"NEW POOL",isRequired:!1,minSelection:0,maxSelection:10,isToppingGroup:!0,isHalfAndHalfEnabled:!0,isPremiumRuleEnabled:!0,options:[]};d({...c,modifierGroups:[...c.modifierGroups,a]})},className:"flex items-center gap-2 px-8 py-3.5 bg-slate-900 text-white rounded-[20px] text-[11px] font-black uppercase tracking-widest",children:[(0,b.jsx)(M.Plus,{size:18,strokeWidth:4})," New Pool"]})]}),(0,b.jsx)("div",{className:"space-y-12",children:c.modifierGroups.map((a,f)=>(0,b.jsx)(aG,{group:a,variantGroups:c.variantGroups,updateGroup:a=>{let b=[...c.modifierGroups];b[f]=a,d({...c,modifierGroups:b})},removeGroup:()=>d({...c,modifierGroups:c.modifierGroups.filter((a,b)=>b!==f)}),isCombo:e},a.id))})]})},aM=({icon:a,label:c,description:d})=>(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-40 text-center space-y-6 animate-in fade-in duration-700",children:[(0,b.jsx)("div",{className:"p-10 bg-slate-50 rounded-full border border-slate-100 flex items-center justify-center shadow-inner",children:(0,b.jsx)(a,{size:64,className:"text-slate-200",strokeWidth:1})}),(0,b.jsxs)("div",{className:"max-w-sm",children:[(0,b.jsx)("h4",{className:"text-xl font-black text-slate-800 uppercase tracking-[0.2em]",children:c}),(0,b.jsx)("p",{className:"text-xs font-bold text-slate-400 mt-3 uppercase leading-relaxed tracking-widest",children:d})]})]}),aN=({items:a,onEdit:c})=>(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"flex items-center gap-4 bg-white p-4 rounded-2xl border border-slate-200 shadow-sm",children:(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(G.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search items by name, SKU or ID...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-slate-900 transition-all font-bold"})]})}),(0,b.jsx)("div",{className:"bg-white rounded-[32px] border border-slate-200 shadow-sm overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Item Identity"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Architecture"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Base Range"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:a.map(a=>{let e=a.variantGroups.flatMap(a=>a.variants),f=e.length>0?Math.min(...e.map(a=>a.basePrice)):0,g=e.length>0?Math.max(...e.map(a=>a.basePrice)):0;return(0,b.jsxs)("tr",{className:"group hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>c(a),children:[(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl overflow-hidden border border-slate-100 flex-shrink-0 flex items-center justify-center",children:a.imageUrl?(0,b.jsx)("img",{src:a.imageUrl,alt:a.name,className:"w-full h-full object-cover"}):(0,b.jsx)(_.Package,{size:20,className:"text-slate-200"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-black text-slate-900 tracking-tight",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:(0,d.cn)("text-[8px] font-black uppercase tracking-widest px-2 py-0.5 rounded border","SINGLE"===a.productType?"bg-blue-50 text-blue-600 border-blue-100":"bg-purple-50 text-purple-600 border-purple-100"),children:a.productType}),(0,b.jsxs)("span",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-tight",children:["ID: ",a.id]})]})]})]})}),(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsxs)("div",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest",children:[a.variantGroups.length," Variant Groups"]}),(0,b.jsxs)("div",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-tight",children:[a.modifierGroups.length," Modifier Pools"]})]})}),(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsx)("span",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:an.find(b=>b.id===a.categoryId)?.name||"Unassigned"})}),(0,b.jsx)("td",{className:"px-6 py-5 text-right tabular-nums",children:(0,b.jsxs)("div",{className:"text-sm font-black text-slate-900",children:["$",f.toFixed(2)," - $",g.toFixed(2)]})}),(0,b.jsx)("td",{className:"px-6 py-5 text-center",children:(0,b.jsx)("span",{className:(0,d.cn)("px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border transition-all",a.isAvailable?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-slate-50 text-slate-400 border-slate-100"),children:a.isAvailable?"Active":"Offline"})}),(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsx)("div",{className:"flex items-center justify-end",children:(0,b.jsx)("div",{className:"p-2 text-slate-300 hover:text-slate-900 group-hover:bg-white rounded-xl transition-all shadow-sm",children:(0,b.jsx)(am,{size:16})})})})]},a.id)})})]})})]}),aO=({categories:a})=>(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(a=>(0,b.jsxs)("div",{className:"bg-white p-8 rounded-[32px] border border-slate-200 shadow-sm hover:border-slate-900 transition-all cursor-pointer group flex flex-col justify-between h-full",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,b.jsx)("div",{className:"w-12 h-12 bg-slate-900 rounded-2xl flex items-center justify-center shadow-xl shadow-slate-200",children:(0,b.jsx)(ak,{size:20,className:"text-emerald-400"})})}),(0,b.jsx)("h3",{className:"text-lg font-black text-slate-900 tracking-tight uppercase tracking-widest",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-slate-500 font-bold mt-2 leading-relaxed uppercase tracking-tighter",children:a.description||"No description provided for this category."})]}),(0,b.jsxs)("div",{className:"mt-10 pt-6 border-t border-slate-50 flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.2em]",children:"View Catalog Items"}),(0,b.jsx)(s.ChevronRight,{size:16,className:"text-slate-200 group-hover:translate-x-1 transition-all group-hover:text-slate-900"})]})]},a.id))});a.s(["ItemsPage",0,()=>{let[a,e]=(0,c.useState)("LIST"),[f,g]=(0,c.useState)(null),{role:h}=(0,q.useRouteAccess)();return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Catalog Management"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Manage items, variants, and modifiers with hierarchical configuration."})]}),"ADMIN"===h&&"LIST"===a&&(0,b.jsxs)("button",{onClick:()=>{g(null),e("EDIT")},className:"flex items-center gap-2 px-5 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95",children:[(0,b.jsx)(M.Plus,{size:16,strokeWidth:3}),"Add New Item"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 bg-slate-100 p-1.5 rounded-2xl w-fit",children:[(0,b.jsxs)("button",{onClick:()=>e("LIST"),className:(0,d.cn)("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all","LIST"===a?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:bg-white/50"),children:[(0,b.jsx)(_.Package,{size:14}),"Item List"]}),(0,b.jsxs)("button",{onClick:()=>e("CATEGORIES"),className:(0,d.cn)("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all","CATEGORIES"===a?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:bg-white/50"),children:[(0,b.jsx)(ak,{size:14}),"Categories"]}),(0,b.jsxs)("button",{onClick:()=>e("MODIFIERS"),className:(0,d.cn)("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all","MODIFIERS"===a?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:bg-white/50"),children:[(0,b.jsx)(al,{size:14}),"Global Modifiers"]})]}),(0,b.jsxs)("div",{className:"min-h-[400px]",children:["LIST"===a&&(0,b.jsx)(aN,{onEdit:a=>{g(a),e("EDIT")},items:ao}),"CATEGORIES"===a&&(0,b.jsx)(aO,{categories:an}),"MODIFIERS"===a&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[(0,b.jsx)(al,{size:48,strokeWidth:1}),(0,b.jsx)("p",{className:"mt-4 font-black uppercase tracking-widest text-xs tracking-[0.2em]",children:"Global Modifier Management Coming Soon"}),(0,b.jsx)("p",{className:"mt-2 text-[10px] font-bold uppercase tracking-tight",children:"Currently, modifiers are configured per item."})]}),"EDIT"===a&&(0,b.jsx)(aK,{item:f,onClose:()=>e("LIST"),categories:an})]})]})}],70180);var aP=a.i(35477);a.i(80696);var aQ=a.i(84505);(0,g.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);let aR=(0,g.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),aS=(0,g.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);function aT(a){return (b={})=>{let c=b.width?String(b.width):a.defaultWidth;return a.formats[c]||a.formats[a.defaultWidth]}}aT({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),aT({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),aT({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"});function aU(a){return(b,c)=>{let d;if("formatting"===(c?.context?String(c.context):"standalone")&&a.formattingValues){let b=a.defaultFormattingWidth||a.defaultWidth,e=c?.width?String(c.width):b;d=a.formattingValues[e]||a.formattingValues[b]}else{let b=a.defaultWidth,e=c?.width?String(c.width):a.defaultWidth;d=a.values[e]||a.values[b]}return d[a.argumentCallback?a.argumentCallback(b):b]}}function aV(a){return(b,c={})=>{let d,e=c.width,f=e&&a.matchPatterns[e]||a.matchPatterns[a.defaultMatchWidth],g=b.match(f);if(!g)return null;let h=g[0],i=e&&a.parsePatterns[e]||a.parsePatterns[a.defaultParseWidth],j=Array.isArray(i)?function(a,b){for(let c=0;c<a.length;c++)if(b(a[c]))return c}(i,a=>a.test(h)):function(a,b){for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&b(a[c]))return c}(i,a=>a.test(h));return d=a.valueCallback?a.valueCallback(j):j,{value:d=c.valueCallback?c.valueCallback(d):d,rest:b.slice(h.length)}}}aU({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),aU({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:a=>a-1}),aU({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),aU({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),aU({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"}),aV({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),aV({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:a=>a+1}),aV({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),aV({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),aV({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"}),Symbol.for("constructDateFrom");let aW=(0,g.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),aX=(0,g.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);(0,g.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);let aY=(0,g.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),aZ=(0,g.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),a$=({data:a,onRowClick:c})=>(0,b.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Customer"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Contact"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-center",children:"Orders"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Last Activity"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Total Spend"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-center",children:"Loyalty"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100",children:a.map(a=>{let d;return(0,b.jsxs)("tr",{onClick:()=>c(a),className:"hover:bg-slate-50/80 cursor-pointer transition-colors group",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-9 h-9 bg-slate-100 rounded-full flex items-center justify-center text-slate-500 font-bold group-hover:bg-emerald-50 group-hover:text-emerald-600 transition-colors",children:a.name.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900",children:a.name}),(0,b.jsxs)("div",{className:"text-[10px] text-slate-400 font-medium",children:["#",a.id]})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-slate-600",children:[(0,b.jsx)(aY,{className:"w-3 h-3 text-slate-400"}),a.phone]}),a.email&&(0,b.jsx)("div",{className:"text-[10px] text-slate-400 ml-4.5",children:a.email})]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-100 text-slate-700 rounded-lg text-xs font-bold",children:[(0,b.jsx)(af,{className:"w-3 h-3"}),a.totalOrders]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-600",children:new Date(a.lastOrderDate).toLocaleDateString()}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-mono font-bold text-slate-900 text-right",children:(d=a.totalSpend,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d))}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsxs)("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-[10px] font-bold border ${(a=>{switch(a){case"GOLD":return"text-amber-500 bg-amber-50 border-amber-100";case"SILVER":return"text-slate-400 bg-slate-50 border-slate-200";default:return"text-orange-400 bg-orange-50 border-orange-100"}})(a.loyaltyTier)}`,children:[(0,b.jsx)(aZ,{className:"w-3 h-3 fill-current"}),a.loyaltyTier]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsx)(s.ChevronRight,{className:"w-4 h-4 text-slate-300 group-hover:text-slate-900 transition-all group-hover:translate-x-1"})})]},a.id)})})]})})}),a_=(0,g.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),a0=({customer:a})=>{let c;return(0,b.jsx)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-xl shadow-slate-200/50 overflow-hidden",children:(0,b.jsxs)("div",{className:"p-8 flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-slate-900 rounded-3xl flex items-center justify-center text-white text-3xl font-black shadow-2xl shadow-slate-900/20",children:a.name.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:a.name}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-sm font-bold text-slate-500",children:[(0,b.jsx)(aY,{className:"w-4 h-4"}),a.phone]}),a.email&&(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-sm font-bold text-slate-500",children:[(0,b.jsx)(a_,{className:"w-4 h-4"}),a.email]}),(0,b.jsx)("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-emerald-50 text-emerald-600 rounded-full border border-emerald-100 text-[10px] font-black uppercase tracking-widest",children:"Validated Profile"})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,b.jsxs)("div",{className:"px-6 py-4 bg-slate-50 rounded-2xl border border-slate-100 flex flex-col gap-1",children:[(0,b.jsxs)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[(0,b.jsx)(af,{className:"w-3 h-3"})," Total Orders"]}),(0,b.jsx)("span",{className:"text-xl font-black text-slate-900",children:a.totalOrders})]}),(0,b.jsxs)("div",{className:"px-6 py-4 bg-slate-50 rounded-2xl border border-slate-100 flex flex-col gap-1",children:[(0,b.jsxs)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[(0,b.jsx)(Z.DollarSign,{className:"w-3 h-3"})," Total Spend"]}),(0,b.jsx)("span",{className:"text-xl font-black text-slate-900",children:(c=a.totalSpend,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c))})]}),(0,b.jsxs)("div",{className:"px-6 py-4 bg-slate-900 rounded-2xl flex flex-col gap-1 shadow-lg shadow-slate-200",children:[(0,b.jsxs)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[(0,b.jsx)(aZ,{className:"w-3 h-3 text-amber-400"})," ",a.loyaltyTier]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xl font-black text-white",children:a.loyaltyPoints}),(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Pts"})]})]})]})]})})},a1=(0,g.default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),a2=(0,g.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),a3=({orderId:a,onReorder:d,disabled:e})=>{let[f,g]=(0,c.useState)(!1),i=async b=>{b.stopPropagation(),g(!0);try{await d(a)}finally{g(!1)}};return(0,b.jsxs)("button",{onClick:i,disabled:e||f,className:"group flex items-center gap-2 px-3 py-1.5 bg-emerald-600 text-white rounded-lg text-[10px] font-black uppercase tracking-widest hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm active:scale-95",children:[f?(0,b.jsx)(h,{className:"w-3 h-3 animate-spin"}):(0,b.jsx)(a1,{className:"w-3 h-3 group-hover:rotate-180 transition-transform duration-500"}),"Reorder Last"]})},a4=({orders:a,onReorder:c})=>(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between",children:[(0,b.jsxs)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-1 h-3.5 bg-slate-900 rounded-full"}),"Unified Order History"]}),(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Cross-Channel Aggregation"})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Store"}),(0,b.jsx)("th",{className:"px-6 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Channel"}),(0,b.jsx)("th",{className:"px-6 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Items"}),(0,b.jsx)("th",{className:"px-6 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total"}),(0,b.jsx)("th",{className:"px-6 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:a.map(a=>{let d;return(0,b.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-slate-900",children:new Date(a.date).toLocaleDateString()}),(0,b.jsxs)("div",{className:"text-[10px] text-slate-400 font-mono italic",children:["#",a.id]})]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"text-sm font-bold text-slate-700",children:a.storeName})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(a=>{switch(a){case"POS":return(0,b.jsx)("span",{className:"px-1.5 py-0.5 bg-slate-100 text-slate-700 rounded text-[9px] font-black tracking-tighter",children:"POS"});case"ONLINE":return(0,b.jsx)("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 rounded text-[9px] font-black tracking-tighter",children:"APP"});case"UBER":return(0,b.jsx)("span",{className:"px-1.5 py-0.5 bg-emerald-50 text-emerald-700 rounded text-[9px] font-black tracking-tighter",children:"UBER"});default:return null}})(a.channel)}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("p",{className:"text-xs text-slate-600 font-medium line-clamp-1 truncate max-w-[200px]",title:a.itemsSummary,children:a.itemsSummary})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsx)("span",{className:"text-sm font-mono font-black text-slate-900",children:(d=a.totalAmount,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d))})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:a.canReorder?(0,b.jsx)(a3,{orderId:a.id,onReorder:c}):(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1.5 text-[10px] font-bold text-slate-300 uppercase tracking-widest",children:[(0,b.jsx)(a2,{className:"w-3 h-3"})," Historical"]})})]},a.id)})})]})})]}),a5=[{id:"cust-1",name:"Parveen Singh",phone:"1122334455",email:"parveen@example.com",totalOrders:14,lastOrderDate:"2023-11-20",totalSpend:450.5,loyaltyTier:"GOLD",loyaltyPoints:1250},{id:"cust-2",name:"Jasbir Kaur",phone:"9988776655",totalOrders:8,lastOrderDate:"2023-11-18",totalSpend:235.2,loyaltyTier:"SILVER",loyaltyPoints:540},{id:"cust-3",name:"John Doe",phone:"5544332211",totalOrders:3,lastOrderDate:"2023-11-10",totalSpend:85,loyaltyTier:"BRONZE",loyaltyPoints:120}],a6={"cust-1":{...a5[0],orderHistory:[{id:"ord-101",date:"2023-11-20T14:30:00Z",storeName:"Downtown Store",storeId:"store-01",channel:"POS",itemsSummary:"1 Large Veggie Supreme, 2 Garlic Dips",totalAmount:32.5,status:"COMPLETED",canReorder:!0},{id:"ord-100",date:"2023-11-12T19:15:00Z",storeName:"Online",storeId:"online",channel:"ONLINE",itemsSummary:"2 Medium Pepperoni, 1 Coke (1.5L)",totalAmount:45,status:"COMPLETED",canReorder:!1},{id:"ord-95",date:"2023-10-25T13:00:00Z",storeName:"Uber Eats",storeId:"uber",channel:"UBER",itemsSummary:"1 Family Meal, 4 Dips",totalAmount:65.2,status:"COMPLETED",canReorder:!1}]}};var a7=a.i(60246);a.s(["CustomersPage",0,()=>{let a=(0,ad.useRouter)(),{role:d}=(0,q.useRouteAccess)(),[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)({searchQuery:""});return(0,c.useEffect)(()=>{(async()=>{j(!0);try{await new Promise(a=>setTimeout(a,800)),f(a5),h(a5)}finally{j(!1)}})()},[]),(0,c.useEffect)(()=>{let a=[...e];if(k.searchQuery){let b=k.searchQuery.toLowerCase();a=a.filter(a=>a.name.toLowerCase().includes(b)||a.phone.includes(b))}h(a)},[k,e]),(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto pb-20 px-4 space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-900 rounded-2xl shadow-xl shadow-slate-200",children:(0,b.jsx)(a7.Users,{className:"w-6 h-6 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Customer Hub"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:"Unified identity and aggregated channel history."})]})]}),"ADMIN"===d&&(0,b.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 hover:text-slate-900 transition-all shadow-sm",children:[(0,b.jsx)(aQ.Download,{className:"w-4 h-4"}),"Export CRM Data"]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 bg-white p-4 rounded-2xl border border-slate-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,b.jsx)(G.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by name or phone number...",value:k.searchQuery,onChange:a=>l({...k,searchQuery:a.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:ring-2 focus:ring-slate-900/5 focus:border-slate-900 transition-all"})]}),(0,b.jsx)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:(0,b.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-bold shadow-lg shadow-slate-200",children:[(0,b.jsx)(C.Filter,{className:"w-3.5 h-3.5"}),"Filters"]})})]}),i?(0,b.jsxs)("div",{className:"h-96 bg-white rounded-2xl border border-slate-200 flex flex-col items-center justify-center gap-3 animate-pulse",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-full"}),(0,b.jsx)("div",{className:"h-4 w-48 bg-slate-50 rounded"})]}):(0,b.jsx)(a$,{data:g,onRowClick:b=>{a.push(`/backoffice/customers/${b.id}`)}}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-6 pt-6 opacity-30",children:[(0,b.jsx)("div",{className:"h-px bg-slate-300 flex-1"}),(0,b.jsx)("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.3em] whitespace-nowrap",children:"Cross-Channel Customer Record"}),(0,b.jsx)("div",{className:"h-px bg-slate-300 flex-1"})]})]})}],38941);let a8=({title:a,description:c,items:d,icon:e,iconColor:f="text-slate-400"})=>{let g=(0,ad.useRouter)();return(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:`p-2 bg-white rounded-lg shadow-sm border border-slate-100 ${f}`,children:(0,b.jsx)(e,{size:18})}),(0,b.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:a})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500 font-medium leading-relaxed",children:c})]}),(0,b.jsx)("div",{className:"flex-1 divide-y divide-slate-50",children:d.map(a=>(0,b.jsxs)("button",{onClick:()=>g.push(a.route),className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 transition-colors group text-left",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-slate-700 group-hover:text-slate-900 transition-colors",children:a.label}),a.description&&(0,b.jsx)("span",{className:"text-[10px] text-slate-400 font-medium",children:a.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.badge&&(0,b.jsx)("span",{className:"px-1.5 py-0.5 bg-emerald-50 text-emerald-600 rounded text-[9px] font-black uppercase tracking-tighter border border-emerald-100",children:a.badge}),(0,b.jsx)(s.ChevronRight,{size:14,className:"text-slate-300 group-hover:text-slate-900 group-hover:translate-x-0.5 transition-all"})]})]},a.id))})]})};var a9=a.i(83415);let ba=({profile:a})=>{let c=(0,ad.useRouter)();return(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden h-full flex flex-col",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm border border-slate-100 text-indigo-500",children:(0,b.jsx)(a9.UserCircle,{size:18})}),(0,b.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Profile"})]})}),(0,b.jsxs)("div",{className:"p-8 flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-5 mb-8 pb-8 border-b border-slate-50",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-slate-900 rounded-2xl flex items-center justify-center text-white text-2xl font-black",children:a.name.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-black text-slate-900 tracking-tight",children:a.name}),(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase tracking-widest text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full border border-emerald-100 mt-1",children:[(0,b.jsx)(aq,{size:10})," ",a.role]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-2 bg-slate-50 rounded-lg text-slate-400",children:(0,b.jsx)(a_,{size:16})}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Email Address"}),(0,b.jsx)("span",{className:"text-sm font-bold text-slate-700",children:a.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-2 bg-slate-50 rounded-lg text-slate-400",children:(0,b.jsx)(aY,{size:16})}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Phone Number"}),(0,b.jsx)("span",{className:"text-sm font-bold text-slate-700",children:a.phone})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-2 bg-slate-50 rounded-lg text-slate-400",children:(0,b.jsx)(aq,{size:16})}),(0,b.jsxs)("div",{className:"flex items-center justify-between flex-1",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Security"}),(0,b.jsx)("span",{className:"text-sm font-bold text-slate-700",children:"Two-factor Authentication"})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase tracking-tighter ${a.twoFactorEnabled?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-slate-100 text-slate-400"}`,children:a.twoFactorEnabled?"Enabled":"Disabled"})]})]})]})]}),(0,b.jsx)("div",{className:"p-4 bg-slate-50/50 border-t border-slate-50",children:(0,b.jsx)("button",{onClick:()=>c.push("/backoffice/more/profile/edit"),className:"w-full py-2 px-4 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 hover:text-slate-900 hover:border-slate-900 transition-all shadow-sm active:scale-95",children:"Edit Profile Details"})})]})},bb=()=>(0,b.jsx)(a8,{title:"Employees",description:"User access & security configuration across your organization.",items:[{id:"roles",label:"Employee Roles",description:"Admin, Manager, POS, KDS",route:"/backoffice/more/employees/roles"},{id:"permissions",label:"Employee Permissions",description:"Feature-level access control",route:"/backoffice/more/employees/permissions"},{id:"passcodes",label:"Device Passcode",description:"POS / KDS security",route:"/backoffice/more/employees/passcodes"}],icon:a7.Users,iconColor:"text-blue-500"}),bc=(0,g.default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),bd=()=>(0,b.jsx)(a8,{title:"About Your Business",description:"Manage your business identity and financial accounts.",items:[{id:"business-ops",label:"Business Operations",description:"Business info, localization, taxes, and modules",route:"/backoffice/settings/business-operations"},{id:"merchants",label:"Merchants",description:"Payment processor configuration",route:"/backoffice/more/business/merchants"}],icon:bc,iconColor:"text-emerald-500"}),be=()=>(0,b.jsx)(a8,{title:"Billing and Statements",description:"Manage your subscription and view financial statements.",items:[{id:"statements",label:"Monthly Statements",description:"View and download history",route:"/backoffice/more/billing/statements"},{id:"plan",label:"Service Plan Details",description:"Manage your subscription",route:"/backoffice/more/billing/plan",badge:"Active"}],icon:U,iconColor:"text-rose-500"}),bf=()=>(0,b.jsx)(a8,{title:"Business Operations",description:"Fine-tune your daily operational workflow and service rules.",items:[{id:"notifications",label:"Notification Preferences",route:"/backoffice/more/operations/notifications"},{id:"online-ordering",label:"Online Ordering",route:"/backoffice/more/operations/online-ordering"},{id:"reporting",label:"Reporting",description:"Customer & Schedule reporting",route:"/backoffice/more/operations/reporting"},{id:"taxes",label:"Taxes and Fees",route:"/backoffice/more/operations/taxes"},{id:"additional-charges",label:"Additional charges",route:"/backoffice/more/operations/charges"},{id:"tips",label:"Tips",route:"/backoffice/more/operations/tips"},{id:"hours",label:"Business hours",route:"/backoffice/more/operations/hours"},{id:"menu",label:"Menu settings",route:"/backoffice/more/operations/menu"},{id:"devices",label:"Devices and printers",route:"/backoffice/more/operations/devices"},{id:"dine-in",label:"Dine-in / QR ordering",route:"/backoffice/more/operations/qr-ordering"},{id:"tokens",label:"API tokens",route:"/backoffice/more/operations/tokens"}],icon:al,iconColor:"text-amber-500"}),bg=(0,g.default)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),bh=()=>(0,b.jsx)(a8,{title:"Transactions",description:"Configure how orders and payments are handled and recorded.",items:[{id:"orders",label:"Orders",route:"/backoffice/more/transactions/orders"},{id:"order-receipts",label:"Order receipts",route:"/backoffice/more/transactions/order-receipts"},{id:"order-types",label:"Order types",route:"/backoffice/more/transactions/order-types"},{id:"payments",label:"Payments",route:"/backoffice/more/transactions/payments"},{id:"payment-receipts",label:"Payment receipts",route:"/backoffice/more/transactions/payment-receipts"},{id:"virtual-terminal",label:"Virtual terminal",route:"/backoffice/more/transactions/virtual-terminal"}],icon:bg,iconColor:"text-cyan-500"}),bi=(0,g.default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),bj=()=>(0,b.jsx)(a8,{title:"Ecommerce",description:"Control your online storefront and digital payment experience.",items:[{id:"ecommerce-payments",label:"Ecommerce payments",route:"/backoffice/more/ecommerce/payments"},{id:"ecommerce-tokens",label:"Ecommerce API tokens",route:"/backoffice/more/ecommerce/tokens"},{id:"hosted-checkout",label:"Hosted checkout",route:"/backoffice/more/ecommerce/checkout"},{id:"custom-fields",label:"Custom fields",route:"/backoffice/more/ecommerce/fields"},{id:"payment-links",label:"Payment links",route:"/backoffice/more/ecommerce/links"},{id:"fraud-tools",label:"Fraud tools",route:"/backoffice/more/ecommerce/fraud"}],icon:bi,iconColor:"text-indigo-500"});var bk=a.i(17755);a.s(["MorePage",0,()=>{let{role:a,user:d}=(0,q.useRouteAccess)(),e=(0,ad.useRouter)();if("POS_USER"===a||"KDS_USER"===a||"EMPLOYEE"===a)return(0,c.useEffect)(()=>{e.replace("/backoffice/home")},[e]),null;let f="ADMIN"===a,g={name:d?.name||"John Doe",email:"admin@zyappy.com",phone:"+1 (555) 123-4567",role:a||"ADMIN",twoFactorEnabled:!0};return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto pb-20 px-4 space-y-8",children:[(0,b.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-100 pb-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-900 rounded-2xl shadow-xl shadow-slate-200",children:(0,b.jsx)(bk.MoreHorizontal,{className:"w-6 h-6 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"More & Settings"}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-slate-100 rounded-full border border-slate-200",children:[(0,b.jsx)(aq,{className:"w-3 h-3 text-slate-500"}),(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:f?"Full Access":"Store Managed"})]})]}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:"Unified configuration for operations and accounts."})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[(0,b.jsx)(ba,{profile:g}),(0,b.jsx)(bb,{}),(0,b.jsx)(bd,{}),(0,b.jsx)(be,{}),(0,b.jsx)(bf,{}),(0,b.jsx)(bh,{}),(0,b.jsx)(bj,{})]}),(0,b.jsxs)("div",{className:"pt-12 flex items-center justify-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-[0.2em]",children:[(0,b.jsx)(aq,{className:"w-3.5 h-3.5"}),"Secure Portal â€¢ System Configuration"]})]})}],13588);let bl=(0,g.default)("circle-minus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),bm=({data:a,isLoading:c,onRowClick:d,currentPage:e,itemsPerPage:f,totalItems:g,onPageChange:j})=>{let k=Math.ceil(g/f),l=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a);return c?(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 h-96 flex flex-col items-center justify-center gap-3",children:[(0,b.jsx)(h,{className:"w-8 h-8 text-slate-400 animate-spin"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Loading reconciliation data..."})]}):(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[(0,b.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"User"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Store"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Opening Cash"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Closing Cash"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Expected Cash"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Variance"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-center",children:"Status"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100",children:a.length>0?a.map(a=>{var c;return(0,b.jsxs)("tr",{onClick:()=>d(a),className:"hover:bg-slate-50/80 cursor-pointer transition-colors group",children:[(0,b.jsxs)("td",{className:"px-4 py-3",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-slate-900",children:new Date(a.date).toLocaleDateString()}),(0,b.jsx)("div",{className:"text-[10px] text-slate-400 font-mono",children:a.id})]}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("div",{className:"text-sm text-slate-700",children:a.userName})}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-600",children:a.storeName}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-900 text-right font-mono",children:l(a.openingCash)}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-900 text-right font-mono",children:l(a.closingCash)}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-900 text-right font-mono",children:l(a.expectedCash)}),(0,b.jsxs)("td",{className:`px-4 py-3 text-sm text-right font-mono ${0===(c=a.variance)?"text-slate-500":c>0?"text-emerald-600 font-bold":"text-rose-600 font-bold"}`,children:[a.variance>0?"+":"",l(a.variance)]}),(0,b.jsx)("td",{className:"px-4 py-3 text-center",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-[10px] font-bold border ${(a=>{switch(a){case"Balanced":return"bg-emerald-50 text-emerald-700 border-emerald-100";case"Over":return"bg-blue-50 text-blue-700 border-blue-100";case"Short":return"bg-rose-50 text-rose-700 border-rose-100";default:return"bg-slate-50 text-slate-700 border-slate-100"}})(a.status)}`,children:["Balanced"===a.status&&(0,b.jsx)(a2,{className:"w-3 h-3"}),"Over"===a.status&&(0,b.jsx)(i.AlertCircle,{className:"w-3 h-3"}),"Short"===a.status&&(0,b.jsx)(bl,{className:"w-3 h-3"}),a.status.toUpperCase()]})}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsx)("button",{className:"p-1.5 hover:bg-white rounded-md border border-transparent hover:border-slate-200 transition-all text-slate-400 hover:text-slate-900",children:(0,b.jsx)(s.ChevronRight,{className:"w-4 h-4"})})})]},a.id)}):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:9,className:"px-4 py-12 text-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-50 rounded-full",children:(0,b.jsx)(i.AlertCircle,{className:"w-6 h-6 text-slate-300"})}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"No variance records found"})]})})})})]})}),(0,b.jsxs)("div",{className:"p-4 border-t border-slate-100 bg-slate-50/30 flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-xs text-slate-500 font-medium",children:["Showing ",a.length," of ",g," records"]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{disabled:1===e,onClick:()=>j(e-1),className:"px-3 py-1.5 text-xs font-semibold text-slate-600 hover:bg-white border border-slate-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm",children:"Previous"}),(0,b.jsx)("div",{className:"flex items-center gap-1 px-2",children:[...Array(k)].map((a,c)=>(0,b.jsx)("button",{onClick:()=>j(c+1),className:`w-8 h-8 text-xs font-bold rounded-lg transition-all ${e===c+1?"bg-slate-900 text-white shadow-md":"text-slate-500 hover:bg-white border border-transparent hover:border-slate-200"}`,children:c+1},c))}),(0,b.jsx)("button",{disabled:e===k,onClick:()=>j(e+1),className:"px-3 py-1.5 text-xs font-semibold text-slate-600 hover:bg-white border border-slate-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm",children:"Next"})]})]})]})};var bn=a.i(57990);let bo=({filters:a,onFilterChange:c,onClear:d})=>{let{role:e}=(0,q.useRouteAccess)();return(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(C.Filter,{className:"w-4 h-4 text-slate-500"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:"Audit Filters"})]}),(0,b.jsxs)("button",{onClick:d,className:"flex items-center gap-1.5 text-xs font-medium text-slate-500 hover:text-slate-800 transition-colors",children:[(0,b.jsx)(D.RotateCcw,{className:"w-3.5 h-3.5"}),"Reset"]})]}),(0,b.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider flex items-center gap-1.5",children:[(0,b.jsx)(B.Calendar,{className:"w-3.5 h-3.5"}),"Date Range"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("input",{type:"date",value:a.startDate||"",onChange:b=>c({...a,startDate:b.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-slate-900/5 focus:border-slate-900 transition-all"}),(0,b.jsx)("input",{type:"date",value:a.endDate||"",onChange:b=>c({...a,endDate:b.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-slate-900/5 focus:border-slate-900 transition-all"})]})]}),"ADMIN"===e&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider flex items-center gap-1.5",children:[(0,b.jsx)(bn.Store,{className:"w-3.5 h-3.5"}),"Store"]}),(0,b.jsxs)("select",{value:a.storeId||"",onChange:b=>c({...a,storeId:b.target.value||void 0}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-slate-900/5 focus:border-slate-900 transition-all appearance-none",children:[(0,b.jsx)("option",{value:"",children:"All Stores"}),(0,b.jsx)("option",{value:"store-01",children:"Downtown Store"}),(0,b.jsx)("option",{value:"store-02",children:"Westside Mall"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider flex items-center gap-1.5",children:[(0,b.jsx)(C.Filter,{className:"w-3.5 h-3.5"}),"Variance Status"]}),(0,b.jsxs)("select",{value:a.status||"",onChange:b=>c({...a,status:b.target.value||void 0}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-slate-900/5 focus:border-slate-900 transition-all appearance-none",children:[(0,b.jsx)("option",{value:"",children:"All Statuses"}),(0,b.jsx)("option",{value:"Balanced",children:"Balanced"}),(0,b.jsx)("option",{value:"Over",children:"Over"}),(0,b.jsx)("option",{value:"Short",children:"Short"})]})]}),(0,b.jsx)("div",{className:"flex items-end pb-1",children:(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.varianceOnly,onChange:b=>c({...a,varianceOnly:b.target.checked}),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-10 h-5 bg-slate-200 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-slate-900"})]}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-600 group-hover:text-slate-900 transition-colors",children:"Show Variances Only"})]})})]})]})},bp=({record:a,isOpen:c,onClose:d})=>{if(!a)return null;let e=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:a.currency||"USD"}).format(b);return(0,b.jsxs)("div",{className:`fixed inset-0 z-[100] transition-all duration-300 ${c?"visible":"invisible"}`,children:[(0,b.jsx)("div",{className:`absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onClick:d}),(0,b.jsxs)("div",{className:`absolute right-0 top-0 h-full w-full max-w-lg bg-white shadow-2xl transition-transform duration-300 ease-out flex flex-col ${c?"translate-x-0":"translate-x-full"}`,children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Variance Audit"}),(0,b.jsx)(()=>{let c={Balanced:"bg-emerald-50 text-emerald-700 border-emerald-100",Over:"bg-blue-50 text-blue-700 border-blue-100",Short:"bg-rose-50 text-rose-700 border-rose-100"}[a.status];return(0,b.jsx)("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold border ${c}`,children:a.status.toUpperCase()})},{})]}),(0,b.jsxs)("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[(0,b.jsx)(T,{className:"w-3 h-3"}),"Record ID: ",a.id]})]}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-white rounded-lg border border-transparent hover:border-slate-200 transition-all text-slate-400 hover:text-slate-900",children:(0,b.jsx)(P,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h3",{className:"text-xs font-bold text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-1 h-4 bg-slate-900 rounded-full"}),"Shift Metadata"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 space-y-1",children:[(0,b.jsxs)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1.5",children:[(0,b.jsx)(B.Calendar,{className:"w-3 h-3"})," Date"]}),(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:new Date(a.date).toLocaleDateString()})]}),(0,b.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 space-y-1",children:[(0,b.jsxs)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1.5",children:[(0,b.jsx)(Q,{className:"w-3 h-3"})," Timestamp"]}),(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:new Date(a.timestamp).toLocaleTimeString()})]}),(0,b.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 space-y-1",children:[(0,b.jsxs)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1.5",children:[(0,b.jsx)(S,{className:"w-3 h-3"})," Assigned User"]}),(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:a.userName})]}),(0,b.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 space-y-1",children:[(0,b.jsxs)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1.5",children:[(0,b.jsx)(bn.Store,{className:"w-3 h-3"})," Location"]}),(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:a.storeName})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h3",{className:"text-xs font-bold text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-1 h-4 bg-slate-900 rounded-full"}),"Financial Breakdown"]}),(0,b.jsxs)("div",{className:"border border-slate-200 rounded-xl overflow-hidden divide-y divide-slate-100",children:[[{label:"Opening Cash",value:a.openingCash,icon:ah},{label:"Expected System Cash",value:a.expectedCash,icon:ap},{label:"Physical Closing Cash",value:a.closingCash,icon:ah,highlight:!0}].map((a,c)=>(0,b.jsxs)("div",{className:`p-4 flex items-center justify-between ${a.highlight?"bg-slate-50/50":""}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-white rounded-lg border border-slate-100 shadow-sm",children:(0,b.jsx)(a.icon,{className:"w-4 h-4 text-slate-500"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-600",children:a.label})]}),(0,b.jsx)("span",{className:"text-sm font-mono font-bold text-slate-900",children:e(a.value)})]},c)),(0,b.jsxs)("div",{className:"p-4 bg-slate-900 flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Final Variance"}),(0,b.jsxs)("span",{className:`text-lg font-mono font-black ${a.variance>=0?"text-emerald-400":"text-rose-400"}`,children:[a.variance>0?"+":"",e(a.variance)]})]})]})]}),a.paymentBreakdown&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h3",{className:"text-xs font-bold text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-1 h-4 bg-slate-900 rounded-full"}),"Payment Summary"]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,b.jsxs)("div",{className:"p-3 bg-slate-50 border border-slate-100 rounded-xl text-center",children:[(0,b.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Cash"}),(0,b.jsx)("p",{className:"text-sm font-bold text-slate-900",children:e(a.paymentBreakdown.cash)})]}),(0,b.jsxs)("div",{className:"p-3 bg-slate-50 border border-slate-100 rounded-xl text-center",children:[(0,b.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Card"}),(0,b.jsx)("p",{className:"text-sm font-bold text-slate-900",children:e(a.paymentBreakdown.card)})]}),(0,b.jsxs)("div",{className:"p-3 bg-slate-50 border border-slate-100 rounded-xl text-center",children:[(0,b.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Other"}),(0,b.jsx)("p",{className:"text-sm font-bold text-slate-900",children:e(a.paymentBreakdown.other)})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h3",{className:"text-xs font-bold text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-1 h-4 bg-slate-900 rounded-full"}),"Audit Trail"]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"p-4 border border-slate-100 rounded-xl flex items-center justify-between group hover:bg-slate-50 transition-colors cursor-pointer",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(bg,{className:"w-4 h-4 text-slate-400"}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Linked Sales Activity"})]}),(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Read-Only"})]}),(0,b.jsxs)("div",{className:"p-4 border border-slate-100 rounded-xl flex items-center justify-between group hover:bg-slate-50 transition-colors cursor-pointer",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(ak,{className:"w-4 h-4 text-slate-400"}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Shift Record (M9-T6)"})]}),(0,b.jsxs)("span",{className:"text-sm font-mono text-slate-400 font-medium",children:["#",a.shiftId]})]})]})]})]}),(0,b.jsx)("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:(0,b.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-100 rounded-xl",children:[(0,b.jsx)(ap,{className:"w-4 h-4 text-amber-600 mt-0.5"}),(0,b.jsx)("p",{className:"text-[11px] font-medium text-amber-800 leading-relaxed",children:"This record is immutable and locked for audit purposes. Any discrepancies must be reported to the regional financial controller. Calculations are performed by the core engine."})]})})]})]})},bq=({onSearch:a,onExport:c})=>(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"relative w-full sm:max-w-md",children:[(0,b.jsx)(G.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by user or record ID...",onChange:b=>a(b.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-slate-900/5 focus:border-slate-900 transition-all"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto overflow-x-auto pb-2 sm:pb-0",children:[(0,b.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mr-2 whitespace-nowrap",children:"Exports:"}),(0,b.jsxs)("button",{onClick:()=>c("CSV"),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-600 hover:text-slate-900 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition-all whitespace-nowrap",children:[(0,b.jsx)(I.FileText,{className:"w-3.5 h-3.5"}),"CSV"]}),(0,b.jsxs)("button",{onClick:()=>c("PDF"),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-600 hover:text-slate-900 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition-all whitespace-nowrap",children:[(0,b.jsx)(aQ.Download,{className:"w-3.5 h-3.5"}),"Excel"]}),(0,b.jsxs)("button",{onClick:()=>c("PRINT"),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-slate-600 hover:text-slate-900 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition-all whitespace-nowrap",children:[(0,b.jsx)(K.Printer,{className:"w-3.5 h-3.5"}),"Print"]})]})]}),br=[{id:"VAR-001",date:new Date().toISOString().split("T")[0],userName:"John Doe",userId:"user-001",storeName:"Downtown Store",storeId:"store-01",openingCash:500,closingCash:1250,expectedCash:1250,variance:0,status:"Balanced",currency:"USD",shiftId:"SHIFT-101",timestamp:new Date().toISOString(),paymentBreakdown:{cash:750,card:500,other:0}},{id:"VAR-002",date:new Date(new Date().setDate(new Date().getDate()-1)).toISOString().split("T")[0],userName:"Jane Smith",userId:"user-002",storeName:"Downtown Store",storeId:"store-01",openingCash:500,closingCash:1100,expectedCash:1120,variance:-20,status:"Short",currency:"USD",shiftId:"SHIFT-102",timestamp:new Date(new Date().setDate(new Date().getDate()-1)).toISOString(),paymentBreakdown:{cash:600,card:450,other:70}},{id:"VAR-003",date:new Date(new Date().setDate(new Date().getDate()-2)).toISOString().split("T")[0],userName:"Mike Wilson",userId:"user-003",storeName:"Westside Mall",storeId:"store-02",openingCash:300,closingCash:955.5,expectedCash:940,variance:15.5,status:"Over",currency:"USD",shiftId:"SHIFT-103",timestamp:new Date(new Date().setDate(new Date().getDate()-2)).toISOString(),paymentBreakdown:{cash:640,card:300,other:15.5}}];a.s(["CashVariancePage",0,()=>{let{role:a,user:d}=(0,q.useRouteAccess)(),e=(0,ad.useRouter)();if("EMPLOYEE"===a)return(0,c.useEffect)(()=>{e.replace("/backoffice/home")},[e]),null;let[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),[p,r]=(0,c.useState)(1),[s]=(0,c.useState)(10),[t,u]=(0,c.useState)({startDate:new Date(new Date().setDate(new Date().getDate()-7)).toISOString().split("T")[0]||null,endDate:new Date().toISOString().split("T")[0]||null,varianceOnly:!1,searchQuery:""});(0,c.useEffect)(()=>{(async()=>{k(!0);try{await new Promise(a=>setTimeout(a,1e3));let b=[...br];"STORE_MANAGER"===a&&d?.storeIds&&(b=b.filter(a=>d.storeIds.includes(a.storeId))),g(b)}catch(a){console.error("Failed to fetch cash variance data:",a)}finally{k(!1)}})()},[a,d]),(0,c.useEffect)(()=>{let b=[...f];if(t.startDate&&(b=b.filter(a=>a.date>=t.startDate)),t.endDate&&(b=b.filter(a=>a.date<=t.endDate)),"ADMIN"===a&&t.storeId&&(b=b.filter(a=>a.storeId===t.storeId)),t.status&&(b=b.filter(a=>a.status===t.status)),t.varianceOnly&&(b=b.filter(a=>0!==a.variance)),t.searchQuery){let a=t.searchQuery.toLowerCase();b=b.filter(b=>b.userName.toLowerCase().includes(a)||b.id.toLowerCase().includes(a))}i(b),r(1)},[t,f,a]);let v=h.slice((p-1)*s,p*s);return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto pb-20 px-4 space-y-6",children:[(0,b.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-100 pb-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-900 rounded-2xl shadow-xl shadow-slate-200",children:(0,b.jsx)(ah,{className:"w-6 h-6 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Cash Variance"}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-slate-100 rounded-full border border-slate-200",children:[(0,b.jsx)(aq,{className:"w-3 h-3 text-slate-500"}),(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Audit Log"})]})]}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:"Physical reconciliation and exception tracking."})]})]})}),(0,b.jsx)(bo,{filters:t,onFilterChange:u,onClear:()=>u({startDate:new Date(new Date().setDate(new Date().getDate()-7)).toISOString().split("T")[0]||null,endDate:new Date().toISOString().split("T")[0]||null,varianceOnly:!1,searchQuery:""})}),(0,b.jsx)(bq,{onSearch:a=>u({...t,searchQuery:a}),onExport:a=>{console.log(`Exporting ${a} with current filters:`,t)}}),(0,b.jsx)(bm,{data:v,isLoading:j,onRowClick:a=>{m(a),o(!0)},currentPage:p,itemsPerPage:s,totalItems:h.length,onPageChange:r}),(0,b.jsx)(bp,{record:l,isOpen:n,onClose:()=>{o(!1),m(null)}}),(0,b.jsxs)("div",{className:"pt-4 flex items-center justify-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-[0.2em]",children:[(0,b.jsx)(aq,{className:"w-3.5 h-3.5"}),"Immutable Audit Trail â€¢ System of Record"]})]})}],53854),a.s(["CustomerProfilePage",0,()=>{let{customerId:a}=(0,ad.useParams)(),d=(0,ad.useRouter)(),[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{h(!0);try{await new Promise(a=>setTimeout(a,800));let b=a6[a||""];b?f(b):k("Customer profile not found in decentralized identity record.")}finally{h(!1)}})()},[a]);let l=async a=>{console.log(`Triggering One-Click Reorder for order: ${a}`),await new Promise(a=>setTimeout(a,1500)),alert("Reorder successful! Redirecting to POS with pre-populated cart (Current pricing applied).")};return g?(0,b.jsxs)("div",{className:"max-w-[1200px] mx-auto p-10 flex flex-col items-center justify-center gap-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-slate-100 border-t-slate-900 rounded-full animate-spin"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-bold uppercase tracking-widest",children:"Hydrating Customer Profile..."})]}):j||!e?(0,b.jsxs)("div",{className:"max-w-[1200px] mx-auto p-10 flex flex-col items-center justify-center gap-6",children:[(0,b.jsx)("div",{className:"p-4 bg-rose-50 rounded-full",children:(0,b.jsx)(i.AlertCircle,{className:"w-10 h-10 text-rose-500"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:j}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Please verify the customer ID and try again."})]}),(0,b.jsx)("button",{onClick:()=>d.push("/backoffice/customers"),className:"px-6 py-2 bg-slate-900 text-white rounded-xl text-xs font-bold",children:"Return to Hub"})]}):(0,b.jsxs)("div",{className:"max-w-[1200px] mx-auto pb-20 px-4 space-y-8",children:[(0,b.jsxs)("button",{onClick:()=>d.push("/backoffice/customers"),className:"flex items-center gap-2 text-xs font-bold text-slate-400 hover:text-slate-900 transition-all uppercase tracking-widest group",children:[(0,b.jsx)(r.ChevronLeft,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Customer Hub"]}),(0,b.jsx)(a0,{customer:e}),(0,b.jsxs)("div",{className:"p-4 bg-emerald-50 border border-emerald-100 rounded-2xl flex items-start gap-4 shadow-sm shadow-emerald-100/50",children:[(0,b.jsx)("div",{className:"p-2 bg-white rounded-xl shadow-sm",children:(0,b.jsx)(ac,{className:"w-5 h-5 text-emerald-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-black text-emerald-900 uppercase tracking-wide",children:"One-Click Reorder Enabled"}),(0,b.jsxs)("p",{className:"text-xs text-emerald-700 leading-relaxed mt-1",children:["Recent orders can be replicated with a single click. The system will automatically re-validate",(0,b.jsx)("span",{className:"font-bold underline ml-1",children:"Current Menu Prices"})," and",(0,b.jsx)("span",{className:"font-bold underline ml-1",children:"Ingredient Availability"})," before rebuilding the cart."]})]})]}),(0,b.jsx)(a4,{orders:e.orderHistory,onReorder:l}),(0,b.jsxs)("div",{className:"p-6 bg-slate-50 rounded-2xl border border-slate-200 flex items-start gap-4",children:[(0,b.jsx)(ap,{className:"w-5 h-5 text-slate-400 shrink-0"}),(0,b.jsx)("p",{className:"text-[11px] font-medium text-slate-500 leading-relaxed italic",children:"Note: Financial totals are aggregated from POS, Online, and 3rd-party delivery logs. Historical order items reflect the menu structure at the time of purchase. Reordering will map these items to current inventory definitions."})]})]})}],43998);let bs=({title:a,description:c,children:d,onSave:e,isLoading:f=!1})=>{let g=(0,ad.useRouter)();return(0,b.jsxs)("div",{className:"max-w-[1000px] mx-auto pb-24 px-4 space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-100 pb-6 pt-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>g.push("/backoffice/more"),className:"p-2 text-slate-400 hover:text-slate-900 transition-colors bg-white rounded-xl border border-slate-100 shadow-sm",children:(0,b.jsx)(r.ChevronLeft,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-black text-slate-900 tracking-tight",children:a}),(0,b.jsx)("p",{className:"text-xs text-slate-500 font-medium mt-0.5",children:c})]})]}),e&&(0,b.jsxs)("button",{onClick:e,disabled:f,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 disabled:opacity-50 transition-all shadow-lg shadow-slate-200 active:scale-95",children:[(0,b.jsx)(Y,{className:"w-4 h-4 text-emerald-400"}),"Save Changes"]})]}),(0,b.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-xl shadow-slate-200/50 overflow-hidden",children:(0,b.jsx)("div",{className:"p-8",children:d})}),(0,b.jsxs)("div",{className:"pt-8 flex items-center justify-center gap-2 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:[(0,b.jsx)(aq,{className:"w-3.5 h-3.5"}),"Secure Configuration Portal"]})]})},bt=(0,g.default)("fingerprint-pattern",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);a.s(["ProfileDetailSettings",0,()=>{let[a,d]=(0,c.useState)({name:"John Doe",email:"admin@zyappy.com",phone:"+1 (555) 123-4567",twoFactor:!0});return(0,b.jsx)(bs,{title:"Edit Profile",description:"Manage your personal information and security preferences.",onSave:()=>{alert("Profile updated successfully (Mock)")},children:(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest",children:"Full Name"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(S,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:a.name,onChange:b=>d({...a,name:b.target.value}),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:border-slate-900 transition-all"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(a_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"email",value:a.email,onChange:b=>d({...a,email:b.target.value}),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:border-slate-900 transition-all"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest",children:"Phone Number"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(aY,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:a.phone,onChange:b=>d({...a,phone:b.target.value}),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:border-slate-900 transition-all"})]})]}),(0,b.jsx)("div",{className:"space-y-4 flex flex-col justify-center",children:(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.twoFactor,onChange:b=>d({...a,twoFactor:b.target.checked}),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-12 h-6 bg-slate-200 rounded-full peer-checked:bg-emerald-500 transition-all after:content-[''] after:absolute after:top-1 after:left-1 after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:after:translate-x-6"})]}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-sm font-black text-slate-900 uppercase tracking-tight",children:"Two-Factor Authentication"}),(0,b.jsx)("span",{className:"text-[10px] text-slate-500 font-medium",children:"Add an extra layer of security to your account."})]})]})})]}),(0,b.jsxs)("div",{className:"p-6 bg-slate-50 rounded-3xl border border-slate-100 space-y-4",children:[(0,b.jsxs)("h3",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[(0,b.jsx)(aX,{className:"w-4 h-4 text-indigo-500"}),"Account Governance"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-white rounded-2xl border border-slate-100",children:[(0,b.jsx)("p",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:"Assigned Role"}),(0,b.jsx)("p",{className:"text-xs font-bold text-slate-900",children:"Brand Admin"})]}),(0,b.jsxs)("div",{className:"p-4 bg-white rounded-2xl border border-slate-100",children:[(0,b.jsx)("p",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:"Access Scope"}),(0,b.jsx)("p",{className:"text-xs font-bold text-slate-900",children:"All Stores (Full)"})]}),(0,b.jsxs)("div",{className:"p-4 bg-white rounded-2xl border border-slate-100",children:[(0,b.jsx)("p",{className:"text-[9px] font-black text-slate-400 uppercase mb-1",children:"Security Level"}),(0,b.jsx)("p",{className:"text-xs font-bold text-slate-900",children:"Highest (L1)"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-amber-50 rounded-2xl border border-amber-100",children:[(0,b.jsx)(bt,{className:"w-5 h-5 text-amber-600 shrink-0"}),(0,b.jsx)("p",{className:"text-[10px] font-bold text-amber-800 leading-relaxed uppercase tracking-wider",children:"Changes to your primary credentials may require re-verification. Multi-store access permissions are managed by the master account holder."})]})]})})}],98088);var bu=a.i(23312);let bv=(0,g.default)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),bw=(0,g.default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),bx={notifications:{title:"Notification Preferences",description:"Configure system alerts and push notifications.",icon:bu.Bell},"online-ordering":{title:"Online Ordering",description:"Enable or disable digital sales channels.",icon:ay},taxes:{title:"Taxes and Fees",description:"Manage regional tax rates and service charges.",icon:ag},hours:{title:"Business Hours",description:"Define operational availability for each store.",icon:Q},devices:{title:"Devices and Printers",description:"Manage hardware connections and receipt routing.",icon:K.Printer},tokens:{title:"API Tokens",description:"Integrate 3rd party services via secure tokens.",icon:bw},fraud:{title:"Fraud & Security",description:"Configure payment protection and risk rules.",icon:bv}};a.s(["GenericSettingsDetail",0,()=>{let{subItem:a}=(0,ad.useParams)(),c=bx[a||""]||{title:"Settings Configuration",description:"Manage advanced system parameters.",icon:bv};return(0,b.jsx)(bs,{title:c.title,description:c.description,onSave:()=>{alert(`${c.title} updated successfully (Mock)`)},children:(0,b.jsxs)("div",{className:"space-y-8 py-10",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[(0,b.jsx)("div",{className:"p-5 bg-slate-50 rounded-3xl border border-slate-100 text-slate-400",children:(0,b.jsx)(c.icon,{size:48,strokeWidth:1.5})}),(0,b.jsxs)("div",{className:"max-w-md",children:[(0,b.jsx)("h2",{className:"text-lg font-black text-slate-900 tracking-tight",children:"Configuration Module"}),(0,b.jsxs)("p",{className:"text-sm text-slate-500 font-medium leading-relaxed mt-2 uppercase tracking-wide",children:["The ",c.title," management interface is fully compliant with the Backoffice architectural core. All parameters are rule-driven and validated on the server."]})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto pt-8",children:[1,2,3,4].map(a=>(0,b.jsxs)("div",{className:"p-4 bg-slate-50/50 rounded-2xl border border-slate-200 flex items-center justify-between group hover:bg-white hover:border-slate-900 transition-all cursor-pointer",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsxs)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["Parameter 0",a]}),(0,b.jsx)("span",{className:"text-sm font-bold text-slate-700 uppercase",children:"System Default"})]}),(0,b.jsx)("div",{className:"w-8 h-4 bg-slate-200 rounded-full relative after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-3 after:w-3"})]},a))})]})})}],1794);let by=(0,g.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),bz=(0,g.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),bA=[{id:"VEN001",name:"Fresh Produce Co.",contactPerson:"John Smith",phone:"+1-555-0101",email:"john@freshproduce.com",address:"123 Market Street, City, State 12345",totalPurchases:45e3,totalPaid:4e4,totalDue:5e3,lastInventoryDate:"2026-01-28T10:30:00Z",status:"Active",createdAt:"2025-06-01T00:00:00Z",updatedAt:"2026-01-28T10:30:00Z"},{id:"VEN002",name:"Dairy Delights Ltd.",contactPerson:"Sarah Johnson",phone:"+1-555-0202",email:"sarah@dairydelights.com",address:"456 Dairy Lane, City, State 12345",totalPurchases:32e3,totalPaid:32e3,totalDue:0,lastInventoryDate:"2026-01-27T14:00:00Z",status:"Active",createdAt:"2025-07-15T00:00:00Z",updatedAt:"2026-01-27T14:00:00Z"},{id:"VEN003",name:"Spice World Suppliers",contactPerson:"Mike Chen",phone:"+1-555-0303",email:"mike@spiceworld.com",address:"789 Spice Road, City, State 12345",totalPurchases:18500,totalPaid:15e3,totalDue:3500,lastInventoryDate:"2026-01-25T09:00:00Z",status:"Active",createdAt:"2025-08-20T00:00:00Z",updatedAt:"2026-01-25T09:00:00Z"}],bB=[{id:"INV001",name:"Tomatoes",sku:"VEG-TOM-001",baseUnit:"Kilogram",currentStock:45.5,averageCost:3.5,lowStockThreshold:20,status:"Active",description:"Fresh red tomatoes",tenantId:"TENANT001",createdAt:"2025-06-01T00:00:00Z",updatedAt:"2026-01-28T10:30:00Z"},{id:"INV002",name:"Mozzarella Cheese",sku:"DAI-MOZ-001",baseUnit:"Kilogram",currentStock:12,averageCost:8.75,lowStockThreshold:10,status:"Active",description:"Premium mozzarella cheese",tenantId:"TENANT001",createdAt:"2025-06-01T00:00:00Z",updatedAt:"2026-01-27T14:00:00Z"},{id:"INV003",name:"Pizza Dough",sku:"BAK-DOU-001",baseUnit:"Kilogram",currentStock:8.5,averageCost:2.25,lowStockThreshold:15,status:"Active",description:"Fresh pizza dough",tenantId:"TENANT001",createdAt:"2025-06-01T00:00:00Z",updatedAt:"2026-01-26T11:00:00Z"},{id:"INV004",name:"Olive Oil",sku:"OIL-OLI-001",baseUnit:"Liter",currentStock:5.2,averageCost:12.5,lowStockThreshold:3,status:"Active",description:"Extra virgin olive oil",tenantId:"TENANT001",createdAt:"2025-06-01T00:00:00Z",updatedAt:"2026-01-25T09:00:00Z"},{id:"INV005",name:"Basil Leaves",sku:"HRB-BAS-001",baseUnit:"Gram",currentStock:250,averageCost:.15,lowStockThreshold:100,status:"Active",description:"Fresh basil leaves",tenantId:"TENANT001",createdAt:"2025-06-01T00:00:00Z",updatedAt:"2026-01-24T16:00:00Z"}],bC=[{id:"IE001",referenceNo:"PO-2026-001",supplierId:"VEN001",supplierName:"Fresh Produce Co.",storeId:"STORE001",storeName:"Main Store",inventoryDate:"2026-01-28T10:30:00Z",inventoryStatus:"Received",paymentStatus:"Partial",payTerm:"Net 30",products:[{id:"IEP001",inventoryItemId:"INV001",inventoryItemName:"Tomatoes",sku:"VEG-TOM-001",purchaseQuantity:50,unitCostBeforeTax:3,subtotal:150,taxPercentage:10,taxAmount:15,unitCostAfterTax:3.3,lineTotal:165}],purchaseTax:15,shippingCharges:10,additionalNotes:"Delivery received in good condition",subtotal:150,totalTax:15,grandTotal:175,paymentDue:75,createdBy:"USER001",createdByName:"Admin User",createdAt:"2026-01-28T10:30:00Z",updatedAt:"2026-01-28T10:30:00Z"},{id:"IE002",referenceNo:"PO-2026-002",supplierId:"VEN002",supplierName:"Dairy Delights Ltd.",storeId:"STORE001",storeName:"Main Store",inventoryDate:"2026-01-27T14:00:00Z",inventoryStatus:"Received",paymentStatus:"Paid",payTerm:"Cash on Delivery",products:[{id:"IEP002",inventoryItemId:"INV002",inventoryItemName:"Mozzarella Cheese",sku:"DAI-MOZ-001",purchaseQuantity:15,unitCostBeforeTax:8,subtotal:120,taxPercentage:5,taxAmount:6,unitCostAfterTax:8.4,lineTotal:126}],purchaseTax:6,shippingCharges:5,subtotal:120,totalTax:6,grandTotal:131,paymentDue:0,createdBy:"USER001",createdByName:"Admin User",createdAt:"2026-01-27T14:00:00Z",updatedAt:"2026-01-27T14:00:00Z"},{id:"IE003",referenceNo:"PO-2026-003",supplierId:"VEN001",supplierName:"Fresh Produce Co.",storeId:"STORE001",storeName:"Main Store",inventoryDate:"2026-01-26T09:00:00Z",inventoryStatus:"Draft",paymentStatus:"Unpaid",products:[{id:"IEP003",inventoryItemId:"INV003",inventoryItemName:"Pizza Dough",sku:"BAK-DOU-001",purchaseQuantity:20,unitCostBeforeTax:2,subtotal:40,taxPercentage:8,taxAmount:3.2,unitCostAfterTax:2.16,lineTotal:43.2}],purchaseTax:3.2,shippingCharges:0,subtotal:40,totalTax:3.2,grandTotal:43.2,paymentDue:43.2,createdBy:"USER002",createdByName:"Store Manager",createdAt:"2026-01-26T09:00:00Z",updatedAt:"2026-01-26T09:00:00Z"}],bD=[{id:"REC001",name:"Margherita Pizza Base",description:"Classic margherita pizza recipe",status:"Active",ingredients:[{id:"RI001",inventoryItemId:"INV003",inventoryItemName:"Pizza Dough",baseUnit:"Gram",quantityUsed:250,unitCost:2.25,wastagePercentage:5,effectiveQuantity:262.5,lineCost:.59},{id:"RI002",inventoryItemId:"INV001",inventoryItemName:"Tomatoes",baseUnit:"Gram",quantityUsed:100,unitCost:3.5,wastagePercentage:10,effectiveQuantity:110,lineCost:.39},{id:"RI003",inventoryItemId:"INV002",inventoryItemName:"Mozzarella Cheese",baseUnit:"Gram",quantityUsed:150,unitCost:8.75,wastagePercentage:2,effectiveQuantity:153,lineCost:1.34},{id:"RI004",inventoryItemId:"INV005",inventoryItemName:"Basil Leaves",baseUnit:"Gram",quantityUsed:10,unitCost:.15,wastagePercentage:15,effectiveQuantity:11.5,lineCost:.02}],totalRecipeCost:2.34,usedByProductCount:3,tenantId:"TENANT001",createdAt:"2025-06-15T00:00:00Z",updatedAt:"2026-01-20T10:00:00Z"},{id:"REC002",name:"Garlic Bread",description:"Simple garlic bread recipe",status:"Active",ingredients:[{id:"RI005",inventoryItemId:"INV003",inventoryItemName:"Pizza Dough",baseUnit:"Gram",quantityUsed:150,unitCost:2.25,wastagePercentage:3,effectiveQuantity:154.5,lineCost:.35},{id:"RI006",inventoryItemId:"INV004",inventoryItemName:"Olive Oil",baseUnit:"Milliliter",quantityUsed:20,unitCost:12.5,wastagePercentage:0,effectiveQuantity:20,lineCost:.25}],totalRecipeCost:.6,usedByProductCount:1,tenantId:"TENANT001",createdAt:"2025-07-01T00:00:00Z",updatedAt:"2026-01-15T14:00:00Z"}],bE=[{id:"IR001",referenceNo:"RET-2026-001",returnType:"Damaged",supplierId:"VEN001",supplierName:"Fresh Produce Co.",storeId:"STORE001",storeName:"Main Store",returnDate:"2026-01-29T11:00:00Z",products:[{id:"IRP001",inventoryItemId:"INV001",inventoryItemName:"Tomatoes",sku:"VEG-TOM-001",returnQuantity:5,unitCost:3.3,lineTotal:16.5}],totalAmount:16.5,reason:"Received damaged goods",createdBy:"USER001",createdByName:"Admin User",createdAt:"2026-01-29T11:00:00Z"},{id:"IR002",referenceNo:"RET-2026-002",returnType:"Expired",storeId:"STORE001",storeName:"Main Store",returnDate:"2026-01-28T16:00:00Z",products:[{id:"IRP002",inventoryItemId:"INV002",inventoryItemName:"Mozzarella Cheese",sku:"DAI-MOZ-001",returnQuantity:2,unitCost:8.4,lineTotal:16.8}],totalAmount:16.8,reason:"Expired product",createdBy:"USER002",createdByName:"Store Manager",createdAt:"2026-01-28T16:00:00Z"}],bF=({icon:a,title:c,description:d,color:e,onClick:f})=>(0,b.jsxs)("button",{onClick:f,className:`bg-gradient-to-br ${{emerald:"from-emerald-50 to-emerald-100 border-emerald-200 hover:border-emerald-400",blue:"from-blue-50 to-blue-100 border-blue-200 hover:border-blue-400",violet:"from-violet-50 to-violet-100 border-violet-200 hover:border-violet-400",orange:"from-orange-50 to-orange-100 border-orange-200 hover:border-orange-400",rose:"from-rose-50 to-rose-100 border-rose-200 hover:border-rose-400",slate:"from-slate-50 to-slate-100 border-slate-200 hover:border-slate-400"}[e]} p-6 rounded-3xl border shadow-sm transition-all hover:shadow-lg hover:scale-105 active:scale-100 text-left group`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:`p-3 ${{emerald:"bg-emerald-600 shadow-emerald-200",blue:"bg-blue-600 shadow-blue-200",violet:"bg-violet-600 shadow-violet-200",orange:"bg-orange-600 shadow-orange-200",rose:"bg-rose-600 shadow-rose-200",slate:"bg-slate-600 shadow-slate-200"}[e]} rounded-2xl shadow-lg`,children:(0,b.jsx)(a,{size:20,className:"text-white"})}),(0,b.jsx)("svg",{className:"w-5 h-5 text-slate-400 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(0,b.jsx)("h3",{className:"text-lg font-black text-slate-900 tracking-tight mb-2",children:c}),(0,b.jsx)("p",{className:"text-xs text-slate-600 font-medium leading-relaxed",children:d})]});a.s(["InventoryPage",0,()=>{let a=(0,ad.useRouter)(),{role:c}=(0,q.useRouteAccess)(),d=bB.filter(a=>a.currentStock<=a.lowStockThreshold),e=bB.reduce((a,b)=>a+b.currentStock*b.averageCost,0),f=bC.filter(a=>"Draft"===a.inventoryStatus||"Ordered"===a.inventoryStatus),g="ADMIN"===c||"STORE_MANAGER"===c;return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Inventory Management"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"System of record for stock movement, recipes, and vendor management"})]}),g&&(0,b.jsxs)("button",{onClick:()=>a.push("/backoffice/inventory/add"),className:"flex items-center gap-2 px-5 py-2.5 bg-emerald-600 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all active:scale-95",children:[(0,b.jsx)(M.Plus,{size:16,strokeWidth:3}),"Add Inventory"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200",children:(0,b.jsx)(_.Package,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Total Value"})]}),(0,b.jsxs)("div",{className:"text-3xl font-black text-emerald-900 tracking-tight",children:["$",e.toFixed(2)]}),(0,b.jsxs)("div",{className:"text-xs text-emerald-600 font-bold mt-1",children:[bB.length," Active Items"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-3xl border border-amber-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-amber-600 rounded-2xl shadow-lg shadow-amber-200",children:(0,b.jsx)(bz,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-amber-600 uppercase tracking-widest",children:"Low Stock"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-amber-900 tracking-tight",children:d.length}),(0,b.jsx)("div",{className:"text-xs text-amber-600 font-bold mt-1",children:"Items Below Threshold"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,b.jsx)(ae.TrendingUp,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-blue-600 uppercase tracking-widest",children:"Pending"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-blue-900 tracking-tight",children:f.length}),(0,b.jsx)("div",{className:"text-xs text-blue-600 font-bold mt-1",children:"Draft/Ordered Entries"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g&&(0,b.jsx)(bF,{icon:M.Plus,title:"Add Inventory",description:"Create new stock inward entries",color:"emerald",onClick:()=>a.push("/backoffice/inventory/add")}),(0,b.jsx)(bF,{icon:I.FileText,title:"Entries",description:"View all stock inward transactions",color:"blue",onClick:()=>a.push("/backoffice/inventory/entries")}),(0,b.jsx)(bF,{icon:by,title:"List Inventory",description:"Canonical list of inventory items (ingredients)",color:"violet",onClick:()=>a.push("/backoffice/inventory/list")}),(0,b.jsx)(bF,{icon:aA,title:"Recipes",description:"Bill of Materials (BOM) and costing",color:"orange",onClick:()=>a.push("/backoffice/inventory/recipes")}),(0,b.jsx)(bF,{icon:D.RotateCcw,title:"List Returns",description:"View returns, wastage, and adjustments",color:"rose",onClick:()=>a.push("/backoffice/inventory/returns")}),("ADMIN"===c||"STORE_MANAGER"===c)&&(0,b.jsx)(bF,{icon:a7.Users,title:"Vendors",description:"Manage suppliers and vendor relationships",color:"slate",onClick:()=>a.push("/backoffice/inventory/vendors")})]}),d.length>0&&(0,b.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-3xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-amber-600 rounded-2xl shadow-lg shadow-amber-200",children:(0,b.jsx)(bz,{size:20,className:"text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-black text-amber-900 tracking-tight mb-2",children:"Low Stock Alert"}),(0,b.jsx)("p",{className:"text-sm text-amber-700 font-medium mb-4",children:"The following items are below their low stock threshold:"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:d.slice(0,6).map(a=>(0,b.jsxs)("div",{className:"bg-white p-3 rounded-xl border border-amber-200",children:[(0,b.jsx)("div",{className:"text-sm font-black text-slate-900",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-slate-500 font-medium mt-1",children:["Stock: ",a.currentStock," ",a.baseUnit," (Threshold: ",a.lowStockThreshold,")"]})]},a.id))}),d.length>6&&(0,b.jsxs)("button",{onClick:()=>a.push("/backoffice/inventory/list"),className:"mt-4 text-xs font-black text-amber-600 uppercase tracking-widest hover:text-amber-700 transition-colors",children:["View All ",d.length," Items â†’"]})]})]})})]})}],23601);let bG=(0,g.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),bH=(0,g.default)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),bI=(0,g.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),bJ=[...bC],bK=[...bB],bL=[...bD],bM=[...bA],bN=[...bE],bO=[{id:"LED001",inventoryItemId:"INV001",inventoryItemName:"Tomatoes",changeQuantity:50,sourceType:"inventory",sourceId:"IE001",sourceReference:"PO-2026-001",storeId:"STORE001",storeName:"Main Store",balanceAfter:50,createdAt:"2026-01-28T10:30:00Z"},{id:"LED002",inventoryItemId:"INV001",inventoryItemName:"Tomatoes",changeQuantity:-5,sourceType:"return",sourceId:"IR001",sourceReference:"RET-2026-001",storeId:"STORE001",storeName:"Main Store",balanceAfter:45,createdAt:"2026-01-29T11:00:00Z"},{id:"LED003",inventoryItemId:"INV002",inventoryItemName:"Mozzarella Cheese",changeQuantity:15,sourceType:"inventory",sourceId:"IE002",sourceReference:"PO-2026-002",storeId:"STORE001",storeName:"Main Store",balanceAfter:15,createdAt:"2026-01-27T14:00:00Z"},{id:"LED004",inventoryItemId:"INV002",inventoryItemName:"Mozzarella Cheese",changeQuantity:-2,sourceType:"return",sourceId:"IR002",sourceReference:"RET-2026-002",storeId:"STORE001",storeName:"Main Store",balanceAfter:13,createdAt:"2026-01-28T16:00:00Z"},{id:"LED005",inventoryItemId:"INV002",inventoryItemName:"Mozzarella Cheese",changeQuantity:-1,sourceType:"sale",sourceId:"SALE001",sourceReference:"ORD-2026-045",storeId:"STORE001",storeName:"Main Store",balanceAfter:12,createdAt:"2026-01-29T12:30:00Z"}],bP=a=>`${a}${Date.now()}${Math.floor(1e3*Math.random())}`,bQ=a=>Promise.resolve(bJ.find(b=>b.id===a)||null),bR=a=>{let b=bJ.find(b=>b.id===a);return b?"Received"===b.inventoryStatus?Promise.reject(Error("Already received")):(b.inventoryStatus="Received",b.updatedAt=new Date().toISOString(),b.products.forEach(a=>{let c=bK.find(b=>b.id===a.inventoryItemId);if(c){c.currentStock+=a.purchaseQuantity;let d=(c.currentStock-a.purchaseQuantity)*c.averageCost+a.purchaseQuantity*a.unitCostAfterTax;c.averageCost=d/c.currentStock,c.updatedAt=new Date().toISOString();let e={id:bP("LED"),inventoryItemId:c.id,inventoryItemName:c.name,changeQuantity:a.purchaseQuantity,sourceType:"inventory",sourceId:b.id,sourceReference:b.referenceNo,storeId:b.storeId,storeName:b.storeName,balanceAfter:c.currentStock,createdAt:new Date().toISOString()};bO.push(e)}}),Promise.resolve(b)):Promise.reject(Error("Entry not found"))},bS=a=>{let b=[...bK];return a?.status&&(b=b.filter(b=>b.status===a.status)),a?.lowStockOnly&&(b=b.filter(a=>a.currentStock<=a.lowStockThreshold)),Promise.resolve(b)},bT=a=>Promise.resolve(bK.find(b=>b.id===a)||null),bU=a=>Promise.resolve(bL.find(b=>b.id===a)||null),bV=()=>Promise.resolve([...bM]),bW=a=>Promise.resolve(bM.find(b=>b.id===a)||null),bX=a=>{let b={id:bP("VEN"),...a,totalPurchases:0,totalPaid:0,totalDue:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return bM.push(b),Promise.resolve(b)};a.s(["AddInventoryPage",0,()=>{let a=(0,ad.useRouter)(),[d,e]=(0,c.useState)(!0),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(new Date().toISOString().split("T")[0]),[r,s]=(0,c.useState)("Draft"),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(0),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)([]);(0,c.useEffect)(()=>{V()},[]);let V=async()=>{try{let[a,b]=await Promise.all([bV(),bS({status:"Active"})]);i(a),k(b)}catch(a){console.error("Failed to load data:",a)}finally{e(!1)}};(0,c.useEffect)(()=>{if(!P.trim())return void U([]);let a=P.toLowerCase();U(j.filter(b=>b.name.toLowerCase().includes(a)||b.sku.toLowerCase().includes(a)).slice(0,5))},[P,j]),(0,c.useEffect)(()=>{if(!n){let a=Date.now();o(`PO-${new Date().getFullYear()}-${a.toString().slice(-6)}`)}},[n]);let W=(a,b,c)=>{y(x.map(d=>{if(d.id!==a)return d;let e={...d,[b]:c};if("purchaseQuantity"===b||"unitCostBeforeTax"===b||"taxPercentage"===b){let a=e.purchaseQuantity,b=e.unitCostBeforeTax,c=e.taxPercentage;e.subtotal=a*b;let d=c/100*b;e.unitCostAfterTax=b+d,e.taxAmount=d*a,e.lineTotal=e.subtotal+e.taxAmount}return e}))},X=async()=>{if(!B)return alert("Vendor Name is required");J(!0);try{let a=await bX({name:B,contactPerson:D,phone:F,status:"Active"});i([...h,a]),m(a.id),A(!1),C(""),E(""),H("")}catch(a){alert("Failed to create vendor: "+a.message)}finally{J(!1)}},Y=x.reduce((a,b)=>a+b.subtotal,0),Z=x.reduce((a,b)=>a+b.taxAmount,0),$=Y+Z+K,_=async(b="Draft")=>{if(!l)return void alert("Please select a supplier");if(0===x.length)return void alert("Please add at least one product");g(!0);try{var c,d,e;let f,g,h;await (c={supplierId:l,storeId:"STORE001",inventoryDate:p,expectedDeliveryDate:p,referenceNo:n,inventoryStatus:b,products:x,additionalNotes:N,shippingCharges:K,purchaseTax:Z,otherExpenses:0},d="USER001",e="Admin User",(h={id:bP("IE"),referenceNo:c.referenceNo||(f=new Date().getFullYear(),g=Date.now().toString().slice(-6),`PO-${f}-${g}`),supplierId:c.supplierId,supplierName:bM.find(a=>a.id===c.supplierId)?.name||"",storeId:c.storeId,storeName:"Main Store",inventoryDate:c.inventoryDate,inventoryStatus:c.inventoryStatus,paymentStatus:"Unpaid",payTerm:c.payTerm,attachedDocument:c.attachedDocument,products:c.products.map(a=>({...a,id:bP("IEP"),inventoryItemName:bK.find(b=>b.id===a.inventoryItemId)?.name||""})),purchaseTax:c.purchaseTax,shippingCharges:c.shippingCharges,additionalNotes:c.additionalNotes,subtotal:c.products.reduce((a,b)=>a+b.subtotal,0),totalTax:c.products.reduce((a,b)=>a+b.taxAmount,0)+c.purchaseTax,grandTotal:0,paymentDue:0,createdBy:d,createdByName:e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}).grandTotal=h.subtotal+h.totalTax+h.shippingCharges,h.paymentDue=h.grandTotal,bJ.push(h),Promise.resolve(h)),alert(`Inventory Entry ${"Received"===b?"Received":"Saved"} successfully!`),a.push("/backoffice/inventory/entries")}catch(a){console.error("Failed to save:",a),alert("Failed to save entry: "+a.message)}finally{g(!1)}};return d?(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsx)(bH,{className:"w-8 h-8 text-emerald-600 animate-spin"})}):(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Add Inventory"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Create new stock purchase order"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsx)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Supplier *"}),(0,b.jsxs)("select",{value:l,onChange:a=>m(a.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none",children:[(0,b.jsx)("option",{value:"",children:"Select Supplier"}),h.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,b.jsxs)("button",{onClick:()=>A(!0),className:"mt-2 text-xs font-bold text-emerald-600 hover:text-emerald-700 flex items-center gap-1",children:[(0,b.jsx)(M.Plus,{size:12})," Add New Supplier"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Date"}),(0,b.jsx)("input",{type:"date",value:p,onChange:a=>q(a.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Ref No."}),(0,b.jsx)("input",{type:"text",value:n,onChange:a=>o(a.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Status"}),(0,b.jsxs)("select",{value:r,onChange:a=>s(a.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none",children:[(0,b.jsx)("option",{value:"Draft",children:"Draft"}),(0,b.jsx)("option",{value:"Ordered",children:"Ordered"}),(0,b.jsx)("option",{value:"Received",children:"Received"}),(0,b.jsx)("option",{value:"Partial",children:"Partial"}),(0,b.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Pay Term"}),(0,b.jsx)("input",{type:"text",value:t,onChange:a=>u(a.target.value),placeholder:"e.g. Net 30",className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Attach Document"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("button",{onClick:()=>document.getElementById("file-upload")?.click(),className:"flex-1 px-4 py-2 bg-slate-50 border border-slate-200 border-dashed rounded-xl text-sm font-bold text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-all flex items-center justify-center gap-2",children:[(0,b.jsx)(bI,{size:16}),v?"Document Attached":"Upload File"]}),(0,b.jsx)("input",{id:"file-upload",type:"file",className:"hidden",onChange:a=>w(a.target.files?.[0]?.name||null)}),v&&(0,b.jsx)("button",{onClick:()=>w(null),className:"p-2 text-rose-500 hover:bg-rose-50 rounded-lg",children:(0,b.jsx)(ar,{size:16})})]})]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-4",children:(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(G.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:P,onChange:a=>{Q(a.target.value),S(!0)},onFocus:()=>S(!0),placeholder:"Search product to add...",className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none"}),R&&T.length>0&&(0,b.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-10 max-h-60 overflow-y-auto",children:T.map(a=>(0,b.jsxs)("button",{onClick:()=>{y([...x,{id:`IEP${Date.now()}`,inventoryItemId:a.id,inventoryItemName:a.name,sku:a.sku,unitCostBeforeTax:a.averageCost,taxPercentage:0,taxAmount:0,unitCostAfterTax:a.averageCost,purchaseQuantity:1,subtotal:+a.averageCost,lineTotal:+a.averageCost}]),Q(""),S(!1)},className:"w-full px-4 py-3 text-left hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["SKU: ",a.sku]})]},a.id))})]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[(0,b.jsx)("th",{className:"px-4 py-3",children:"Product"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right",children:"Qty"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right",children:"Unit Cost"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right",children:"Tax %"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right",children:"Total"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===x.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-slate-400 font-medium",children:"No products added. Search above to add items."})}):x.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50/50",children:[(0,b.jsxs)("td",{className:"px-4 py-3",children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900",children:a.inventoryItemName}),(0,b.jsx)("div",{className:"text-[10px] text-slate-400",children:a.sku})]}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsx)("input",{type:"number",value:a.purchaseQuantity,onChange:b=>W(a.id,"purchaseQuantity",parseFloat(b.target.value)||0),className:"w-20 px-2 py-1 bg-white border border-slate-200 rounded text-right text-sm focus:border-emerald-600 outline-none",min:"1"})}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsx)("input",{type:"number",value:a.unitCostBeforeTax,onChange:b=>W(a.id,"unitCostBeforeTax",parseFloat(b.target.value)||0),className:"w-24 px-2 py-1 bg-white border border-slate-200 rounded text-right text-sm focus:border-emerald-600 outline-none",min:"0",step:"0.01"})}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsx)("input",{type:"number",value:a.taxPercentage,onChange:b=>W(a.id,"taxPercentage",parseFloat(b.target.value)||0),className:"w-16 px-2 py-1 bg-white border border-slate-200 rounded text-right text-sm focus:border-emerald-600 outline-none",min:"0",max:"100"})}),(0,b.jsxs)("td",{className:"px-4 py-3 text-right text-sm font-black text-slate-900",children:["$",a.lineTotal.toFixed(2)]}),(0,b.jsx)("td",{className:"px-4 py-3 text-center",children:(0,b.jsx)("button",{onClick:()=>{var b;return b=a.id,void y(x.filter(a=>a.id!==b))},className:"text-slate-400 hover:text-rose-600 transition-colors",children:(0,b.jsx)(ar,{size:16})})})]},a.id))})]})})]})]}),(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Shipping Charges"}),(0,b.jsx)("input",{type:"number",value:K,onChange:a=>L(parseFloat(a.target.value)||0),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Additional Notes"}),(0,b.jsx)("textarea",{value:N,onChange:a=>O(a.target.value),rows:3,className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 outline-none resize-none"})]}),(0,b.jsxs)("div",{className:"pt-4 border-t border-slate-100 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-600 font-medium",children:"Subtotal"}),(0,b.jsxs)("span",{className:"font-bold text-slate-900",children:["$",Y.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-600 font-medium",children:"Total Tax"}),(0,b.jsxs)("span",{className:"font-bold text-emerald-600",children:["$",Z.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-600 font-medium",children:"Shipping"}),(0,b.jsxs)("span",{className:"font-bold text-slate-900",children:["$",K.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-lg pt-2 border-t border-slate-100",children:[(0,b.jsx)("span",{className:"font-black text-slate-900 uppercase",children:"Grand Total"}),(0,b.jsxs)("span",{className:"font-black text-emerald-600",children:["$",$.toFixed(2)]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-6",children:[(0,b.jsx)("button",{onClick:()=>_("Draft"),disabled:f,className:"flex-1 py-3 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all disabled:opacity-50",children:"Save Draft"}),(0,b.jsx)("button",{onClick:()=>_("Received"===r?"Received":"Ordered"),disabled:f,className:"flex-[2] py-3 bg-emerald-600 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all disabled:opacity-50",children:f?"Saving...":"Received"===r?"Recieve Now":"Create Order"})]})]})})]}),z&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200",children:[(0,b.jsx)("h2",{className:"text-xl font-black text-slate-900 mb-6",children:"Add New Supplier"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Supplier Name *"}),(0,b.jsx)("input",{type:"text",value:B,onChange:a=>C(a.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-900 focus:border-emerald-500 outline-none",placeholder:"e.g. Acme Supplies"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Contact Person"}),(0,b.jsx)("input",{type:"text",value:D,onChange:a=>E(a.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-900 focus:border-emerald-500 outline-none",placeholder:"e.g. John Doe"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Phone"}),(0,b.jsx)("input",{type:"text",value:F,onChange:a=>H(a.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-900 focus:border-emerald-500 outline-none",placeholder:"e.g. +1 234 567 890"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-8",children:[(0,b.jsx)("button",{onClick:()=>A(!1),className:"flex-1 py-3 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200",children:"Cancel"}),(0,b.jsx)("button",{onClick:X,disabled:I,className:"flex-1 py-3 bg-emerald-600 text-white rounded-xl text-sm font-black uppercase tracking-widest hover:bg-emerald-700 disabled:opacity-50",children:I?"Saving...":"Add Supplier"})]})]})})]})}],80534),a.s(["InventoryEntriesPage",0,()=>{let a=(0,ad.useRouter)(),[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1),t=bC.filter(a=>!(d&&!a.referenceNo.toLowerCase().includes(d.toLowerCase())||f&&a.storeId!==f||h&&a.supplierId!==h||j&&a.inventoryStatus!==j||l&&a.paymentStatus!==l||n&&new Date(a.inventoryDate)<new Date(n)||p&&new Date(a.inventoryDate)>new Date(p)));return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Inventory Entries"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"View all stock inward transactions"})]})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(G.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:d,onChange:a=>e(a.target.value),placeholder:"Search by reference number...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-emerald-600 transition-all"})]}),(0,b.jsxs)("button",{onClick:()=>s(!r),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all ${r?"bg-emerald-600 text-white":"bg-slate-50 border border-slate-200 text-slate-600 hover:bg-white"}`,children:[(0,b.jsx)(C.Filter,{size:14}),"Filters"]})]}),r&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4 border-t border-slate-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Supplier"}),(0,b.jsxs)("select",{value:h,onChange:a=>i(a.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600",children:[(0,b.jsx)("option",{value:"",children:"All Suppliers"}),bA.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Entry Status"}),(0,b.jsxs)("select",{value:j,onChange:a=>k(a.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600",children:[(0,b.jsx)("option",{value:"",children:"All Statuses"}),(0,b.jsx)("option",{value:"Draft",children:"Draft"}),(0,b.jsx)("option",{value:"Ordered",children:"Ordered"}),(0,b.jsx)("option",{value:"Received",children:"Received"}),(0,b.jsx)("option",{value:"Partial",children:"Partial"}),(0,b.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Payment Status"}),(0,b.jsxs)("select",{value:l,onChange:a=>m(a.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600",children:[(0,b.jsx)("option",{value:"",children:"All Statuses"}),(0,b.jsx)("option",{value:"Unpaid",children:"Unpaid"}),(0,b.jsx)("option",{value:"Partial",children:"Partial"}),(0,b.jsx)("option",{value:"Paid",children:"Paid"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:["Date From ",(0,b.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,b.jsx)("input",{type:"date",value:n,onChange:a=>o(a.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:["Date To ",(0,b.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,b.jsx)("input",{type:"date",value:p,onChange:a=>q(a.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600"})]}),(0,b.jsx)("div",{className:"flex items-end",children:(0,b.jsx)("button",{onClick:()=>{g(""),i(""),k(""),m(""),o(""),q("")},className:"w-full px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all",children:"Clear Filters"})})]})]}),(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("p",{className:"text-sm text-slate-600 font-medium",children:["Showing ",(0,b.jsx)("span",{className:"font-black text-slate-900",children:t.length})," entries"]})}),(0,b.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Action"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reference No"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Location"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Supplier"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Entry Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Payment Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Grand Total"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Payment Due"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Added By"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===t.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:10,className:"px-6 py-12 text-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)(B.Calendar,{size:32,className:"text-slate-300"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No entries found. Try adjusting your filters."})]})})}):t.map(c=>(0,b.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>a.push(`/backoffice/inventory/entries/${c.id}`),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"View",children:(0,b.jsx)(aW,{size:16})}),(0,b.jsx)("button",{onClick:()=>window.print(),className:"p-2 text-slate-400 hover:text-slate-900 transition-colors",title:"Print",children:(0,b.jsx)(K.Printer,{size:16})}),("Draft"===c.inventoryStatus||"Ordered"===c.inventoryStatus)&&(0,b.jsx)("button",{onClick:()=>a.push(`/backoffice/inventory/entries/${c.id}/edit`),className:"p-2 text-slate-400 hover:text-emerald-600 transition-colors",title:"Edit",children:(0,b.jsx)(am,{size:16})}),"Received"!==c.inventoryStatus&&"Partial"!==c.inventoryStatus&&(0,b.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to delete this entry?")&&alert("Delete functionality not connected to backend yet.")},className:"p-2 text-slate-400 hover:text-rose-600 transition-colors",title:"Delete",children:(0,b.jsx)(ar,{size:16})}),(0,b.jsx)("button",{onClick:()=>alert("Label printing would start here"),className:"p-2 text-slate-400 hover:text-violet-600 transition-colors",title:"Labels",children:(0,b.jsx)(V.Tag,{size:16})})]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:new Date(c.inventoryDate).toLocaleDateString()}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm font-black text-emerald-600",children:c.referenceNo}),(0,b.jsxs)("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:["ID: ",c.id]})]}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:c.storeName}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:c.supplierName}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${(a=>{switch(a){case"Received":return"bg-emerald-50 text-emerald-600 border-emerald-200";case"Partial":return"bg-blue-50 text-blue-600 border-blue-200";case"Ordered":return"bg-violet-50 text-violet-600 border-violet-200";case"Draft":return"bg-slate-50 text-slate-600 border-slate-200";case"Cancelled":return"bg-rose-50 text-rose-600 border-rose-200"}})(c.inventoryStatus)}`,children:c.inventoryStatus})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${(a=>{switch(a){case"Paid":return"bg-emerald-50 text-emerald-600 border-emerald-200";case"Partial":return"bg-amber-50 text-amber-600 border-amber-200";case"Unpaid":return"bg-rose-50 text-rose-600 border-rose-200"}})(c.paymentStatus)}`,children:c.paymentStatus})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("div",{className:"text-sm font-black text-slate-900 tabular-nums",children:["$",c.grandTotal.toFixed(2)]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("div",{className:`text-sm font-black tabular-nums ${c.paymentDue>0?"text-rose-600":"text-emerald-600"}`,children:["$",c.paymentDue.toFixed(2)]})}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-600",children:c.createdByName}),(0,b.jsx)("div",{className:"text-[10px] text-slate-400 font-medium",children:new Date(c.createdAt).toLocaleString()})]})]},c.id))})]})})})]})}],93371);let bY=(0,g.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);a.s(["ListInventoryPage",0,()=>{let a=(0,ad.useRouter)(),[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(!1),l=bB.filter(a=>(!d||!!a.name.toLowerCase().includes(d.toLowerCase())||!!a.sku.toLowerCase().includes(d.toLowerCase()))&&(!f||a.status===f)&&(!h||!(a.currentStock>a.lowStockThreshold))),m=bB.filter(a=>a.currentStock<=a.lowStockThreshold).length,n=bB.reduce((a,b)=>a+b.currentStock*b.averageCost,0);return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"List Inventory"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Canonical list of inventory items (ingredients)"})]}),(0,b.jsxs)("button",{onClick:()=>a.push("/backoffice/inventory/items/create"),className:"flex items-center gap-2 px-5 py-2.5 bg-emerald-600 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all active:scale-95",children:[(0,b.jsx)(M.Plus,{size:16,strokeWidth:3}),"Add Item"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200",children:(0,b.jsx)(_.Package,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Total Items"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-emerald-900 tracking-tight",children:bB.length}),(0,b.jsx)("div",{className:"text-xs text-emerald-600 font-bold mt-1",children:"Active Ingredients"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,b.jsx)(bY,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-blue-600 uppercase tracking-widest",children:"Total Value"})]}),(0,b.jsxs)("div",{className:"text-3xl font-black text-blue-900 tracking-tight",children:["$",n.toFixed(2)]}),(0,b.jsx)("div",{className:"text-xs text-blue-600 font-bold mt-1",children:"Current Stock Value"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-3xl border border-amber-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-amber-600 rounded-2xl shadow-lg shadow-amber-200",children:(0,b.jsx)(bz,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-amber-600 uppercase tracking-widest",children:"Low Stock"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-amber-900 tracking-tight",children:m}),(0,b.jsx)("div",{className:"text-xs text-amber-600 font-bold mt-1",children:"Items Below Threshold"})]})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(G.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:d,onChange:a=>e(a.target.value),placeholder:"Search by item name or SKU...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-emerald-600 transition-all"})]}),(0,b.jsxs)("button",{onClick:()=>k(!j),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all ${j?"bg-emerald-600 text-white":"bg-slate-50 border border-slate-200 text-slate-600 hover:bg-white"}`,children:[(0,b.jsx)(C.Filter,{size:14}),"Filters"]})]}),j&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-slate-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Status"}),(0,b.jsxs)("select",{value:f,onChange:a=>g(a.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600",children:[(0,b.jsx)("option",{value:"",children:"All Statuses"}),(0,b.jsx)("option",{value:"Active",children:"Active"}),(0,b.jsx)("option",{value:"Inactive",children:"Inactive"})]})]}),(0,b.jsx)("div",{className:"flex items-end",children:(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:h,onChange:a=>i(a.target.checked),className:"w-4 h-4 text-emerald-600 border-slate-300 rounded focus:ring-emerald-500"}),(0,b.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Show Low Stock Only"})]})}),(0,b.jsx)("div",{className:"flex items-end",children:(0,b.jsx)("button",{onClick:()=>{g(""),i(!1)},className:"w-full px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all",children:"Clear Filters"})})]})]}),(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("p",{className:"text-sm text-slate-600 font-medium",children:["Showing ",(0,b.jsx)("span",{className:"font-black text-slate-900",children:l.length})," items"]})}),(0,b.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Item Name"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"SKU"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Base Unit"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Current Stock"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Average Cost"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Stock Value"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Low Stock Threshold"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===l.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:9,className:"px-6 py-12 text-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)(_.Package,{size:32,className:"text-slate-300"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No items found. Try adjusting your filters."})]})})}):l.map(c=>{let d=c.currentStock<=c.lowStockThreshold,e=c.currentStock*c.averageCost;return(0,b.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm font-black text-slate-900",children:c.name}),c.description&&(0,b.jsx)("div",{className:"text-xs text-slate-500 font-medium mt-1",children:c.description})]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold border border-slate-200",children:c.sku})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:c.baseUnit}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right",children:[(0,b.jsx)("div",{className:`text-sm font-black tabular-nums ${d?"text-rose-600":"text-slate-900"}`,children:c.currentStock.toFixed(2)}),d&&(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1 mt-1",children:[(0,b.jsx)(bz,{size:12,className:"text-rose-500"}),(0,b.jsx)("span",{className:"text-[10px] text-rose-500 font-bold uppercase",children:"Low"})]})]}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("div",{className:"text-sm font-black text-slate-900 tabular-nums",children:["$",c.averageCost.toFixed(2)]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("div",{className:"text-sm font-black text-emerald-600 tabular-nums",children:["$",e.toFixed(2)]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsx)("div",{className:"text-sm font-bold text-slate-600 tabular-nums",children:c.lowStockThreshold})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${"Active"===c.status?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-slate-100 text-slate-400 border-slate-200"}`,children:c.status})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>a.push(`/backoffice/inventory/items/${c.id}`),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"View Item",children:(0,b.jsx)(aW,{size:16})}),(0,b.jsx)("button",{onClick:()=>a.push(`/backoffice/inventory/items/${c.id}/edit`),className:"p-2 text-slate-400 hover:text-emerald-600 transition-colors",title:"Edit Item",children:(0,b.jsx)(am,{size:16})}),(0,b.jsx)("button",{onClick:()=>a.push(`/backoffice/inventory/items/${c.id}/ledger`),className:"p-2 text-slate-400 hover:text-violet-600 transition-colors",title:"View Ledger",children:(0,b.jsx)(I.FileText,{size:16})})]})})]},c.id)})})]})})})]})}],46203);let bZ=(0,g.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["RecipesPage",0,()=>{let a=(0,ad.useRouter)(),[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(""),h=bD.filter(a=>(!d||!!a.name.toLowerCase().includes(d.toLowerCase()))&&(!f||a.status===f)),j=bD.length,k=bD.filter(a=>"Active"===a.status).length,l=bD.reduce((a,b)=>a+b.totalRecipeCost,0)/bD.length;return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Recipes (BOM & Costing)"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Bill of Materials and automatic cost calculation"})]}),(0,b.jsxs)("button",{onClick:()=>a.push("/backoffice/inventory/recipes/create"),className:"flex items-center gap-2 px-5 py-2.5 bg-orange-600 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-orange-200 hover:bg-orange-700 transition-all active:scale-95",children:[(0,b.jsx)(M.Plus,{size:16,strokeWidth:3}),"Create Recipe"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-3xl border border-orange-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-orange-600 rounded-2xl shadow-lg shadow-orange-200",children:(0,b.jsx)(aA,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-orange-600 uppercase tracking-widest",children:"Total Recipes"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-orange-900 tracking-tight",children:j}),(0,b.jsxs)("div",{className:"text-xs text-orange-600 font-bold mt-1",children:[k," Active"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200",children:(0,b.jsx)(aA,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Avg Cost"})]}),(0,b.jsxs)("div",{className:"text-3xl font-black text-emerald-900 tracking-tight",children:["$",l.toFixed(2)]}),(0,b.jsx)("div",{className:"text-xs text-emerald-600 font-bold mt-1",children:"Per Recipe"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,b.jsx)(aA,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-blue-600 uppercase tracking-widest",children:"In Use"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-blue-900 tracking-tight",children:bD.reduce((a,b)=>a+b.usedByProductCount,0)}),(0,b.jsx)("div",{className:"text-xs text-blue-600 font-bold mt-1",children:"Product Attachments"})]})]}),(0,b.jsx)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(G.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:d,onChange:a=>e(a.target.value),placeholder:"Search recipes by name...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-orange-600 transition-all"})]}),(0,b.jsxs)("select",{value:f,onChange:a=>g(a.target.value),className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-600 focus:border-orange-600",children:[(0,b.jsx)("option",{value:"",children:"All Statuses"}),(0,b.jsx)("option",{value:"Active",children:"Active"}),(0,b.jsx)("option",{value:"Inactive",children:"Inactive"})]})]})}),(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("p",{className:"text-sm text-slate-600 font-medium",children:["Showing ",(0,b.jsx)("span",{className:"font-black text-slate-900",children:h.length})," recipes"]})}),(0,b.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Recipe Name"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Total Ingredients"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total Recipe Cost"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Used By (Products)"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Last Updated"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===h.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)(aA,{size:32,className:"text-slate-300"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No recipes found. Create your first recipe to get started."})]})})}):h.map(c=>(0,b.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-orange-100 rounded-xl",children:(0,b.jsx)(aA,{size:16,className:"text-orange-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-black text-slate-900",children:c.name}),c.description&&(0,b.jsx)("div",{className:"text-xs text-slate-500 font-medium mt-1",children:c.description})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("span",{className:"px-3 py-1 bg-slate-100 text-slate-900 rounded-lg text-sm font-black border border-slate-200",children:c.ingredients.length})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("div",{className:"text-base font-black text-emerald-600 tabular-nums",children:["$",c.totalRecipeCost.toFixed(2)]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-sm font-black border border-blue-200",children:c.usedByProductCount})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${"Active"===c.status?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-slate-100 text-slate-400 border-slate-200"}`,children:c.status})}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-600",children:new Date(c.updatedAt).toLocaleDateString()}),(0,b.jsx)("div",{className:"text-xs text-slate-400 font-medium",children:new Date(c.updatedAt).toLocaleTimeString()})]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>a.push(`/backoffice/inventory/recipes/${c.id}`),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"View",children:(0,b.jsx)(aW,{size:16})}),(0,b.jsx)("button",{onClick:()=>a.push(`/backoffice/inventory/recipes/${c.id}/edit`),className:"p-2 text-slate-400 hover:text-emerald-600 transition-colors",title:"Edit",children:(0,b.jsx)(am,{size:16})}),(0,b.jsx)("button",{onClick:()=>{},className:"p-2 text-slate-400 hover:text-violet-600 transition-colors",title:"Duplicate",children:(0,b.jsx)(bZ,{size:16})}),(0,b.jsx)("button",{disabled:c.usedByProductCount>0,className:`p-2 transition-colors ${c.usedByProductCount>0?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-rose-600"}`,title:c.usedByProductCount>0?"Cannot delete - attached to products":"Delete",children:(0,b.jsx)(ar,{size:16})})]})})]},c.id))})]})})}),(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-3xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,b.jsx)(i.AlertCircle,{size:20,className:"text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-black text-blue-900 tracking-tight mb-2",children:"Recipe Rules"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-blue-700 font-medium",children:[(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,b.jsxs)("span",{children:["Recipes use ",(0,b.jsx)("strong",{children:"Inventory Items ONLY"})," - vendor changes never affect recipes"]})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,b.jsxs)("span",{children:["One recipe can attach to ",(0,b.jsx)("strong",{children:"multiple products"})]})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,b.jsxs)("span",{children:["Recipe cost is ",(0,b.jsx)("strong",{children:"auto-calculated"})," - no manual overrides allowed"]})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,b.jsxs)("span",{children:["Inventory deduction ",(0,b.jsx)("strong",{children:"always via recipe ingredients"})]})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{children:"NO discounts"})," or manual cost overrides"]})]})]})]})]})})]})}],83917),a.s(["ListReturnsPage",0,()=>{let a=(0,ad.useRouter)(),[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(!1),n=bE.filter(a=>!(d&&!a.referenceNo.toLowerCase().includes(d.toLowerCase())||f&&a.returnType!==f||h&&new Date(a.returnDate)<new Date(h)||j&&new Date(a.returnDate)>new Date(j))),o=bE.length,p=bE.reduce((a,b)=>a+b.totalAmount,0);return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Inventory Returns"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"View returns, wastage, and adjustments"})]}),(0,b.jsxs)("button",{onClick:()=>a.push("/backoffice/inventory/returns/create"),className:"flex items-center gap-2 px-5 py-2.5 bg-rose-600 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-rose-200 hover:bg-rose-700 transition-all active:scale-95",children:[(0,b.jsx)(M.Plus,{size:16,strokeWidth:3}),"Create Return"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100 p-6 rounded-3xl border border-rose-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-rose-600 rounded-2xl shadow-lg shadow-rose-200",children:(0,b.jsx)(D.RotateCcw,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-rose-600 uppercase tracking-widest",children:"Total Returns"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-rose-900 tracking-tight",children:o}),(0,b.jsx)("div",{className:"text-xs text-rose-600 font-bold mt-1",children:"All Time"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-3xl border border-amber-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-amber-600 rounded-2xl shadow-lg shadow-amber-200",children:(0,b.jsx)(D.RotateCcw,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-amber-600 uppercase tracking-widest",children:"Total Amount"})]}),(0,b.jsxs)("div",{className:"text-3xl font-black text-amber-900 tracking-tight",children:["$",p.toFixed(2)]}),(0,b.jsx)("div",{className:"text-xs text-amber-600 font-bold mt-1",children:"Return Value"})]})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(G.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:d,onChange:a=>e(a.target.value),placeholder:"Search by reference number...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-rose-600 transition-all"})]}),(0,b.jsxs)("button",{onClick:()=>m(!l),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all ${l?"bg-rose-600 text-white":"bg-slate-50 border border-slate-200 text-slate-600 hover:bg-white"}`,children:[(0,b.jsx)(C.Filter,{size:14}),"Filters"]})]}),l&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-slate-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Return Type"}),(0,b.jsxs)("select",{value:f,onChange:a=>g(a.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600",children:[(0,b.jsx)("option",{value:"",children:"All Types"}),(0,b.jsx)("option",{value:"Supplier Return",children:"Supplier Return"}),(0,b.jsx)("option",{value:"Damaged",children:"Damaged"}),(0,b.jsx)("option",{value:"Expired",children:"Expired"}),(0,b.jsx)("option",{value:"Adjustment",children:"Adjustment"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Date From"}),(0,b.jsx)("input",{type:"date",value:h,onChange:a=>i(a.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Date To"}),(0,b.jsx)("input",{type:"date",value:j,onChange:a=>k(a.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600"})]})]})]}),(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("p",{className:"text-sm text-slate-600 font-medium",children:["Showing ",(0,b.jsx)("span",{className:"font-black text-slate-900",children:n.length})," returns"]})}),(0,b.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reference No"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Return Type"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Supplier"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Location"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total Amount"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reason"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Created By"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===n.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:9,className:"px-6 py-12 text-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)(B.Calendar,{size:32,className:"text-slate-300"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No returns found. Try adjusting your filters."})]})})}):n.map(c=>(0,b.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:new Date(c.returnDate).toLocaleDateString()}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm font-black text-rose-600",children:c.referenceNo}),(0,b.jsxs)("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:["ID: ",c.id]})]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${(a=>{switch(a){case"Supplier Return":return"bg-blue-50 text-blue-600 border-blue-200";case"Damaged":return"bg-rose-50 text-rose-600 border-rose-200";case"Expired":return"bg-amber-50 text-amber-600 border-amber-200";case"Adjustment":return"bg-violet-50 text-violet-600 border-violet-200"}})(c.returnType)}`,children:c.returnType})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:c.supplierName||"-"}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:c.storeName}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("div",{className:"text-sm font-black text-rose-600 tabular-nums",children:["$",c.totalAmount.toFixed(2)]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"text-sm text-slate-600 font-medium max-w-xs truncate",children:c.reason||"-"})}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-600",children:c.createdByName}),(0,b.jsx)("div",{className:"text-[10px] text-slate-400 font-medium",children:new Date(c.createdAt).toLocaleString()})]}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("button",{onClick:()=>a.push(`/backoffice/inventory/returns/${c.id}`),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"View",children:(0,b.jsx)(aW,{size:16})})})]},c.id))})]})})})]})}],29771),a.s(["VendorsPage",0,()=>{let a=(0,ad.useRouter)(),{role:d}=(0,q.useRouteAccess)(),[e,f]=(0,c.useState)(""),g="ADMIN"===d,h="ADMIN"===d,i=bA.filter(a=>!e||!!a.name.toLowerCase().includes(e.toLowerCase())),j=bA.length,k=bA.reduce((a,b)=>a+b.totalPurchases,0),l=bA.reduce((a,b)=>a+b.totalDue,0);return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Vendors"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Manage suppliers and vendor relationships"})]}),"ADMIN"===d&&(0,b.jsxs)("button",{onClick:()=>a.push("/backoffice/inventory/vendors/create"),className:"flex items-center gap-2 px-5 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95",children:[(0,b.jsx)(M.Plus,{size:16,strokeWidth:3}),"Add Vendor"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 p-6 rounded-3xl border border-slate-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-900 rounded-2xl shadow-lg shadow-slate-200",children:(0,b.jsx)(a7.Users,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-slate-600 uppercase tracking-widest",children:"Total Vendors"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-slate-900 tracking-tight",children:j}),(0,b.jsx)("div",{className:"text-xs text-slate-600 font-bold mt-1",children:"Active Suppliers"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200",children:(0,b.jsx)(ae.TrendingUp,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Total Purchases"})]}),(0,b.jsxs)("div",{className:"text-3xl font-black text-emerald-900 tracking-tight",children:["$",k.toFixed(2)]}),(0,b.jsx)("div",{className:"text-xs text-emerald-600 font-bold mt-1",children:"All Time"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100 p-6 rounded-3xl border border-rose-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-rose-600 rounded-2xl shadow-lg shadow-rose-200",children:(0,b.jsx)(Z.DollarSign,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-rose-600 uppercase tracking-widest",children:"Total Due"})]}),(0,b.jsxs)("div",{className:"text-3xl font-black text-rose-900 tracking-tight",children:["$",l.toFixed(2)]}),(0,b.jsx)("div",{className:"text-xs text-rose-600 font-bold mt-1",children:"Outstanding Payments"})]})]}),(0,b.jsx)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(G.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:e,onChange:a=>f(a.target.value),placeholder:"Search vendors by name...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-sm focus:border-slate-900 transition-all"})]})}),(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("p",{className:"text-sm text-slate-600 font-medium",children:["Showing ",(0,b.jsx)("span",{className:"font-black text-slate-900",children:i.length})," vendors"]})}),(0,b.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Vendor Name"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contact"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total Purchases"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total Paid"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total Due"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Last Inventory Date"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===i.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)(a7.Users,{size:32,className:"text-slate-300"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No vendors found. Add your first vendor to get started."})]})})}):i.map(c=>(0,b.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-slate-100 rounded-xl",children:(0,b.jsx)(a7.Users,{size:16,className:"text-slate-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-black text-slate-900",children:c.name}),(0,b.jsxs)("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:["ID: ",c.id]})]})]})}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900",children:c.contactPerson||"-"}),(0,b.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:c.phone||"-"}),(0,b.jsx)("div",{className:"text-xs text-slate-500 font-medium",children:c.email||"-"})]}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("div",{className:"text-sm font-black text-slate-900 tabular-nums",children:["$",c.totalPurchases.toFixed(2)]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("div",{className:"text-sm font-black text-emerald-600 tabular-nums",children:["$",c.totalPaid.toFixed(2)]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("div",{className:`text-sm font-black tabular-nums ${c.totalDue>0?"text-rose-600":"text-slate-400"}`,children:["$",c.totalDue.toFixed(2)]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"text-sm font-bold text-slate-600",children:c.lastInventoryDate?new Date(c.lastInventoryDate).toLocaleDateString():"-"})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>a.push(`/backoffice/inventory/vendors/${c.id}`),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"View Vendor",children:(0,b.jsx)(aW,{size:16})}),(0,b.jsx)("button",{onClick:()=>a.push(`/backoffice/inventory/add?vendor=${c.id}`),className:"p-2 text-slate-400 hover:text-emerald-600 transition-colors",title:"Add Inventory",children:(0,b.jsx)(bi,{size:16})}),g&&(0,b.jsx)("button",{onClick:()=>a.push(`/backoffice/inventory/vendors/${c.id}/edit`),className:"p-2 text-slate-400 hover:text-violet-600 transition-colors",title:"Edit Vendor",children:(0,b.jsx)(am,{size:16})}),h&&(0,b.jsx)("button",{className:"p-2 text-slate-400 hover:text-rose-600 transition-colors",title:"Delete Vendor",children:(0,b.jsx)(ar,{size:16})})]})})]},c.id))})]})})})]})}],71370);let b$=(0,g.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["InventoryEntryDetailPage",0,()=>{let a=(0,ad.useRouter)(),{id:d}=(0,ad.useParams)(),{role:e}=(0,q.useRouteAccess)(),[f,g]=(0,c.useState)(null),[h,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1);(0,c.useEffect)(()=>{o()},[d]);let o=async()=>{if(d){j(!0);try{let a=await bQ(d);g(a)}catch(a){console.error("Failed to load entry:",a)}finally{j(!1)}}},p=async()=>{if(f&&d){n(!0);try{await bR(d),await o(),alert("Inventory received successfully! Stock has been updated.")}catch(a){alert(a.message||"Failed to receive inventory")}finally{n(!1)}}},r=async()=>{if(d){n(!0);try{var b,c;let f;await (b=d,c=e||"",(f=bJ.find(a=>a.id===b))?"ADMIN"!==c?Promise.reject(Error("Only admins can delete entries")):"Received"===f.inventoryStatus||"Partial"===f.inventoryStatus?Promise.reject(Error("Cannot delete received inventory")):(bJ=bJ.filter(a=>a.id!==b),Promise.resolve(!0)):Promise.reject(Error("Entry not found"))),alert("Entry deleted successfully"),a.push("/backoffice/inventory/entries")}catch(a){alert(a.message||"Failed to delete entry")}finally{n(!1),l(!1)}}},s=f&&("Draft"===f.inventoryStatus||"Ordered"===f.inventoryStatus),t="ADMIN"===e&&f&&"Received"!==f.inventoryStatus&&"Partial"!==f.inventoryStatus,u=f&&"Received"!==f.inventoryStatus&&"Cancelled"!==f.inventoryStatus;return h?(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(Q,{className:"w-12 h-12 text-slate-400 animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading entry..."})]})}):f?(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/entries"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Inventory Entry Details"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:f.referenceNo})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all",children:[(0,b.jsx)(K.Printer,{size:14}),"Print"]}),s&&(0,b.jsxs)("button",{onClick:()=>a.push(`/backoffice/inventory/entries/${d}/edit`),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-xs font-bold hover:bg-blue-700 transition-all",children:[(0,b.jsx)(am,{size:14}),"Edit"]}),u&&(0,b.jsxs)("button",{onClick:p,disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-700 transition-all disabled:opacity-50",children:[(0,b.jsx)(b$,{size:14}),"Receive Inventory"]}),t&&(0,b.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-xl text-xs font-bold hover:bg-rose-700 transition-all",children:[(0,b.jsx)(ar,{size:14}),"Delete"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Status"}),(0,b.jsx)("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${(a=>{switch(a){case"Draft":return"bg-slate-100 text-slate-600 border-slate-200";case"Ordered":return"bg-blue-50 text-blue-600 border-blue-200";case"Received":return"bg-emerald-50 text-emerald-600 border-emerald-200";case"Partial":return"bg-amber-50 text-amber-600 border-amber-200";case"Cancelled":return"bg-rose-50 text-rose-600 border-rose-200"}})(f.inventoryStatus)}`,children:f.inventoryStatus})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Payment Status"}),(0,b.jsx)("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${(a=>{switch(a){case"Paid":return"bg-emerald-50 text-emerald-600 border-emerald-200";case"Unpaid":return"bg-rose-50 text-rose-600 border-rose-200";case"Partial":return"bg-amber-50 text-amber-600 border-amber-200"}})(f.paymentStatus)}`,children:f.paymentStatus})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Date"}),(0,b.jsx)("div",{className:"text-sm font-black text-slate-900",children:new Date(f.inventoryDate).toLocaleDateString()})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Grand Total"}),(0,b.jsxs)("div",{className:"text-lg font-black text-emerald-600",children:["$",f.grandTotal.toFixed(2)]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 bg-slate-50 border-b border-slate-200",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Supplier"}),(0,b.jsx)("div",{className:"text-base font-black text-slate-900",children:f.supplierName})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Business Location"}),(0,b.jsx)("div",{className:"text-base font-black text-slate-900",children:f.storeName})]}),f.payTerm&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Payment Terms"}),(0,b.jsx)("div",{className:"text-sm font-bold text-slate-600",children:f.payTerm})]}),f.attachedDocument&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Attached Document"}),(0,b.jsx)("a",{href:f.attachedDocument,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-bold text-blue-600 hover:underline",children:"View Document"})]})]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"#"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Product Name"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"SKU"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Purchase Qty"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Unit Cost (Before Tax)"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Subtotal"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Tax %"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Tax Amount"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Unit Cost (After Tax)"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Line Total"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:f.products.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50/50",children:[(0,b.jsx)("td",{className:"px-4 py-3 text-sm font-bold text-slate-600",children:c+1}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm font-black text-slate-900",children:a.inventoryItemName}),(0,b.jsx)("td",{className:"px-4 py-3 text-xs font-bold text-slate-500",children:a.sku||"-"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm font-black text-slate-900 text-right tabular-nums",children:a.purchaseQuantity}),(0,b.jsxs)("td",{className:"px-4 py-3 text-sm font-bold text-slate-600 text-right tabular-nums",children:["$",a.unitCostBeforeTax.toFixed(2)]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-sm font-bold text-slate-600 text-right tabular-nums",children:["$",a.subtotal.toFixed(2)]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-sm font-bold text-slate-600 text-right tabular-nums",children:[a.taxPercentage,"%"]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-sm font-bold text-slate-600 text-right tabular-nums",children:["$",a.taxAmount.toFixed(2)]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-sm font-black text-emerald-600 text-right tabular-nums",children:["$",a.unitCostAfterTax.toFixed(2)]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-base font-black text-slate-900 text-right tabular-nums",children:["$",a.lineTotal.toFixed(2)]})]},a.id))})]})}),(0,b.jsx)("div",{className:"p-6 bg-slate-50 border-t border-slate-200",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)("div",{className:"space-y-4",children:f.additionalNotes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Additional Notes"}),(0,b.jsx)("div",{className:"text-sm text-slate-600",children:f.additionalNotes})]})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Subtotal:"}),(0,b.jsxs)("span",{className:"text-base font-black text-slate-900 tabular-nums",children:["$",f.subtotal.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Purchase Tax:"}),(0,b.jsxs)("span",{className:"text-base font-black text-slate-900 tabular-nums",children:["$",f.purchaseTax.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Product Tax:"}),(0,b.jsxs)("span",{className:"text-base font-black text-slate-900 tabular-nums",children:["$",(f.totalTax-f.purchaseTax).toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Shipping Charges:"}),(0,b.jsxs)("span",{className:"text-base font-black text-slate-900 tabular-nums",children:["$",f.shippingCharges.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t-2 border-slate-300",children:[(0,b.jsx)("span",{className:"text-base font-black text-slate-900 uppercase tracking-wide",children:"Grand Total:"}),(0,b.jsxs)("span",{className:"text-2xl font-black text-emerald-600 tabular-nums",children:["$",f.grandTotal.toFixed(2)]})]}),f.paymentDue>0&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-rose-600",children:"Payment Due:"}),(0,b.jsxs)("span",{className:"text-lg font-black text-rose-600 tabular-nums",children:["$",f.paymentDue.toFixed(2)]})]})]})]})}),(0,b.jsxs)("div",{className:"p-6 border-t border-slate-200",children:[(0,b.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-wider mb-4",children:"Audit Trail"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600 font-medium",children:"Created by:"}),(0,b.jsx)("span",{className:"font-bold text-slate-900",children:f.createdByName})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600 font-medium",children:"Created at:"}),(0,b.jsx)("span",{className:"font-bold text-slate-900",children:new Date(f.createdAt).toLocaleString()})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600 font-medium",children:"Last updated:"}),(0,b.jsx)("span",{className:"font-bold text-slate-900",children:new Date(f.updatedAt).toLocaleString()})]})]})]})]}),k&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full mx-4 shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,b.jsx)("div",{className:"p-3 bg-rose-100 rounded-2xl",children:(0,b.jsx)(i.AlertCircle,{size:24,className:"text-rose-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-black text-slate-900",children:"Delete Entry?"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"This action cannot be undone."})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>l(!1),disabled:m,className:"flex-1 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:r,disabled:m,className:"flex-1 px-4 py-2 bg-rose-600 text-white rounded-xl text-sm font-bold hover:bg-rose-700 transition-all disabled:opacity-50",children:m?"Deleting...":"Delete"})]})]})})]}):(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(i.AlertCircle,{className:"w-12 h-12 text-rose-400 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"Entry not found"}),(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/entries"),className:"mt-4 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold",children:"Back to Entries"})]})})}],43893);let b_=(0,g.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);a.s(["InventoryItemDetailPage",0,()=>{let a=(0,ad.useRouter)(),{id:d}=(0,ad.useParams)(),[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(0),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(!1);(0,c.useEffect)(()=>{s(),t()},[d]);let s=async()=>{if(d){j(!0);try{let a=await bT(d);f(a)}catch(a){console.error("Failed to load item:",a)}finally{j(!1)}}},t=async()=>{if(d)try{let a,b=await (a=d,Promise.resolve(bO.filter(b=>b.inventoryItemId===a)));h(b)}catch(a){console.error("Failed to load ledger:",a)}},u=async()=>{if(!d||!o.trim()||0===m)return void alert("Please enter quantity and reason");r(!0);try{await ((a,b,c,d)=>{let e=bK.find(b=>b.id===a);if(!e)return Promise.reject(Error("Item not found"));e.currentStock+=b,e.updatedAt=new Date().toISOString();let f={id:bP("LED"),inventoryItemId:e.id,inventoryItemName:e.name,changeQuantity:b,sourceType:"adjustment",sourceId:d,sourceReference:c,storeId:"STORE001",storeName:"Main Store",balanceAfter:e.currentStock,createdAt:new Date().toISOString()};return bO.push(f),Promise.resolve(e)})(d,m,o,"USER001"),await s(),await t(),l(!1),n(0),p(""),alert("Stock adjusted successfully")}catch(a){alert(a.message||"Failed to adjust stock")}finally{r(!1)}};if(i||!e)return(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(_.Package,{className:"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading item..."})]})});let v=e.currentStock<=e.lowStockThreshold,w=e.currentStock*e.averageCost;return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/list"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:e.name}),(0,b.jsxs)("p",{className:"text-sm text-slate-500 font-medium",children:["SKU: ",e.sku]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-violet-600 text-white rounded-xl text-xs font-bold hover:bg-violet-700 transition-all",children:[(0,b.jsx)(ae.TrendingUp,{size:14}),"Adjust Stock"]}),(0,b.jsxs)("button",{onClick:()=>a.push(`/backoffice/inventory/items/${d}/edit`),className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-700 transition-all",children:[(0,b.jsx)(am,{size:14}),"Edit Item"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:`p-6 rounded-3xl border shadow-sm ${v?"bg-gradient-to-br from-rose-50 to-rose-100 border-rose-200":"bg-gradient-to-br from-emerald-50 to-emerald-100 border-emerald-200"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:`p-3 rounded-2xl shadow-lg ${v?"bg-rose-600 shadow-rose-200":"bg-emerald-600 shadow-emerald-200"}`,children:(0,b.jsx)(_.Package,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:`text-xs font-black uppercase tracking-widest ${v?"text-rose-600":"text-emerald-600"}`,children:"Current Stock"})]}),(0,b.jsx)("div",{className:`text-3xl font-black tracking-tight ${v?"text-rose-900":"text-emerald-900"}`,children:e.currentStock.toFixed(2)}),(0,b.jsxs)("div",{className:`text-xs font-bold mt-1 ${v?"text-rose-600":"text-emerald-600"}`,children:[e.baseUnit,v&&" - LOW STOCK!"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,b.jsx)(ae.TrendingUp,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-blue-600 uppercase tracking-widest",children:"Average Cost"})]}),(0,b.jsxs)("div",{className:"text-3xl font-black text-blue-900 tracking-tight",children:["$",e.averageCost.toFixed(2)]}),(0,b.jsxs)("div",{className:"text-xs text-blue-600 font-bold mt-1",children:["Per ",e.baseUnit]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-violet-50 to-violet-100 p-6 rounded-3xl border border-violet-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-violet-600 rounded-2xl shadow-lg shadow-violet-200",children:(0,b.jsx)(_.Package,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-violet-600 uppercase tracking-widest",children:"Stock Value"})]}),(0,b.jsxs)("div",{className:"text-3xl font-black text-violet-900 tracking-tight",children:["$",w.toFixed(2)]}),(0,b.jsx)("div",{className:"text-xs text-violet-600 font-bold mt-1",children:"Total Value"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-3xl border border-amber-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-amber-600 rounded-2xl shadow-lg shadow-amber-200",children:(0,b.jsx)(bz,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-amber-600 uppercase tracking-widest",children:"Low Stock Alert"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-amber-900 tracking-tight",children:e.lowStockThreshold}),(0,b.jsx)("div",{className:"text-xs text-amber-600 font-bold mt-1",children:"Threshold"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-black text-slate-900 mb-6 uppercase tracking-tight",children:"Item Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Item Name"}),(0,b.jsx)("div",{className:"text-base font-black text-slate-900",children:e.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"SKU"}),(0,b.jsx)("div",{className:"text-base font-bold text-slate-600",children:e.sku})]}),e.description&&(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Description"}),(0,b.jsx)("div",{className:"text-sm text-slate-600",children:e.description})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Base Unit"}),(0,b.jsx)("div",{className:"text-base font-bold text-slate-600",children:e.baseUnit})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Status"}),(0,b.jsx)("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${"Active"===e.status?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-slate-100 text-slate-400 border-slate-200"}`,children:e.status})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(I.FileText,{size:20,className:"text-slate-600"}),(0,b.jsx)("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:"Stock Movement History"})]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Source"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reference"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Change"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Balance After"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===g.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:5,className:"px-6 py-12 text-center",children:[(0,b.jsx)(I.FileText,{size:32,className:"text-slate-300 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No stock movements yet"})]})}):g.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50/50",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:new Date(a.createdAt).toLocaleString()}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${"inventory"===a.sourceType?"bg-emerald-50 text-emerald-600 border-emerald-200":"sale"===a.sourceType?"bg-blue-50 text-blue-600 border-blue-200":"return"===a.sourceType?"bg-rose-50 text-rose-600 border-rose-200":"bg-violet-50 text-violet-600 border-violet-200"}`,children:a.sourceType})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:a.sourceReference}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("span",{className:`text-base font-black tabular-nums ${a.changeQuantity>0?"text-emerald-600":"text-rose-600"}`,children:[a.changeQuantity>0?"+":"",a.changeQuantity.toFixed(2)]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsx)("span",{className:"text-base font-black text-slate-900 tabular-nums",children:a.balanceAfter.toFixed(2)})})]},a.id))})]})})]}),k&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full mx-4 shadow-2xl",children:[(0,b.jsx)("h3",{className:"text-xl font-black text-slate-900 mb-6",children:"Adjust Stock"}),(0,b.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Adjustment Quantity"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>n(Math.max(-e.currentStock,m-1)),className:"p-2 bg-slate-100 rounded-xl hover:bg-slate-200",children:(0,b.jsx)(b_,{size:16})}),(0,b.jsx)("input",{type:"number",value:m,onChange:a=>n(parseFloat(a.target.value)||0),className:"flex-1 px-4 py-2 border border-slate-200 rounded-xl text-center text-lg font-black",placeholder:"0"}),(0,b.jsx)("button",{onClick:()=>n(m+1),className:"p-2 bg-slate-100 rounded-xl hover:bg-slate-200",children:(0,b.jsx)(M.Plus,{size:16})})]}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["New stock: ",(e.currentStock+m).toFixed(2)," ",e.baseUnit]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Reason (Required)"}),(0,b.jsx)("textarea",{value:o,onChange:a=>p(a.target.value),className:"w-full px-4 py-2 border border-slate-200 rounded-xl text-sm",rows:3,placeholder:"Enter reason for adjustment..."})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>{l(!1),n(0),p("")},disabled:q,className:"flex-1 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:u,disabled:q||!o.trim()||0===m,className:"flex-1 px-4 py-2 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all disabled:opacity-50",children:q?"Adjusting...":"Adjust Stock"})]})]})})]})}],50193),a.s(["RecipeDetailPage",0,()=>{let a=(0,ad.useRouter)(),{id:d}=(0,ad.useParams)(),[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1);(0,c.useEffect)(()=>{n()},[d]);let n=async()=>{if(d){h(!0);try{let a=await bU(d);f(a)}catch(a){console.error("Failed to load recipe:",a)}finally{h(!1)}}},o=async()=>{if(d){m(!0);try{let b=await (a=>{let b=bL.find(b=>b.id===a);if(!b)return Promise.reject(Error("Recipe not found"));let c={...b,id:bP("REC"),name:`${b.name} (Copy)`,usedByProductCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return bL.push(c),Promise.resolve(c)})(d);alert("Recipe duplicated successfully"),a.push(`/backoffice/inventory/recipes/${b.id}`)}catch(a){alert(a.message||"Failed to duplicate recipe")}finally{m(!1)}}},p=async()=>{if(d){m(!0);try{var b;let c;await (b=d,(c=bL.find(a=>a.id===b))?c.usedByProductCount>0?Promise.reject(Error("Cannot delete recipe attached to products")):(bL=bL.filter(a=>a.id!==b),Promise.resolve(!0)):Promise.reject(Error("Recipe not found"))),alert("Recipe deleted successfully"),a.push("/backoffice/inventory/recipes")}catch(a){alert(a.message||"Failed to delete recipe")}finally{m(!1),k(!1)}}};if(g||!e)return(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(aA,{className:"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading recipe..."})]})});let q=0===e.usedByProductCount;return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/recipes"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:e.name}),e.description&&(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:e.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("button",{onClick:o,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-violet-600 text-white rounded-xl text-xs font-bold hover:bg-violet-700 transition-all disabled:opacity-50",children:[(0,b.jsx)(bZ,{size:14}),"Duplicate"]}),(0,b.jsxs)("button",{onClick:()=>a.push(`/backoffice/inventory/recipes/${d}/edit`),className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-700 transition-all",children:[(0,b.jsx)(am,{size:14}),"Edit"]}),(0,b.jsxs)("button",{onClick:()=>k(!0),disabled:!q,className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-xl text-xs font-bold hover:bg-rose-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",title:q?"Delete recipe":"Cannot delete - recipe is attached to products",children:[(0,b.jsx)(ar,{size:14}),"Delete"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-3xl border border-orange-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-orange-600 rounded-2xl shadow-lg shadow-orange-200",children:(0,b.jsx)(_.Package,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-orange-600 uppercase tracking-widest",children:"Ingredients"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-orange-900 tracking-tight",children:e.ingredients.length}),(0,b.jsx)("div",{className:"text-xs text-orange-600 font-bold mt-1",children:"Total Items"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-3xl border border-emerald-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-emerald-600 rounded-2xl shadow-lg shadow-emerald-200",children:(0,b.jsx)(aA,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Recipe Cost"})]}),(0,b.jsxs)("div",{className:"text-3xl font-black text-emerald-900 tracking-tight",children:["$",e.totalRecipeCost.toFixed(2)]}),(0,b.jsx)("div",{className:"text-xs text-emerald-600 font-bold mt-1",children:"Auto-Calculated"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,b.jsx)(_.Package,{size:20,className:"text-white"})}),(0,b.jsx)("span",{className:"text-xs font-black text-blue-600 uppercase tracking-widest",children:"Used By"})]}),(0,b.jsx)("div",{className:"text-3xl font-black text-blue-900 tracking-tight",children:e.usedByProductCount}),(0,b.jsx)("div",{className:"text-xs text-blue-600 font-bold mt-1",children:"Products"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-black text-slate-900 mb-6 uppercase tracking-tight",children:"Recipe Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Recipe Name"}),(0,b.jsx)("div",{className:"text-base font-black text-slate-900",children:e.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Status"}),(0,b.jsx)("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${"Active"===e.status?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-slate-100 text-slate-400 border-slate-200"}`,children:e.status})]}),e.description&&(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Description"}),(0,b.jsx)("div",{className:"text-sm text-slate-600",children:e.description})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,b.jsx)("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:"Ingredients (Bill of Materials)"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"#"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ingredient"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Unit"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Qty Used"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Wastage %"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Effective Qty"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Unit Cost"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Line Cost"})]})}),(0,b.jsxs)("tbody",{className:"divide-y divide-slate-50",children:[e.ingredients.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50/50",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:c+1}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:a.inventoryItemName}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:a.baseUnit}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-black text-slate-900 text-right tabular-nums",children:a.quantityUsed.toFixed(2)}),(0,b.jsxs)("td",{className:"px-6 py-4 text-sm font-bold text-amber-600 text-right tabular-nums",children:[a.wastagePercentage,"%"]}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600 text-right tabular-nums",children:a.effectiveQuantity.toFixed(2)}),(0,b.jsxs)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600 text-right tabular-nums",children:["$",a.unitCost.toFixed(2)]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-base font-black text-emerald-600 text-right tabular-nums",children:["$",a.lineCost.toFixed(2)]})]},a.id)),(0,b.jsxs)("tr",{className:"bg-slate-50 font-black",children:[(0,b.jsx)("td",{colSpan:7,className:"px-6 py-4 text-right text-sm uppercase tracking-wider text-slate-900",children:"Total Recipe Cost:"}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right text-xl text-emerald-600 tabular-nums",children:["$",e.totalRecipeCost.toFixed(2)]})]})]})]})})]}),(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-3xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200",children:(0,b.jsx)(i.AlertCircle,{size:20,className:"text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-black text-blue-900 tracking-tight mb-2",children:"Recipe Calculation Rules"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-blue-700 font-medium",children:[(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{children:"Effective Quantity"})," = Quantity Used + (Quantity Used Ã— Wastage %)"]})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{children:"Line Cost"})," = Effective Quantity Ã— Unit Cost"]})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{children:"Total Recipe Cost"})," = Sum of all Line Costs (auto-calculated)"]})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,b.jsxs)("span",{children:["Unit costs are fetched from ",(0,b.jsx)("strong",{children:"Inventory Items"})," (average cost)"]})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-blue-600 font-black",children:"â€¢"}),(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{children:"NO manual cost overrides"})," allowed"]})]})]})]})]})}),j&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full mx-4 shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,b.jsx)("div",{className:"p-3 bg-rose-100 rounded-2xl",children:(0,b.jsx)(i.AlertCircle,{size:24,className:"text-rose-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-black text-slate-900",children:"Delete Recipe?"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"This action cannot be undone."})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>k(!1),disabled:l,className:"flex-1 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:p,disabled:l,className:"flex-1 px-4 py-2 bg-rose-600 text-white rounded-xl text-sm font-bold hover:bg-rose-700 transition-all disabled:opacity-50",children:l?"Deleting...":"Delete"})]})]})})]})}],63618),a.s(["ReturnDetailPage",0,()=>{let a=(0,ad.useRouter)(),{id:d}=(0,ad.useParams)(),[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{(async()=>{if(d)try{let a,b=await (a=d,Promise.resolve(bN.find(b=>b.id===a)||null));f(b)}catch(a){console.error("Failed to load return:",a)}finally{h(!1)}})()},[d]),g)?(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(D.RotateCcw,{className:"w-12 h-12 text-slate-400 animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading return details..."})]})}):e?(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/returns"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Return Details"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:e.referenceNo})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all",children:[(0,b.jsx)(K.Printer,{size:14}),"Print"]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Type"}),(0,b.jsx)("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider border ${(a=>{switch(a){case"Supplier Return":return"bg-blue-50 text-blue-600 border-blue-200";case"Damaged":return"bg-rose-50 text-rose-600 border-rose-200";case"Expired":return"bg-amber-50 text-amber-600 border-amber-200";case"Adjustment":return"bg-violet-50 text-violet-600 border-violet-200";default:return"bg-slate-50 text-slate-600 border-slate-200"}})(e.returnType)}`,children:e.returnType})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Date"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(B.Calendar,{size:16,className:"text-slate-400"}),(0,b.jsx)("span",{className:"text-sm font-black text-slate-900",children:new Date(e.returnDate).toLocaleDateString()})]})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Total Amount"}),(0,b.jsxs)("div",{className:"text-lg font-black text-rose-600",children:["$",e.totalAmount.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Processed By"}),(0,b.jsx)("div",{className:"text-sm font-black text-slate-900",children:e.createdByName})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 bg-slate-50 border-b border-slate-200",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Business Location"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(R,{size:16,className:"text-slate-400"}),(0,b.jsx)("span",{className:"text-base font-black text-slate-900",children:e.storeName})]})]}),e.supplierName&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Supplier"}),(0,b.jsx)("div",{className:"text-base font-black text-slate-900",children:e.supplierName})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Reason / Notes"}),(0,b.jsx)("div",{className:"p-4 bg-white rounded-xl border border-slate-200 text-sm text-slate-600",children:e.reason||"No reason provided."})]})]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"#"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Item"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Quantity"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Unit Cost"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Line Total"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:e.products.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50/50",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600",children:c+1}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:a.inventoryItemName||"Item "+a.inventoryItemId}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-black text-slate-900 text-right tabular-nums",children:a.quantity}),(0,b.jsxs)("td",{className:"px-6 py-4 text-sm font-bold text-slate-600 text-right tabular-nums",children:["$",a.unitCost.toFixed(2)]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-base font-black text-rose-600 text-right tabular-nums",children:["$",a.lineTotal.toFixed(2)]})]},a.inventoryItemId))}),(0,b.jsx)("tfoot",{className:"bg-slate-50 border-t border-slate-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{colSpan:4,className:"px-6 py-4 text-right text-sm font-black text-slate-900 uppercase tracking-wide",children:"Grand Total"}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right text-xl font-black text-rose-600 tabular-nums",children:["$",e.totalAmount.toFixed(2)]})]})})]})}),(0,b.jsxs)("div",{className:"p-6 border-t border-slate-200",children:[(0,b.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-wider mb-4",children:"Audit Trail"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600 font-medium",children:"Processed by:"}),(0,b.jsx)("span",{className:"font-bold text-slate-900",children:e.createdByName})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600 font-medium",children:"Processed at:"}),(0,b.jsx)("span",{className:"font-bold text-slate-900",children:new Date(e.createdAt).toLocaleString()})]})]})]})]})]}):(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(i.AlertCircle,{className:"w-12 h-12 text-rose-400 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"Return not found"}),(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/returns"),className:"mt-4 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold",children:"Back to Returns"})]})})}],31140),a.s(["VendorDetailPage",0,()=>{let a=(0,ad.useRouter)(),{id:d}=(0,ad.useParams)(),[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)("overview");return((0,c.useEffect)(()=>{(async()=>{if(d)try{var a;let b,c,[e,g,i]=await Promise.all([bW(d),(b=d,Promise.resolve(bJ.filter(a=>a.supplierId===b))),(a={supplierId:d},c=[...bN],a?.returnType&&(c=c.filter(b=>b.returnType===a.returnType)),a?.supplierId&&(c=c.filter(b=>b.supplierId===a.supplierId)),a?.dateFrom&&(c=c.filter(b=>new Date(b.returnDate)>=new Date(a.dateFrom))),a?.dateTo&&(c=c.filter(b=>new Date(b.returnDate)<=new Date(a.dateTo))),Promise.resolve(c))]);f(e),h(g),j(i)}catch(a){console.error("Failed to load vendor data:",a)}finally{l(!1)}})()},[d]),k)?(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(a7.Users,{className:"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading vendor details..."})]})}):e?(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/vendors"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:e.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-black uppercase tracking-wider border ${"Active"===e.status?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-slate-100 text-slate-400 border-slate-200"}`,children:e.status}),(0,b.jsxs)("span",{className:"text-xs text-slate-400 font-bold uppercase tracking-tight",children:["ID: ",e.id]})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)("button",{onClick:()=>a.push(`/backoffice/inventory/vendors/${d}/edit`),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-xs font-bold hover:bg-slate-200 transition-all",children:[(0,b.jsx)(am,{size:14}),"Edit"]})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 border-b border-slate-100",children:[(0,b.jsx)("button",{onClick:()=>n("overview"),className:`px-4 py-3 text-sm font-bold rounded-t-xl transition-all ${"overview"===m?"bg-slate-900 text-white shadow-sm":"text-slate-500 hover:text-slate-900 hover:bg-slate-50"}`,children:"Overview"}),(0,b.jsxs)("button",{onClick:()=>n("transactions"),className:`px-4 py-3 text-sm font-bold rounded-t-xl transition-all ${"transactions"===m?"bg-slate-900 text-white shadow-sm":"text-slate-500 hover:text-slate-900 hover:bg-slate-50"}`,children:["Transactions (",g.length,")"]}),(0,b.jsxs)("button",{onClick:()=>n("returns"),className:`px-4 py-3 text-sm font-bold rounded-t-xl transition-all ${"returns"===m?"bg-slate-900 text-white shadow-sm":"text-slate-500 hover:text-slate-900 hover:bg-slate-50"}`,children:["Returns (",i.length,")"]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:["overview"===m&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Total Purchases"}),(0,b.jsxs)("div",{className:"text-3xl font-black text-slate-900 tabular-nums",children:["$",e.totalPurchases.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Amount Paid"}),(0,b.jsxs)("div",{className:"text-3xl font-black text-emerald-600 tabular-nums",children:["$",e.totalPaid.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Outstanding Balance"}),(0,b.jsxs)("div",{className:"text-3xl font-black text-rose-600 tabular-nums",children:["$",e.totalDue.toFixed(2)]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden p-6",children:[(0,b.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-6",children:"Contact Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.contactPerson&&(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-50 rounded-2xl",children:(0,b.jsx)(a7.Users,{size:20,className:"text-slate-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Contact Person"}),(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900",children:e.contactPerson})]})]}),e.phone&&(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-50 rounded-2xl",children:(0,b.jsx)(aY,{size:20,className:"text-slate-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Phone"}),(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900",children:e.phone})]})]}),e.email&&(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-50 rounded-2xl",children:(0,b.jsx)(a_,{size:20,className:"text-slate-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Email"}),(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900",children:e.email})]})]}),e.address&&(0,b.jsxs)("div",{className:"flex items-start gap-4 md:col-span-2",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-50 rounded-2xl",children:(0,b.jsx)(R,{size:20,className:"text-slate-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Address"}),(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900 max-w-md",children:e.address})]})]})]})]})]}),"transactions"===m&&(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,b.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Transaction History"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reference No"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Paid"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Balance"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===g.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-slate-400 font-medium",children:"No transactions found."})}):g.map(c=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50/50 cursor-pointer transition-colors",onClick:()=>a.push(`/backoffice/inventory/entries/${c.id}`),children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:new Date(c.inventoryDate).toLocaleDateString()}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"text-sm font-black text-blue-600",children:c.referenceNo})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold",children:c.inventoryStatus})}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right text-sm font-bold text-slate-900 tabular-nums",children:["$",c.grandTotal.toFixed(2)]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right text-sm font-bold text-emerald-600 tabular-nums",children:["$",(c.grandTotal-c.paymentDue).toFixed(2)]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right text-sm font-bold text-rose-600 tabular-nums",children:["$",c.paymentDue.toFixed(2)]})]},c.id))})]})})]}),"returns"===m&&(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,b.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Vendor Returns"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reference No"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Type"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Amount"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reason"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===i.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-sm text-slate-400 font-medium",children:"No returns recorded for this vendor."})}):i.map(c=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50/50 cursor-pointer transition-colors",onClick:()=>a.push(`/backoffice/inventory/returns/${c.id}`),children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:new Date(c.returnDate).toLocaleDateString()}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"text-sm font-black text-rose-600",children:c.referenceNo})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold",children:c.returnType})}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right text-sm font-bold text-slate-900 tabular-nums",children:["$",c.totalAmount.toFixed(2)]}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-500",children:c.reason||"-"})]},c.id))})]})})]})]})]}):(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"Vendor not found"}),(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/vendors"),className:"mt-4 px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold",children:"Back to Vendors"})]})})}],57919);let b0=["g","kg","ml","l","oz","lb","piece"],b1=(a,b,c)=>{if(b===c)return a;if("Kilogram"===c){if("g"===b)return a/1e3;if("lb"===b)return .453592*a;if("oz"===b)return .0283495*a}if("Gram"===c&&"kg"===b)return 1e3*a;if("Liter"===c){if("ml"===b)return a/1e3;if("fl oz"===b)return .0295735*a}return"Milliliter"===c&&"l"===b?1e3*a:("g"===b||"ml"===b)&&("kg"===c||"l"===c)?a/1e3:("kg"===b||"l"===b)&&("g"===c||"ml"===c)?1e3*a:a};a.s(["CreateRecipePage",0,()=>{let a=(0,ad.useRouter)(),[d,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)("Active"),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)([]);(0,c.useEffect)(()=>{t()},[]);let t=async()=>{try{let a=await bS({status:"Active"});s(a)}catch(a){console.error("Failed to load inventory items:",a)}finally{}};(0,c.useEffect)(()=>{n.trim()?q(r.filter(a=>a.name.toLowerCase().includes(n.toLowerCase())||a.sku.toLowerCase().includes(n.toLowerCase())).slice(0,5)):q([])},[n,r]);let u=(a,b,c)=>{m(l.map(d=>d.tempId===a?{...d,[b]:c}:d))},v=l.reduce((a,b)=>{let c;return a+((c=b1(b.quantityUsed,b.usageUnit,b.baseUnit))+c*b.wastagePercentage/100)*b.unitCost},0),w=l.length,x=async()=>{if(!f.trim())return void alert("Recipe name is required");if(0===l.length)return void alert("Please add at least one ingredient");e(!0);try{var b,c;let d,e,g,i={name:f,description:h,status:j,ingredients:l.map(a=>({inventoryItemId:a.inventoryItemId,baseUnit:a.baseUnit,quantityUsed:a.quantityUsed,wastagePercentage:a.wastagePercentage}))};await (b=i,c="TENANT001",e=(d=b.ingredients.map(a=>{let b=bK.find(b=>b.id===a.inventoryItemId),c=a.quantityUsed+a.quantityUsed*a.wastagePercentage/100,d=c*(b?.averageCost||0);return{id:bP("RI"),...a,inventoryItemName:b?.name||"",baseUnit:b?.baseUnit||"Piece",unitCost:b?.averageCost||0,effectiveQuantity:c,lineCost:d}})).reduce((a,b)=>a+b.lineCost,0),g={id:bP("REC"),...b,ingredients:d,totalRecipeCost:e,usedByProductCount:0,tenantId:c,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},bL.push(g),Promise.resolve(g)),alert("Recipe created successfully!"),a.push("/backoffice/inventory/recipes")}catch(a){alert("Failed to create recipe: "+a.message)}finally{e(!1)}};return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/recipes"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Create New Recipe"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Define BOM and costings"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/recipes"),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),(0,b.jsxs)("button",{onClick:x,disabled:d,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-orange-200 hover:from-orange-700 hover:to-orange-600 transition-all active:scale-95 disabled:opacity-50",children:[(0,b.jsx)(Y,{size:16}),d?"Saving...":"Save Recipe"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-6",children:[(0,b.jsxs)("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight flex items-center gap-2",children:[(0,b.jsx)(ap,{size:18,className:"text-slate-400"}),"Basic Information"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Recipe Name *"}),(0,b.jsx)("input",{type:"text",value:f,onChange:a=>g(a.target.value),placeholder:"e.g., Spicy Chicken Burger Patch",className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 transition-all outline-none"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:h,onChange:a=>i(a.target.value),rows:2,placeholder:"Internal notes about preparation...",className:"w-full p-4 rounded-xl border border-slate-200 font-medium text-slate-900 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 transition-all outline-none resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Status"}),(0,b.jsx)("div",{className:"flex p-1 bg-slate-100 rounded-xl",children:["Active","Inactive"].map(a=>(0,b.jsx)("button",{onClick:()=>k(a),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${j===a?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:a},a))})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight flex items-center gap-2",children:[(0,b.jsx)(aA,{size:18,className:"text-slate-400"}),"Ingredients"]}),(0,b.jsxs)("div",{className:"relative w-72 group",children:[(0,b.jsx)(G.Search,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-colors"}),(0,b.jsx)("input",{type:"text",placeholder:"Search specific ingredient...",value:n,onChange:a=>o(a.target.value),onFocus:()=>{},onBlur:()=>{},className:"w-full h-10 pl-11 pr-4 bg-slate-50 rounded-xl border-none font-bold text-sm focus:ring-2 focus:ring-orange-500/20 text-slate-900 placeholder:text-slate-400"}),n&&p.length>0&&(0,b.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden z-20",children:p.map(a=>(0,b.jsxs)("button",{onClick:()=>{l.some(b=>b.inventoryItemId===a.id)?alert("Ingredient already added to recipe"):(m([...l,{tempId:Date.now().toString(),inventoryItemId:a.id,inventoryItemName:a.name,baseUnit:a.baseUnit,usageUnit:"Kilogram"===a.baseUnit?"g":"Liter"===a.baseUnit?"ml":"piece",unitCost:a.averageCost,quantityUsed:1,wastagePercentage:0}]),o(""),q([]))},className:"w-full text-left p-3 hover:bg-orange-50 flex items-center justify-between group/item",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900 group-hover/item:text-orange-700",children:a.name}),(0,b.jsx)("div",{className:"text-xs font-medium text-slate-500",children:a.sku})]}),(0,b.jsxs)("div",{className:"text-xs font-bold text-slate-400 bg-slate-100 px-2 py-1 rounded-lg",children:["Stock: ",a.currentStock," ",a.baseUnit]})]},a.id))})]})]}),0===l.length?(0,b.jsxs)("div",{className:"p-12 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(aA,{size:32,className:"text-orange-400"})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"No Ingredients Added"}),(0,b.jsx)("p",{className:"text-slate-500 max-w-sm mx-auto",children:"Search for inventory items above to build your recipe bill of materials."})]}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[(0,b.jsx)("th",{className:"px-6 py-4",children:"Ingredient"}),(0,b.jsx)("th",{className:"px-4 py-4 text-right",children:"Unit Cost (Base)"}),(0,b.jsx)("th",{className:"px-4 py-4 text-center",children:"Usage Qty / Unit"}),(0,b.jsx)("th",{className:"px-4 py-4 text-center",children:"Wastage %"}),(0,b.jsx)("th",{className:"px-4 py-4 text-right",children:"Converted Qty (Base)"}),(0,b.jsx)("th",{className:"px-4 py-4 text-right",children:"Line Cost"}),(0,b.jsx)("th",{className:"px-4 py-4"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:l.map(a=>{let c=b1(a.quantityUsed,a.usageUnit,a.baseUnit),d=c+c*a.wastagePercentage/100,e=d*a.unitCost;return(0,b.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm font-black text-slate-900",children:a.inventoryItemName}),(0,b.jsxs)("div",{className:"text-[10px] text-slate-400 font-medium",children:["Base: ",a.baseUnit]})]}),(0,b.jsxs)("td",{className:"px-4 py-4 text-right",children:[(0,b.jsxs)("div",{className:"text-sm font-bold text-slate-600",children:["$",a.unitCost.toFixed(2)]}),(0,b.jsxs)("div",{className:"text-[10px] text-slate-400",children:["per ",a.baseUnit]})]}),(0,b.jsx)("td",{className:"px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("input",{type:"number",min:"0",step:"0.01",value:a.quantityUsed,onChange:b=>u(a.tempId,"quantityUsed",parseFloat(b.target.value)||0),className:"w-20 h-10 px-2 text-center bg-white border border-slate-200 rounded-lg font-bold text-slate-900 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none"}),(0,b.jsx)("select",{value:a.usageUnit,onChange:b=>u(a.tempId,"usageUnit",b.target.value),className:"h-10 px-2 bg-slate-50 border border-slate-200 rounded-lg text-xs font-bold text-slate-600 outline-none",children:b0.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]})}),(0,b.jsx)("td",{className:"px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,b.jsx)("input",{type:"number",min:"0",max:"100",value:a.wastagePercentage,onChange:b=>u(a.tempId,"wastagePercentage",parseFloat(b.target.value)||0),className:"w-16 h-10 px-2 text-center bg-white border border-slate-200 rounded-lg font-bold text-amber-600 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none"}),(0,b.jsx)("span",{className:"text-xs font-black text-slate-400",children:"%"})]})}),(0,b.jsxs)("td",{className:"px-4 py-4 text-right",children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-600",children:d.toFixed(4)}),(0,b.jsxs)("div",{className:"text-[10px] text-slate-400",children:[a.baseUnit," (incl. waste)"]})]}),(0,b.jsx)("td",{className:"px-4 py-4 text-right",children:(0,b.jsxs)("div",{className:"text-sm font-black text-emerald-600",children:["$",e.toFixed(2)]})}),(0,b.jsx)("td",{className:"px-4 py-4 text-right",children:(0,b.jsx)("button",{onClick:()=>{var b;return b=a.tempId,void m(l.filter(a=>a.tempId!==b))},className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:(0,b.jsx)(ar,{size:16})})})]},a.tempId)})})]})})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight flex items-center gap-2",children:[(0,b.jsx)(R,{size:18,className:"text-slate-400"}),"Recipe Usage Locations"]}),(0,b.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-900 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-200 transition-colors",children:[(0,b.jsx)(M.Plus,{size:14})," Link Item"]})]}),(0,b.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 font-medium mb-3",children:"This recipe is linked to the following menu items:"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-slate-100 shadow-sm group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center text-orange-600 text-xs font-black",children:"P1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900",children:"Veggie Supreme Pizza"}),(0,b.jsx)("div",{className:"text-[10px] text-slate-500",children:"Variant: Medium"})]})]}),(0,b.jsx)("button",{className:"p-2 text-slate-300 hover:text-rose-500 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:(0,b.jsx)(P,{size:16})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-slate-100 shadow-sm group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center text-orange-600 text-xs font-black",children:"P1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900",children:"Veggie Supreme Pizza"}),(0,b.jsx)("div",{className:"text-[10px] text-slate-500",children:"Variant: Large"})]})]}),(0,b.jsx)("button",{className:"p-2 text-slate-300 hover:text-rose-500 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:(0,b.jsx)(P,{size:16})})]})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 text-white p-8 rounded-3xl shadow-xl shadow-slate-200/50 relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-32 bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsx)("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6 border-b border-white/10 pb-4",children:"Cost Analysis"}),(0,b.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Ingredient Count"}),(0,b.jsx)("span",{className:"font-bold",children:w})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Avg Cost / Item"}),(0,b.jsxs)("span",{className:"font-bold",children:["$",l.length>0?(v/l.length).toFixed(2):"0.00"]})]})]}),(0,b.jsxs)("div",{className:"pt-6 border-t border-white/10",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Total Recipe Cost"}),(0,b.jsxs)("div",{className:"text-4xl font-black tracking-tight text-white mb-1",children:["$",v.toFixed(2)]}),(0,b.jsx)("p",{className:"text-xs font-medium text-emerald-400",children:"Auto-calculated from ingredients"})]})]})]}),(0,b.jsxs)("div",{className:"bg-blue-50 p-6 rounded-3xl border border-blue-100",children:[(0,b.jsxs)("h3",{className:"text-sm font-black text-blue-900 uppercase tracking-widest mb-4 flex items-center gap-2",children:[(0,b.jsx)(ap,{size:16}),"Recipe Rules"]}),(0,b.jsxs)("ul",{className:"space-y-3",children:[(0,b.jsxs)("li",{className:"flex gap-3 text-sm text-blue-800",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-1.5 flex-shrink-0"}),(0,b.jsx)("span",{children:"Costs are derived directly from Inventory Items (Average Cost)."})]}),(0,b.jsxs)("li",{className:"flex gap-3 text-sm text-blue-800",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-1.5 flex-shrink-0"}),(0,b.jsx)("span",{children:"Wastage % increases the effective quantity and cost but deducts base quantity from stock."})]}),(0,b.jsxs)("li",{className:"flex gap-3 text-sm text-blue-800",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-1.5 flex-shrink-0"}),(0,b.jsxs)("span",{children:["Manual cost overrides are ",(0,b.jsx)("strong",{children:"disabled"})," to ensure data integrity."]})]})]})]})]})]})]})}],42135),a.s(["EditRecipePage",0,()=>{let a=(0,ad.useRouter)(),{id:d}=(0,ad.useParams)(),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)(!1),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)("Active"),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(0),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)([]);(0,c.useEffect)(()=>{(async()=>{if(d){f(!0);try{let[b,c]=await Promise.all([bU(d),bS({status:"Active"})]);if(!b){alert("Recipe not found"),a.push("/backoffice/inventory/recipes");return}A(c),k(b.name),m(b.description||""),o(b.status),s(b.usedByProductCount),q(b.ingredients.map(a=>({tempId:a.id,inventoryItemId:a.inventoryItemId,inventoryItemName:a.inventoryItemName,baseUnit:a.baseUnit,unitCost:a.unitCost,quantityUsed:a.quantityUsed,wastagePercentage:a.wastagePercentage})))}catch(a){console.error("Failed to load data:",a)}finally{f(!1)}}})()},[d]),(0,c.useEffect)(()=>{t.trim()?y(z.filter(a=>a.name.toLowerCase().includes(t.toLowerCase())||a.sku.toLowerCase().includes(t.toLowerCase())).slice(0,5)):y([])},[t,z]);let B=(a,b,c)=>{q(p.map(d=>d.tempId===a?{...d,[b]:c}:d))},C=p.reduce((a,b)=>a+(b.quantityUsed+b.quantityUsed*b.wastagePercentage/100)*b.unitCost,0),D=p.length,E=async()=>{if(d){if(!j.trim())return void alert("Recipe name is required");if(0===p.length)return void alert("Please add at least one ingredient");h(!0);try{let b={name:j,description:l,status:n,ingredients:p.map(a=>({inventoryItemId:a.inventoryItemId,baseUnit:a.baseUnit,quantityUsed:a.quantityUsed,wastagePercentage:a.wastagePercentage}))};await ((a,b)=>{let c=bL.find(b=>b.id===a);if(!c)return Promise.reject(Error("Recipe not found"));if(b.ingredients){let a=b.ingredients.map(a=>{let b=bK.find(b=>b.id===a.inventoryItemId),c=a.quantityUsed+a.quantityUsed*a.wastagePercentage/100,d=c*(b?.averageCost||0);return{id:bP("RI"),...a,inventoryItemName:b?.name||"",baseUnit:b?.baseUnit||"Piece",unitCost:b?.averageCost||0,effectiveQuantity:c,lineCost:d}}),d=a.reduce((a,b)=>a+b.lineCost,0);Object.assign(c,{...b,ingredients:a,totalRecipeCost:d,updatedAt:new Date().toISOString()})}else Object.assign(c,{...b,updatedAt:new Date().toISOString()});return Promise.resolve(c)})(d,b),alert("Recipe updated successfully!"),a.push("/backoffice/inventory/recipes")}catch(a){alert("Failed to update recipe: "+a.message)}finally{h(!1)}}};return e?(0,b.jsx)("div",{className:"p-12 text-center text-slate-500",children:"Loading recipe data..."}):(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/recipes"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Edit Recipe"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:r>0?`Used by ${r} products - Edits will affect live costs`:"Not linked to any products"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/recipes"),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),(0,b.jsxs)("button",{onClick:E,disabled:g,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-blue-200 hover:from-blue-700 hover:to-blue-600 transition-all active:scale-95 disabled:opacity-50",children:[(0,b.jsx)(Y,{size:16}),g?"Saving...":"Save Changes"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsx)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Recipe Name *"}),(0,b.jsx)("input",{type:"text",value:j,onChange:a=>k(a.target.value),className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all outline-none"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:l,onChange:a=>m(a.target.value),rows:2,className:"w-full p-4 rounded-xl border border-slate-200 font-medium text-slate-900 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all outline-none resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Status"}),(0,b.jsx)("div",{className:"flex p-1 bg-slate-100 rounded-xl",children:["Active","Inactive"].map(a=>(0,b.jsx)("button",{onClick:()=>o(a),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${n===a?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:a},a))})]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight flex items-center gap-2",children:[(0,b.jsx)(aA,{size:18,className:"text-slate-400"}),"Ingredients"]}),(0,b.jsxs)("div",{className:"relative w-72 group",children:[(0,b.jsx)(G.Search,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),(0,b.jsx)("input",{type:"text",placeholder:"Add more ingredients...",value:t,onChange:a=>u(a.target.value),onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),200),className:"w-full h-10 pl-11 pr-4 bg-slate-50 rounded-xl border-none font-bold text-sm focus:ring-2 focus:ring-blue-500/20 text-slate-900 placeholder:text-slate-400"}),v&&t&&x.length>0&&(0,b.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden z-20",children:x.map(a=>(0,b.jsxs)("button",{onClick:()=>{p.some(b=>b.inventoryItemId===a.id)?alert("Ingredient already added to recipe"):(q([...p,{tempId:Date.now().toString(),inventoryItemId:a.id,inventoryItemName:a.name,baseUnit:a.baseUnit,unitCost:a.averageCost,quantityUsed:1,wastagePercentage:0}]),u(""),y([]))},className:"w-full text-left p-3 hover:bg-blue-50 flex items-center justify-between group/item",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900 group-hover/item:text-blue-700",children:a.name}),(0,b.jsx)("div",{className:"text-xs font-medium text-slate-500",children:a.sku})]}),(0,b.jsxs)("div",{className:"text-xs font-bold text-slate-400 bg-slate-100 px-2 py-1 rounded-lg",children:["Stock: ",a.currentStock]})]},a.id))})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[(0,b.jsx)("th",{className:"px-6 py-4",children:"Ingredient"}),(0,b.jsx)("th",{className:"px-4 py-4 text-right",children:"Unit Cost"}),(0,b.jsx)("th",{className:"px-4 py-4 text-center",children:"Qty Used"}),(0,b.jsx)("th",{className:"px-4 py-4 text-center",children:"Wastage %"}),(0,b.jsx)("th",{className:"px-4 py-4 text-right",children:"Effective Qty"}),(0,b.jsx)("th",{className:"px-4 py-4 text-right",children:"Line Cost"}),(0,b.jsx)("th",{className:"px-4 py-4"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:p.map(a=>{let c=a.quantityUsed+a.quantityUsed*a.wastagePercentage/100,d=c*a.unitCost;return(0,b.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm font-black text-slate-900",children:a.inventoryItemName}),(0,b.jsx)("div",{className:"text-xs font-bold text-slate-400",children:a.baseUnit})]}),(0,b.jsx)("td",{className:"px-4 py-4 text-right",children:(0,b.jsxs)("div",{className:"text-sm font-bold text-slate-600",children:["$",a.unitCost.toFixed(2)]})}),(0,b.jsx)("td",{className:"px-4 py-4",children:(0,b.jsx)("input",{type:"number",min:"0",step:"0.01",value:a.quantityUsed,onChange:b=>B(a.tempId,"quantityUsed",parseFloat(b.target.value)||0),className:"w-24 h-10 px-3 text-center bg-white border border-slate-200 rounded-lg font-bold text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none"})}),(0,b.jsx)("td",{className:"px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,b.jsx)("input",{type:"number",min:"0",max:"100",value:a.wastagePercentage,onChange:b=>B(a.tempId,"wastagePercentage",parseFloat(b.target.value)||0),className:"w-20 h-10 px-3 text-center bg-white border border-slate-200 rounded-lg font-bold text-amber-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none"}),(0,b.jsx)("span",{className:"text-xs font-black text-slate-400",children:"%"})]})}),(0,b.jsx)("td",{className:"px-4 py-4 text-right",children:(0,b.jsxs)("div",{className:"text-sm font-bold text-slate-600",children:[c.toFixed(2)," ",(0,b.jsx)("span",{className:"text-[10px] text-slate-400",children:a.baseUnit})]})}),(0,b.jsx)("td",{className:"px-4 py-4 text-right",children:(0,b.jsxs)("div",{className:"text-sm font-black text-slate-900",children:["$",d.toFixed(2)]})}),(0,b.jsx)("td",{className:"px-4 py-4 text-right",children:(0,b.jsx)("button",{onClick:()=>{var b;return b=a.tempId,void q(p.filter(a=>a.tempId!==b))},className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:(0,b.jsx)(ar,{size:16})})})]},a.tempId)})})]})})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 text-white p-8 rounded-3xl shadow-xl shadow-slate-200/50 relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-32 bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsx)("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6 border-b border-white/10 pb-4",children:"Cost Analysis"}),(0,b.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Ingredient Count"}),(0,b.jsx)("span",{className:"font-bold",children:D})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Avg Cost / Item"}),(0,b.jsxs)("span",{className:"font-bold",children:["$",p.length>0?(C/p.length).toFixed(2):"0.00"]})]})]}),(0,b.jsxs)("div",{className:"pt-6 border-t border-white/10",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Total Recipe Cost"}),(0,b.jsxs)("div",{className:"text-4xl font-black tracking-tight text-white mb-1",children:["$",C.toFixed(2)]})]})]})]}),r>0&&(0,b.jsxs)("div",{className:"bg-amber-50 p-6 rounded-3xl border border-amber-100",children:[(0,b.jsxs)("h3",{className:"text-sm font-black text-amber-900 uppercase tracking-widest mb-4 flex items-center gap-2",children:[(0,b.jsx)(i.AlertCircle,{size:16}),"Warning"]}),(0,b.jsxs)("p",{className:"text-sm text-amber-800 leading-relaxed font-medium",children:["This recipe is currently used by ",(0,b.jsxs)("strong",{className:"text-black",children:[r," product(s)"]}),". Changes made here will immediately affect cost calculations for future sales of these products."]})]})]})]})]})}],20787),a.s(["InventoryItemFormPage",0,()=>{let a=(0,ad.useRouter)(),{id:d}=(0,ad.useParams)(),e=!!d,[f,g]=(0,c.useState)(e),[h,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)("Piece"),[q,r]=(0,c.useState)(10),[s,t]=(0,c.useState)("Active"),[u,v]=(0,c.useState)("");(0,c.useEffect)(()=>{e&&d&&w(d)},[d,e]);let w=async b=>{try{let c=await bT(b);c?(l(c.name),n(c.sku),p(c.baseUnit),r(c.lowStockThreshold),t(c.status),v(c.description||"")):(alert("Item not found"),a.push("/backoffice/inventory/list"))}catch(a){console.error("Failed to load item:",a),alert("Error loading item details")}finally{g(!1)}},x=async()=>{if(!k.trim())return void alert("Item Name is required");if(!m.trim())return void alert("SKU is required");j(!0);try{var b,c,f,g;let h,i,j={name:k,sku:m,baseUnit:o,lowStockThreshold:q,status:s,description:u};e&&d?(await (b=d,c=j,(h=bK.find(a=>a.id===b))?(Object.assign(h,{...c,updatedAt:new Date().toISOString()}),Promise.resolve(h)):Promise.reject(Error("Item not found"))),alert("Item updated successfully")):(await (f=j,g="TENANT001",i={id:bP("INV"),...f,status:f.status||"Active",currentStock:0,averageCost:0,tenantId:g,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},bK.push(i),Promise.resolve(i)),alert("Item created successfully")),a.push("/backoffice/inventory/list")}catch(a){console.error("Failed to save item:",a),alert("Failed to save item: "+a.message)}finally{j(!1)}};return f?(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(_.Package,{className:"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading item details..."})]})}):(0,b.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push(e?`/backoffice/inventory/items/${d}`:"/backoffice/inventory/list"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:e?"Edit Item":"Create New Item"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:e?"Update item details":"Define new inventory ingredient"})]})]}),(0,b.jsxs)("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Item Name *"}),(0,b.jsx)("input",{type:"text",value:k,onChange:a=>l(a.target.value),placeholder:"e.g., Cheddar Cheese Block",className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"SKU *"}),(0,b.jsx)("input",{type:"text",value:m,onChange:a=>n(a.target.value),placeholder:"e.g., ING-001",className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Base Unit *"}),(0,b.jsx)("select",{value:o,onChange:a=>p(a.target.value),disabled:e,className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none bg-white disabled:bg-slate-50 disabled:text-slate-500",children:["Piece","Gram","Kilogram","Liter","Milliliter"].map(a=>(0,b.jsx)("option",{value:a,children:a},a))}),e&&(0,b.jsx)("p",{className:"text-xs text-amber-500 mt-1 font-medium",children:"Unit cannot be changed after creation"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:u,onChange:a=>v(a.target.value),rows:3,placeholder:"Optional details about this item...",className:"w-full p-4 rounded-xl border border-slate-200 font-medium text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none resize-none"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Low Stock Threshold"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"number",min:"0",value:q,onChange:a=>r(parseFloat(a.target.value)||0),className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"}),(0,b.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-bold text-slate-400",children:o})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Status"}),(0,b.jsx)("div",{className:"flex p-1 bg-slate-100 rounded-xl h-12 items-center",children:["Active","Inactive"].map(a=>(0,b.jsx)("button",{onClick:()=>t(a),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all h-10 ${s===a?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 flex gap-3 text-blue-800",children:[(0,b.jsx)(i.AlertCircle,{size:20,className:"flex-shrink-0"}),(0,b.jsxs)("p",{className:"text-xs font-medium leading-relaxed",children:[(0,b.jsx)("strong",{children:"Note:"}),' Initial stock cannot be set here. Use the "Adjust Stock" feature or "Receive Inventory" to add stock after creating the item.']})]})]}),(0,b.jsxs)("div",{className:"pt-6 border-t border-slate-100 flex items-center justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/list"),className:"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),(0,b.jsxs)("button",{onClick:x,disabled:h,className:"flex items-center gap-2 px-8 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all active:scale-95 disabled:opacity-50",children:[(0,b.jsx)(Y,{size:16}),h?"Saving...":e?"Update Item":"Create Item"]})]})]})]})}],88058),a.s(["EditInventoryEntryPage",0,()=>{let a=(0,ad.useRouter)(),{id:d}=(0,ad.useParams)(),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)("Draft"),[u,v]=(0,c.useState)("STORE001"),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)(0),[C,D]=(0,c.useState)(0),[E,F]=(0,c.useState)(""),[H,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(async()=>{if(d)try{let[b,c,e]=await Promise.all([bQ(d),bV(),bS({status:"Active"})]);if(!b){alert("Entry not found"),a.push("/backoffice/inventory/entries");return}if("Received"===b.inventoryStatus||"Partial"===b.inventoryStatus){alert("Cannot edit received inventory"),a.push(`/backoffice/inventory/entries/${d}`);return}j(c),l(e),n(b.supplierId),p(b.referenceNo),r(b.inventoryDate),t(b.inventoryStatus),v(b.storeId),x(b.payTerm||""),z(b.products),B(b.purchaseTax),D(b.shippingCharges),F(b.additionalNotes||"")}catch(a){console.error("Failed to load entry:",a)}finally{f(!1)}})()},[d]);let M=(a,b,c)=>{z(y.map(d=>{if(d.id!==a)return d;let e={...d,[b]:c},f=e.purchaseQuantity,g=e.unitCostBeforeTax,h=e.taxPercentage;return e.subtotal=f*g,e.taxAmount=e.subtotal*(h/100),e.unitCostAfterTax=g+g*h/100,e.lineTotal=f*e.unitCostAfterTax,e}))},N=y.reduce((a,b)=>a+b.subtotal,0),O=y.reduce((a,b)=>a+b.taxAmount,0)+A,P=N+O+C,Q=async(b=!1)=>{if(d){if(!m)return void alert("Please select a supplier");if(0===y.length)return void alert("Please add at least one product");h(!0);try{var c,e;let f,g={supplierId:m,referenceNo:o,inventoryDate:q,inventoryStatus:b?"Received":s,storeId:u,payTerm:w,products:y.map(a=>({sku:a.sku,inventoryItemId:a.inventoryItemId,purchaseQuantity:a.purchaseQuantity,unitCostBeforeTax:a.unitCostBeforeTax,subtotal:a.subtotal,taxPercentage:a.taxPercentage,taxAmount:a.taxAmount,unitCostAfterTax:a.unitCostAfterTax,lineTotal:a.lineTotal})),purchaseTax:A,shippingCharges:C,additionalNotes:E};await (c=d,e=g,(f=bJ.find(a=>a.id===c))?"Draft"!==f.inventoryStatus&&"Ordered"!==f.inventoryStatus?Promise.reject(Error("Cannot edit received inventory")):(Object.assign(f,{...e,updatedAt:new Date().toISOString()}),Promise.resolve(f)):Promise.reject(Error("Entry not found"))),b?(await bR(d),alert("Inventory received & stock updated successfully!")):alert("Entry updated successfully!"),a.push("/backoffice/inventory/entries")}catch(a){alert("Failed to update: "+a.message)}finally{h(!1)}}},R=H.trim()?k.filter(a=>a.name.toLowerCase().includes(H.toLowerCase())||a.sku.toLowerCase().includes(H.toLowerCase())).slice(0,5):[];return e?(0,b.jsx)("div",{className:"p-12 text-center text-slate-500",children:"Loading entry..."}):(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/entries"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Edit Inventory Entry"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:o})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-6 bg-slate-50 border-b border-slate-200",children:[(0,b.jsx)("h2",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Entry Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:["Supplier ",(0,b.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,b.jsxs)("select",{value:m,onChange:a=>n(a.target.value),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all",required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select Supplier"}),i.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Reference No"}),(0,b.jsx)("input",{type:"text",value:o,onChange:a=>p(a.target.value),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Inventory Date"}),(0,b.jsx)("input",{type:"date",value:q,onChange:a=>r(a.target.value),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Inventory Status"}),(0,b.jsxs)("select",{value:s,onChange:a=>t(a.target.value),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all",children:[(0,b.jsx)("option",{value:"Draft",children:"Draft"}),(0,b.jsx)("option",{value:"Ordered",children:"Ordered"}),(0,b.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Pay Term"}),(0,b.jsx)("input",{type:"text",value:w,onChange:a=>x(a.target.value),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Attach Document"}),(0,b.jsxs)("button",{className:"w-full px-4 py-2 bg-slate-100 border border-slate-200 rounded-xl text-sm font-bold text-slate-600 hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[(0,b.jsx)(bI,{size:16}),"Upload Invoice/PDF"]})]})]})]}),(0,b.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(G.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:H,onChange:a=>{J(a.target.value),L(!0)},onFocus:()=>L(!0),placeholder:"Search Product / SKU / Barcode...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all"}),K&&R.length>0&&(0,b.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-10 max-h-64 overflow-y-auto",children:R.map(a=>(0,b.jsxs)("button",{onClick:()=>{var b;let c;return b=a.id,void(!(c=k.find(a=>a.id===b))||(z([...y,{id:`TEMP${Date.now()}`,inventoryItemId:c.id,inventoryItemName:c.name,sku:c.sku,purchaseQuantity:1,unitCostBeforeTax:0,subtotal:0,taxPercentage:0,taxAmount:0,unitCostAfterTax:0,lineTotal:0}]),J(""),L(!1)))},className:"w-full px-4 py-3 text-left hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-0",children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["SKU: ",a.sku," | Stock: ",a.currentStock," ",a.baseUnit]})]},a.id))})]})})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest w-12",children:"#"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Product Name"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"SKU"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Purchase Qty"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Unit Cost (Before Tax)"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Subtotal"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Tax %"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Unit Cost (After Tax)"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Line Total"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Delete"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100",children:0===y.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:10,className:"px-4 py-12 text-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)(I.FileText,{size:32,className:"text-slate-300"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"No products added."})]})})}):y.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-4 py-3 text-sm font-bold text-slate-600",children:c+1}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm font-bold text-slate-900",children:a.inventoryItemName}),(0,b.jsx)("td",{className:"px-4 py-3 text-xs text-slate-500 font-medium",children:a.sku}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsx)("input",{type:"number",value:a.purchaseQuantity,onChange:b=>M(a.id,"purchaseQuantity",parseFloat(b.target.value)||0),className:"w-24 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-sm text-right focus:border-emerald-600",min:"0",step:"0.01"})}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsx)("input",{type:"number",value:a.unitCostBeforeTax,onChange:b=>M(a.id,"unitCostBeforeTax",parseFloat(b.target.value)||0),className:"w-28 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-sm text-right focus:border-emerald-600",min:"0",step:"0.01"})}),(0,b.jsxs)("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right tabular-nums",children:["$",a.subtotal.toFixed(2)]}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsx)("input",{type:"number",value:a.taxPercentage,onChange:b=>M(a.id,"taxPercentage",parseFloat(b.target.value)||0),className:"w-20 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-sm text-right focus:border-emerald-600",min:"0",max:"100",step:"0.1"})}),(0,b.jsxs)("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right tabular-nums",children:["$",a.unitCostAfterTax.toFixed(2)]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-base font-black text-emerald-600 text-right tabular-nums",children:["$",a.lineTotal.toFixed(2)]}),(0,b.jsx)("td",{className:"px-4 py-3 text-center",children:(0,b.jsx)("button",{onClick:()=>{var b;return b=a.id,void z(y.filter(a=>a.id!==b))},className:"p-2 text-slate-400 hover:text-rose-600 transition-colors",children:(0,b.jsx)(ar,{size:16})})})]},a.id))})]})}),(0,b.jsx)("div",{className:"p-6 bg-slate-50 border-t border-slate-200",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Purchase Tax"}),(0,b.jsx)("input",{type:"number",value:A,onChange:a=>B(parseFloat(a.target.value)||0),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all",min:"0",step:"0.01"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Shipping Charges"}),(0,b.jsx)("input",{type:"number",value:C,onChange:a=>D(parseFloat(a.target.value)||0),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all",min:"0",step:"0.01"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Additional Notes"}),(0,b.jsx)("textarea",{value:E,onChange:a=>F(a.target.value),rows:3,className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-emerald-600 transition-all resize-none",placeholder:"Any additional notes..."})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 space-y-3",children:[(0,b.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Summary"}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Subtotal"}),(0,b.jsxs)("span",{className:"text-sm font-black text-slate-900 tabular-nums",children:["$",N.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Tax"}),(0,b.jsxs)("span",{className:"text-sm font-black text-slate-900 tabular-nums",children:["$",O.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Shipping"}),(0,b.jsxs)("span",{className:"text-sm font-black text-slate-900 tabular-nums",children:["$",C.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"pt-3 border-t border-slate-200 flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:"Grand Total"}),(0,b.jsxs)("span",{className:"text-2xl font-black text-emerald-600 tabular-nums",children:["$",P.toFixed(2)]})]})]})]})}),(0,b.jsxs)("div",{className:"p-6 bg-white border-t border-slate-200 flex items-center justify-end gap-4",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/entries"),className:"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),(0,b.jsxs)("button",{onClick:()=>Q(!1),disabled:g,className:"px-6 py-2.5 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-slate-800 transition-all flex items-center gap-2 disabled:opacity-50",children:[(0,b.jsx)(Y,{size:16}),g?"Saving...":"Update Entry"]}),(0,b.jsxs)("button",{onClick:()=>Q(!0),disabled:g,className:"px-6 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-bold hover:bg-emerald-700 transition-all flex items-center gap-2 disabled:opacity-50",children:[(0,b.jsx)(b$,{size:16}),"Update & Receive"]})]})]})]})}],27868),a.s(["VendorFormPage",0,()=>{let a=(0,ad.useRouter)(),{id:d}=(0,ad.useParams)(),e=!!d,[f,g]=(0,c.useState)(e),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)("Active");(0,c.useEffect)(()=>{e&&d&&v(d)},[d,e]);let v=async b=>{try{let c=await bW(b);c?(k(c.name),m(c.contactPerson||""),o(c.phone||""),q(c.email||""),s(c.address||""),u(c.status)):(alert("Vendor not found"),a.push("/backoffice/inventory/vendors"))}catch(a){console.error("Failed to load vendor:",a),alert("Error loading vendor details")}finally{g(!1)}},w=async()=>{if(!j.trim())return void alert("Vendor Name is required");i(!0);try{var b,c;let f,g={name:j,contactPerson:l,phone:n,email:p,address:r,status:t};e&&d?(await (b=d,c=g,(f=bM.find(a=>a.id===b))?(Object.assign(f,{...c,updatedAt:new Date().toISOString()}),Promise.resolve(f)):Promise.reject(Error("Vendor not found"))),alert("Vendor updated successfully")):(await bX(g),alert("Vendor created successfully")),a.push("/backoffice/inventory/vendors")}catch(a){console.error("Failed to save vendor:",a),alert("Failed to save vendor: "+a.message)}finally{i(!1)}};return f?(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(a7.Users,{className:"w-12 h-12 text-slate-400 animate-pulse mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading vendor details..."})]})}):(0,b.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/vendors"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:e?"Edit Vendor":"Add New Vendor"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:e?"Update supplier information":"Register a new supplier"})]})]}),(0,b.jsxs)("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Vendor Name *"}),(0,b.jsx)("input",{type:"text",value:j,onChange:a=>k(a.target.value),placeholder:"e.g., Global Foods Ltd",className:"w-full h-12 px-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Contact Person"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(a7.Users,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:l,onChange:a=>m(a.target.value),className:"w-full h-12 pl-10 pr-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Phone"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(aY,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:n,onChange:a=>o(a.target.value),className:"w-full h-12 pl-10 pr-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(a_,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"email",value:p,onChange:a=>q(a.target.value),className:"w-full h-12 pl-10 pr-4 rounded-xl border border-slate-200 font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(R,{className:"absolute left-4 top-3 w-4 h-4 text-slate-400"}),(0,b.jsx)("textarea",{value:r,onChange:a=>s(a.target.value),rows:3,className:"w-full p-4 pl-10 rounded-xl border border-slate-200 font-medium text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all outline-none resize-none"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Status"}),(0,b.jsx)("div",{className:"flex p-1 bg-slate-100 rounded-xl max-w-sm",children:["Active","Inactive"].map(a=>(0,b.jsx)("button",{onClick:()=>u(a),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${t===a?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"pt-6 border-t border-slate-100 flex items-center justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/vendors"),className:"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),(0,b.jsxs)("button",{onClick:w,disabled:h,className:"flex items-center gap-2 px-8 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all active:scale-95 disabled:opacity-50",children:[(0,b.jsx)(Y,{size:16}),h?"Saving...":e?"Update Vendor":"Create Vendor"]})]})]})]})}],25964),a.s(["CreateReturnPage",0,()=>{let a=(0,ad.useRouter)(),[d,e]=(0,c.useState)("Damaged"),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(new Date().toISOString().split("T")[0]),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)([]);(0,c.useEffect)(()=>{(async()=>{w(await bS({status:"Active"}))})()},[]),(0,c.useEffect)(()=>{p.trim()?s(v.filter(a=>a.name.toLowerCase().includes(p.toLowerCase())||a.sku.toLowerCase().includes(p.toLowerCase())).slice(0,5)):s([])},[p,v]);let x=n.reduce((a,b)=>a+b.lineTotal,0),y=async()=>{0===n.length?alert("Please add at least one item"):j?(console.log("Saving return:",{returnType:d,referenceNo:f,returnDate:h,storeId:"STORE001",supplierId:"Supplier Return"===d?l:void 0,reason:j,items:n.map(a=>({inventoryItemId:a.inventoryItemId,quantity:a.quantity,unitCost:a.unitCost,lineTotal:a.lineTotal})),totalAmount:x}),alert("Return/Adjustment created successfully!"),a.push("/backoffice/inventory/returns")):alert("Please provide a reason")};return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-100 pb-6",children:[(0,b.jsx)("button",{onClick:()=>a.push("/backoffice/inventory/returns"),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Create Return / Adjustment"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Record stock wastage, damage, or supplier returns"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Type"}),(0,b.jsxs)("select",{value:d,onChange:a=>e(a.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none",children:[(0,b.jsx)("option",{value:"Damaged",children:"Damaged (Waste)"}),(0,b.jsx)("option",{value:"Expired",children:"Expired (Waste)"}),(0,b.jsx)("option",{value:"Supplier Return",children:"Supplier Return"}),(0,b.jsx)("option",{value:"Adjustment",children:"Inventory Adjustment"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Date"}),(0,b.jsx)("input",{type:"date",value:h,onChange:a=>i(a.target.value),className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Reference No"}),(0,b.jsx)("input",{type:"text",value:f,onChange:a=>g(a.target.value),placeholder:"Optional",className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none"})]}),"Supplier Return"===d&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Supplier"}),(0,b.jsx)("input",{type:"text",value:l,onChange:a=>m(a.target.value),placeholder:"Supplier ID / Name",className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Reason / Notes *"}),(0,b.jsx)("textarea",{value:j,onChange:a=>k(a.target.value),rows:2,className:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none resize-none",placeholder:"Describe why stock is being returned or adjusted..."})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-4",children:(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(G.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:p,onChange:a=>{q(a.target.value),u(!0)},onFocus:()=>u(!0),placeholder:"Search item to add...",className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:border-rose-600 outline-none"}),t&&r.length>0&&(0,b.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-lg z-10 max-h-60 overflow-y-auto",children:r.map(a=>(0,b.jsxs)("button",{onClick:()=>{o([...n,{id:`TEMP_${Date.now()}`,inventoryItemId:a.id,inventoryItemName:a.name,sku:a.sku,baseUnit:a.baseUnit,quantity:1,unitCost:a.averageCost,lineTotal:+a.averageCost}]),q(""),u(!1)},className:"w-full px-4 py-3 text-left hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["SKU: ",a.sku," | Stock: ",a.currentStock," ",a.baseUnit]})]},a.id))})]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Item"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Qty"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Cost"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Total"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:0===n.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"px-4 py-8 text-center text-sm text-slate-400 font-medium",children:"No items added. Search above."})}):n.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50/50",children:[(0,b.jsxs)("td",{className:"px-4 py-3",children:[(0,b.jsx)("div",{className:"text-sm font-bold text-slate-900",children:a.inventoryItemName}),(0,b.jsx)("div",{className:"text-[10px] text-slate-400",children:a.sku})]}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsx)("input",{type:"number",value:a.quantity,onChange:b=>{var c,d,e;return c=a.id,d="quantity",e=parseFloat(b.target.value)||0,void o(n.map(a=>{if(a.id!==c)return a;let b={...a,[d]:e};return b.lineTotal=b.quantity*b.unitCost,b}))},className:"w-20 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-right text-sm focus:border-rose-600 outline-none",min:"0"})}),(0,b.jsxs)("td",{className:"px-4 py-3 text-right text-sm text-slate-600",children:["$",a.unitCost.toFixed(2)]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-right text-sm font-bold text-slate-900",children:["$",a.lineTotal.toFixed(2)]}),(0,b.jsx)("td",{className:"px-4 py-3 text-center",children:(0,b.jsx)("button",{onClick:()=>{var b;return b=a.id,void o(n.filter(a=>a.id!==b))},className:"text-slate-400 hover:text-rose-600 transition-colors",children:(0,b.jsx)(ar,{size:16})})})]},a.id))})]})})]})]}),(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Summary"}),(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("span",{className:"text-slate-600 font-bold text-sm",children:"Total Items"}),(0,b.jsx)("span",{className:"text-slate-900 font-black",children:n.length})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-slate-100",children:[(0,b.jsx)("span",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:"Total Value"}),(0,b.jsxs)("span",{className:"text-2xl font-black text-rose-600",children:["$",x.toFixed(2)]})]}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-2",children:"This value will be deducted from your inventory valuation."}),(0,b.jsxs)("button",{onClick:y,className:"w-full mt-6 py-3 bg-rose-600 text-white rounded-xl text-sm font-black uppercase tracking-widest shadow-lg shadow-rose-200 hover:bg-rose-700 transition-all flex items-center justify-center gap-2",children:[(0,b.jsx)(D.RotateCcw,{size:16}),"Process Return"]})]})})]})]})}],63033),a.s([],89738);let b2=[{category:"User Roles",actions:["View users","Add user","Edit user","Disable user","Assign roles","View roles","Create role","Edit role","Delete role"]},{category:"Customers",actions:["View customers","Add customer","Edit customer","Delete customer","View order history","Add customer notes","Block / blacklist customer"]},{category:"Items",actions:["View items","Add product","Edit product","Delete product","Manage variants","Manage modifiers","Update pricing","Assign categories"]},{category:"Inventory",actions:["View inventory","Add inventory item","Edit inventory item","Delete inventory item","Stock adjustment","Waste / damage entry","Recipe management","Low stock alerts"]},{category:"Finances",actions:["View transactions","Issue refund","Partial refund","Void transaction","View payment methods","Manage service charges","View settlement reports"]},{category:"Reports",actions:["View sales reports","View tax reports","View inventory reports","View staff performance","Export reports (CSV / Excel / PDF)"]},{category:"POS",actions:["Access POS screen","Create order","Edit order","Apply discount","Override price","Cancel order","Reprint receipt","Open cash drawer","Split payment","Hold / recall order"]},{category:"Online Ordering",actions:["View online orders","Accept / reject orders","Edit online order","Manage delivery / pickup status","Pause online ordering","Manage time slots"]},{category:"Kitchen (KDS)",actions:["Access KDS screen","View incoming orders","Change item status (Preparing / Ready)","Recall order","Re-fire item","Mark order complete","View preparation time","Route orders to stations"]},{category:"Taxes",actions:["View tax rules","Add tax","Edit tax","Delete tax","Assign tax to items / locations"]},{category:"Settings",actions:["View settings","Edit store settings","Manage payment settings","Manage printers / hardware","Manage integrations","Access audit logs"]},{category:"Kiosk",actions:["Enable / disable kiosk","Configure kiosk menu","Set kiosk pricing","Restrict payment types","View kiosk orders","Reset kiosk session"]}],b3=[{id:"ROLE_ADMIN",name:"Admin",description:"Full system access",permissions:b2.flatMap(a=>a.actions),isSystem:!0,createdAt:new Date().toISOString()},{id:"ROLE_MANAGER",name:"Store Manager",description:"Manage store operations",permissions:["View users","Add user","Edit user","View reports","Access POS screen","View inventory"],createdAt:new Date().toISOString()},{id:"ROLE_CASHIER",name:"POS Cashier",description:"Front of house staff",permissions:["Access POS screen","Create order","View customers"],createdAt:new Date().toISOString()},{id:"ROLE_KITCHEN",name:"Kitchen Staff",description:"Back of house cooking staff",permissions:["Access KDS screen","View incoming orders","Change item status (Preparing / Ready)"],createdAt:new Date().toISOString()},{id:"ROLE_CALL_CENTER",name:"Call Agent",description:"Remote order taking",permissions:["Create order","View customers","View items"],createdAt:new Date().toISOString()}],b4=[{id:"USER_001",fullName:"System Admin",email:"admin@zyappy.com",type:"Admin User",roleId:"ROLE_ADMIN",roleName:"Admin",assignedStores:["All"],status:"Active",createdAt:new Date().toISOString()},{id:"USER_002",fullName:"Sarah Manager",email:"sarah@store1.com",type:"Manager User",roleId:"ROLE_MANAGER",roleName:"Store Manager",assignedStores:["STORE_001"],status:"Active",createdAt:new Date().toISOString()},{id:"USER_003",fullName:"David Cashier",email:"david@store1.com",type:"POS User",roleId:"ROLE_CASHIER",roleName:"POS Cashier",assignedStores:["STORE_001"],status:"Active",createdAt:new Date().toISOString()},{id:"USER_004",fullName:"Mike Chef",email:"mike@kitchen.com",type:"Kitchen User",roleId:"ROLE_KITCHEN",roleName:"Kitchen Staff",assignedStores:["STORE_001"],status:"Active",createdAt:new Date().toISOString()}],b5=[...b3],b6=[...b4],b7=[],b8=async()=>(await new Promise(a=>setTimeout(a,500)),[...b6]),b9=async a=>{if(await new Promise(a=>setTimeout(a,500)),b6.some(b=>b.email===a.email))throw Error("Email already exists");let b=b5.find(b=>b.id===a.roleId);if(!b)throw Error("Invalid Role ID");let c={id:`USER_${Date.now()}`,...a,roleName:b.name,status:"Active",createdAt:new Date().toISOString()};return b6=[c,...b6],b7.unshift({id:`LOG_${Date.now()}`,action:"User User",details:`Created user ${c.fullName} (${c.type})`,performedBy:"Current User",timestamp:new Date().toISOString()}),c},ca=async(a,b)=>{await new Promise(a=>setTimeout(a,500));let c=b6.findIndex(b=>b.id===a);if(-1===c)throw Error("User not found");let d=b6[c];if(!d)throw Error("User not found");let e=d.roleName;if(b.roleId){let a=b5.find(a=>a.id===b.roleId);a&&(e=a.name)}let f={...d,...b,roleName:e};return b6[c]=f,b7.unshift({id:`LOG_${Date.now()}`,action:"User User",details:`Updated user ${f.fullName}`,performedBy:"Current User",timestamp:new Date().toISOString()}),f},cb=async a=>{await new Promise(a=>setTimeout(a,300));let b=b6.findIndex(b=>b.id===a);if(-1===b)throw Error("User not found");let c=b6[b];if(!c)throw Error("User not found");let d="Active"===c.status?"Disabled":"Active";return c.status=d,b7.unshift({id:`LOG_${Date.now()}`,action:"User User",details:`${"Active"===d?"Enabled":"Disabled"} user ${c.fullName}`,performedBy:"Current User",timestamp:new Date().toISOString()}),c},cc=async()=>(await new Promise(a=>setTimeout(a,500)),[...b5]),cd=async a=>{await new Promise(a=>setTimeout(a,500));let b={id:`ROLE_${Date.now()}`,...a,createdAt:new Date().toISOString()};return b5=[b,...b5],b7.unshift({id:`LOG_${Date.now()}`,action:"User Role",details:`Created role ${b.name}`,performedBy:"Current User",timestamp:new Date().toISOString()}),b},ce=async(a,b)=>{await new Promise(a=>setTimeout(a,500));let c=b5.findIndex(b=>b.id===a);if(-1===c)throw Error("Role not found");let d=b5[c];if(!d)throw Error("Role not found");if(d.isSystem)throw Error("Cannot edit system roles");let e={...d,...b};return b5[c]=e,b7.unshift({id:`LOG_${Date.now()}`,action:"User Role",details:`Updated role ${e.name}`,performedBy:"Current User",timestamp:new Date().toISOString()}),e},cf=async a=>{await new Promise(a=>setTimeout(a,500));let b=b5.find(b=>b.id===a);if(!b)throw Error("Role not found");if(b.isSystem)throw Error("Cannot delete system roles");if(b6.some(b=>b.roleId===a))throw Error("Cannot delete role assigned to users");return b5=b5.filter(b=>b.id!==a),!0},cg=async()=>(await new Promise(a=>setTimeout(a,300)),[...b7]),ch=(0,g.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),ci=(0,g.default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),cj=({users:a,onEdit:c,onToggleStatus:d})=>(0,b.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-left pl-8",children:"Name"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-left",children:"Type"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-left",children:"Role"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-left",children:"Stores"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right pr-8",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:a.map(a=>(0,b.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-5 pl-8",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-black uppercase",children:a.fullName.substring(0,2)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-black text-slate-900",children:a.fullName}),(0,b.jsx)("div",{className:"text-xs font-medium text-slate-500",children:a.email})]})]})}),(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsx)("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold whitespace-nowrap",children:a.type})}),(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(aX,{size:14,className:"text-emerald-500"}),(0,b.jsx)("span",{className:"text-sm font-bold text-slate-700",children:a.roleName})]})}),(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.assignedStores.map(a=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 border border-slate-200 rounded text-[10px] font-bold text-slate-500 uppercase tracking-wide",children:[(0,b.jsx)(bn.Store,{size:10}),a]},a))})}),(0,b.jsx)("td",{className:"px-6 py-5 text-center",children:(0,b.jsx)("span",{className:`
                                        px-3 py-1 rounded-full text-xs font-bold border
                                        ${"Active"===a.status?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-rose-50 text-rose-700 border-rose-100"}
                                    `,children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-5 pr-8 text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>c(a),className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all",title:"Edit User",children:(0,b.jsx)(am,{size:16,strokeWidth:2.5})}),(0,b.jsx)("button",{onClick:()=>d(a),className:`p-2 rounded-lg transition-all ${"Active"===a.status?"text-slate-400 hover:text-rose-600 hover:bg-rose-50":"text-emerald-600 bg-emerald-50 hover:bg-emerald-100"}`,title:"Active"===a.status?"Disable User":"Activate User",children:"Active"===a.status?(0,b.jsx)(ch,{size:16,strokeWidth:2.5}):(0,b.jsx)(ci,{size:16,strokeWidth:2.5})})]})})]},a.id))})]})})}),ck=["POS User","Call Center User","Kitchen User","Manager User","Admin User","Delivery User"],cl=["STORE_001","STORE_002","STORE_003","All"],cm=({isOpen:a,onClose:d,onSave:e,userToEdit:f})=>{let[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)("POS User"),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&(cc().then(r).catch(console.error),f?(h(f.fullName),j(f.email),l(f.type),n(f.roleId),p(f.assignedStores)):(h(""),j(""),l("POS User"),n(""),p([])),v(null))},[a,f]);let w=async()=>{let a=(()=>{if(!g.trim())return"Full name is required";if(!i.trim()||!i.includes("@"))return"Valid email is required";if(!k)return"User Type is required";if(!m)return"Role is required";if(0===o.length)return"At least one store must be assigned";let a=q.find(a=>a.id===m);return a?"Kitchen User"!==k||a.permissions.some(a=>b2.find(a=>"Kitchen (KDS)"===a.category)?.actions.includes(a))?"POS User"!==k||a.permissions.some(a=>b2.find(a=>"POS"===a.category)?.actions.includes(a))?null:'POS User must have a Role with "POS" permissions.':'Kitchen User must have a Role with "Kitchen (KDS)" permissions.':"Invalid role selected"})();if(a)return void v(a);t(!0),v(null);try{f?await ca(f.id,{fullName:g,email:i,type:k,roleId:m,assignedStores:o}):await b9({fullName:g,email:i,type:k,roleId:m,assignedStores:o}),e(),d()}catch(a){v(a.message||"Failed to save user")}finally{t(!1)}};return a?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-100 sticky top-0 bg-white z-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-black text-slate-900",children:f?"Edit User":"Add New User"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Create system access credentials"})]}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:(0,b.jsx)(P,{size:20,className:"text-slate-400"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[u&&(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-rose-50 text-rose-700 rounded-xl border border-rose-100",children:[(0,b.jsx)(bz,{size:20}),(0,b.jsx)("span",{className:"text-sm font-bold",children:u})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Full Name *"}),(0,b.jsx)("input",{type:"text",value:g,onChange:a=>h(a.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 outline-none",placeholder:"John Doe"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Email Address *"}),(0,b.jsx)("input",{type:"email",value:i,onChange:a=>j(a.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 outline-none",placeholder:"john@example.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"User Type *"}),(0,b.jsx)("select",{value:k,onChange:a=>l(a.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 outline-none",children:ck.map(a=>(0,b.jsx)("option",{value:a,children:a},a))}),(0,b.jsx)("p",{className:"text-[10px] text-slate-400 mt-1 font-medium bg-slate-50 p-2 rounded-lg",children:"Defines system interface access (POS, Kitchen, Backoffice)."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Role *"}),(0,b.jsxs)("select",{value:m,onChange:a=>n(a.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 outline-none",children:[(0,b.jsx)("option",{value:"",children:"Select Role"}),q.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,b.jsx)("p",{className:"text-[10px] text-slate-400 mt-1 font-medium bg-slate-50 p-2 rounded-lg",children:"Defines specific actions and permissions."})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Assigned Stores *"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:cl.map(a=>(0,b.jsxs)("label",{className:`
                                        flex items-center gap-2 p-3 rounded-xl border cursor-pointer transition-all
                                        ${o.includes(a)?"bg-emerald-50 border-emerald-200 shadow-sm":"bg-white border-slate-100 hover:bg-slate-50"}
                                    `,children:[(0,b.jsx)("input",{type:"checkbox",checked:o.includes(a),onChange:()=>{p(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:"rounded text-emerald-600 focus:ring-emerald-500"}),(0,b.jsx)("span",{className:`text-xs font-bold ${o.includes(a)?"text-emerald-900":"text-slate-600"}`,children:a})]},a))})]})]})]}),(0,b.jsxs)("div",{className:"p-6 border-t border-slate-100 flex justify-end gap-3 bg-slate-50/50",children:[(0,b.jsx)("button",{onClick:d,className:"px-6 py-2.5 text-sm font-bold text-slate-600 hover:bg-white hover:shadow-sm rounded-xl transition-all border border-transparent hover:border-slate-200",children:"Cancel"}),(0,b.jsx)("button",{onClick:w,disabled:s,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-slate-800 transition-all disabled:opacity-50",children:s?"Saving...":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Y,{size:18}),"Save User"]})})]})]})}):null},cn=()=>{let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{cg().then(a=>{d(a),f(!1)})},[]),e)?null:(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden h-full flex flex-col",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/30",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(ac,{size:18,className:"text-slate-400"}),(0,b.jsx)("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-wider",children:"System Audit Log"})]})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:0===a.length?(0,b.jsx)("div",{className:"text-center py-10 text-slate-400 text-xs italic",children:"No activity recorded yet."}):a.map(a=>(0,b.jsxs)("div",{className:"flex gap-3 items-start group",children:[(0,b.jsx)("div",{className:`
                                mt-1 p-2 rounded-lg 
                                ${"User User"===a.action?"bg-emerald-50 text-emerald-600":"bg-indigo-50 text-indigo-600"}
                            `,children:"User User"===a.action?(0,b.jsx)(S,{size:14}):(0,b.jsx)(aX,{size:14})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-900 leading-tight",children:a.details}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400",children:a.performedBy}),(0,b.jsx)("span",{className:"w-1 h-1 bg-slate-200 rounded-full"}),(0,b.jsx)("span",{className:"text-[10px] font-medium text-slate-400",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]},a.id))})]})};a.s(["UsersPage",0,()=>{let a=(0,ad.useRouter)(),[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(void 0),[l,m]=(0,c.useState)(!1),n=async()=>{g(!0);try{let a=await b8();e(a)}catch(a){console.error("Failed to load users:",a)}finally{g(!1)}};(0,c.useEffect)(()=>{n()},[]);let o=async a=>{if(window.confirm(`Are you sure you want to ${"Active"===a.status?"disable":"enable"} this user?`))try{await cb(a.id),await n()}catch(a){console.error(a)}};return(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between pb-6 border-b border-slate-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-900 text-white rounded-2xl shadow-xl shadow-slate-200",children:(0,b.jsx)(a7.Users,{size:24,strokeWidth:2.5})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"User Management"}),(0,b.jsx)("p",{className:"text-slate-500 font-medium mt-1",children:"Manage system access and employees"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("button",{onClick:()=>m(!l),className:`flex items-center gap-2 px-5 py-3 rounded-xl text-sm font-bold transition-all ${l?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,children:[(0,b.jsx)(ac,{size:18}),l?"Hide Audit Log":"View Audit Log"]}),(0,b.jsxs)("button",{onClick:()=>a.push("/backoffice/roles"),className:"flex items-center gap-2 px-5 py-3 text-slate-600 bg-white border border-slate-200 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:[(0,b.jsx)(aX,{size:18}),"Manage Roles"]}),(0,b.jsxs)("button",{onClick:()=>{k(void 0),i(!0)},className:"flex items-center gap-2 px-5 py-3 bg-slate-900 text-white rounded-xl text-sm font-bold shadow-lg shadow-slate-900/20 hover:bg-slate-800 hover:scale-[1.02] active:scale-95 transition-all",children:[(0,b.jsx)(M.Plus,{size:18,strokeWidth:3}),"Add New User"]})]})]}),(0,b.jsxs)("div",{className:"flex gap-6 items-start",children:[(0,b.jsx)("div",{className:`flex-1 transition-all duration-500 ${l?"w-2/3":"w-full"}`,children:f?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-slate-900"})}):(0,b.jsx)(cj,{users:d,onEdit:a=>{k(a),i(!0)},onToggleStatus:o})}),l&&(0,b.jsx)("div",{className:"w-1/3 sticky top-6 animate-in slide-in-from-right duration-300",children:(0,b.jsx)(cn,{})})]}),(0,b.jsx)(cm,{isOpen:h,onClose:()=>i(!1),onSave:n,userToEdit:j})]})}],19235);let co=({roles:a,onEdit:c,onDelete:d})=>(0,b.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-left pl-8",children:"Role Name"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-left",children:"Description"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Permissions"}),(0,b.jsx)("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right pr-8",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:a.map(a=>(0,b.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-5 pl-8",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`p-2.5 rounded-xl ${a.isSystem?"bg-indigo-50 text-indigo-600":"bg-slate-100 text-slate-500"}`,children:a.isSystem?(0,b.jsx)(aq,{size:18,strokeWidth:2.5}):(0,b.jsx)(aR,{size:18,strokeWidth:2.5})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-black text-slate-900",children:a.name}),a.isSystem&&(0,b.jsx)("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-wide",children:"System Locked"})]})]})}),(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsx)("div",{className:"text-sm font-medium text-slate-600 truncate max-w-xs",children:a.description||"-"})}),(0,b.jsx)("td",{className:"px-6 py-5 text-center",children:(0,b.jsxs)("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-bold border border-emerald-100",children:[a.permissions.length," Enabled"]})}),(0,b.jsx)("td",{className:"px-6 py-5 pr-8 text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>c(a),className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all",title:"Edit Role",children:(0,b.jsx)(am,{size:16,strokeWidth:2.5})}),!a.isSystem&&(0,b.jsx)("button",{onClick:()=>d(a),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",title:"Delete Role",children:(0,b.jsx)(ar,{size:16,strokeWidth:2.5})})]})})]},a.id))})]})})}),cp=({category:a,actions:d,selectedPermissions:e,onToggle:f,onToggleAll:g})=>{let[h,i]=(0,c.useState)(!1),j=d.filter(a=>e.includes(a)).length,k=j===d.length,l=j>0&&!k;return(0,b.jsxs)("div",{className:"border border-slate-200 rounded-xl overflow-hidden bg-white shadow-sm mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 cursor-pointer hover:bg-slate-100 transition-colors select-none",onClick:()=>i(!h),children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[h?(0,b.jsx)(at.ChevronDown,{size:18,className:"text-slate-400"}):(0,b.jsx)(s.ChevronRight,{size:18,className:"text-slate-400"}),(0,b.jsx)("span",{className:"font-bold text-slate-800 text-sm",children:a}),j>0&&(0,b.jsxs)("span",{className:"bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-full text-[10px] font-bold",children:[j," / ",d.length]})]}),(0,b.jsx)("div",{className:"flex items-center",onClick:a=>a.stopPropagation(),children:(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer text-xs font-bold text-slate-500 hover:text-slate-800",children:[(0,b.jsx)("input",{type:"checkbox",checked:k,ref:a=>{a&&(a.indeterminate=l)},onChange:a=>g(a.target.checked),className:"w-4 h-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500"}),"Select All"]})})]}),h&&(0,b.jsx)("div",{className:"p-4 border-t border-slate-100 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:d.map(a=>{let c=e.includes(a);return(0,b.jsxs)("label",{className:`
                                    flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all
                                    ${c?"bg-emerald-50 border-emerald-200 shadow-sm":"bg-white border-slate-100 hover:bg-slate-50"}
                                `,children:[(0,b.jsx)("div",{className:`
                                    w-5 h-5 rounded flex items-center justify-center border transition-all flex-shrink-0
                                    ${c?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-slate-300"}
                                `,children:c&&(0,b.jsx)(au,{size:12,strokeWidth:3})}),(0,b.jsx)("input",{type:"checkbox",className:"hidden",checked:c,onChange:()=>f(a)}),(0,b.jsx)("span",{className:`text-xs font-bold leading-tight ${c?"text-emerald-900":"text-slate-600"}`,children:a})]},a)})})]})},cq=({role:a,onSave:d,onCancel:e})=>{let[f,g]=(0,c.useState)(a?.name||""),[h,i]=(0,c.useState)(a?.description||""),[j,k]=(0,c.useState)(a?.permissions||[]),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),p=a=>{k(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},q=async()=>{if(!f.trim())return void o("Role Name is required");o(null),m(!0);try{await d({name:f,description:h,permissions:j})}catch(a){o(a.message||"Failed to save role")}finally{m(!1)}};return(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white sticky top-0 z-10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-black text-slate-800 tracking-tight",children:a?"Edit Role":"Create New Role"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Define permissions for this employee role"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:e,className:"px-6 py-2.5 text-sm font-bold text-slate-600 hover:bg-slate-50 rounded-xl transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:q,disabled:l,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-slate-800 transition-all disabled:opacity-50",children:l?"Saving...":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Y,{size:18}),"Save Role"]})})]})]}),(0,b.jsxs)("div",{className:"p-8 max-w-5xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Role Name *"}),(0,b.jsx)("input",{type:"text",value:f,onChange:a=>g(a.target.value),placeholder:"e.g. Senior Cashier",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 outline-none transition-all"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-600 uppercase tracking-wider mb-2",children:"Description"}),(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),placeholder:"Brief description of responsibilities",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium text-slate-900 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 outline-none transition-all"})]})]}),n&&(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-rose-50 text-rose-700 rounded-xl border border-rose-100",children:[(0,b.jsx)(bz,{size:20}),(0,b.jsx)("span",{className:"text-sm font-bold",children:n})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Permissions"}),(0,b.jsx)("div",{className:"space-y-4",children:b2.map(a=>(0,b.jsx)(cp,{category:a.category,actions:a.actions,selectedPermissions:j,onToggle:p,onToggleAll:b=>{var c;return c=a.actions,void k(a=>{if(!b)return a.filter(a=>!c.includes(a));{let b=c.filter(b=>!a.includes(b));return[...a,...b]}})}},a.category))})]})]})]})};a.s(["RolesPage",0,()=>{let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)("list"),[i,j]=(0,c.useState)(void 0),k=async()=>{f(!0);try{let a=await cc();d(a)}catch(a){console.error("Failed to load roles:",a)}finally{f(!1)}};(0,c.useEffect)(()=>{k()},[]);let l=async a=>{if(window.confirm(`Are you sure you want to delete role "${a.name}"?`))try{await cf(a.id),await k()}catch(a){alert(a.message)}},m=async a=>{i?await ce(i.id,a):await cd(a),await k(),h("list")};return"edit"===g?(0,b.jsx)("div",{className:"max-w-[1600px] mx-auto pb-24 space-y-6",children:(0,b.jsx)(cq,{role:i,onSave:m,onCancel:()=>h("list")})}):(0,b.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between pb-6 border-b border-slate-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Employee Roles"}),(0,b.jsx)("p",{className:"text-slate-500 font-medium mt-1",children:"Define permissions and access levels for staff"})]}),(0,b.jsxs)("button",{onClick:()=>{j(void 0),h("edit")},className:"flex items-center gap-2 px-5 py-3 bg-slate-900 text-white rounded-xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 hover:scale-[1.02] active:scale-95 transition-all",children:[(0,b.jsx)(M.Plus,{size:18,strokeWidth:3}),"Add New Role"]})]}),e?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-slate-900"})}):(0,b.jsx)(co,{roles:a,onEdit:a=>{j(a),h("edit")},onDelete:l})]})}],71849),a.s([],42661);let cr=(0,g.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),cs=(0,g.default)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var ct=a.i(57064);let cu={...{businessInfo:{businessName:"Zyappy Demo",startDate:"2024-01-01",website:"https://zyappy.com",isWebsitePublic:!0,phone:"+1 (555) 000-1234",isPhonePublic:!0,address:"123 Tech Avenue, Silicon Valley, CA",logoUrl:"https://placehold.co/200x200/0f172a/ffffff?text=ZYAPPY"},localization:{currency:"USD",decimalPrecision:2,timezone:"America/Los_Angeles",dateFormat:"MM/DD/YYYY",timeFormat:"12h"},taxes:[{id:"tax_1",name:"VAT",percentage:5,type:"Exclusive",applicableChannels:["POS","Online","Kiosk"],status:"Active"},{id:"tax_2",name:"Service Charge",percentage:10,type:"Inclusive",applicableChannels:["POS"],status:"Active"}],smtp:{host:"smtp.zyappy.com",port:587,encryption:"TLS",username:"notifications@zyappy.com",password:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",senderName:"Zyappy POS",senderEmail:"noreply@zyappy.com"},sms:{provider:"Twilio",accountSid:"ACxxxxxxxxxxxxxxxxxxxxxxxx",authToken:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",senderNumber:"+1234567890"},loyalty:{isEnabled:!0,earningRules:"1 point per $1 spent",redemptionRules:"100 points = $5 discount",expiryPeriodMonths:12},modules:{pos:!0,onlineOrdering:!0,kiosk:!0,inventory:!0,pricing:!0,kitchen:!0,delivery:!0,marketing:!0,aiPhoneOrdering:!1,analytics:!0},locations:[{id:"loc_1",name:"Flagship Store",address:"123 Main St, Downtown",status:"Active",timezone:"America/Los_Angeles",timings:{pos:Array(7).fill(null).map((a,b)=>({day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][b],openTime:"09:00",closeTime:"22:00",isOpen:!0})),online:Array(7).fill(null).map((a,b)=>({day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][b],openTime:"10:00",closeTime:"21:00",isOpen:!0})),kiosk:Array(7).fill(null).map((a,b)=>({day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][b],openTime:"09:00",closeTime:"22:00",isOpen:!0}))}}]}},cv=[],cw=async()=>(await new Promise(a=>setTimeout(a,500)),{...cu}),cx=async a=>(cu.businessInfo=a,cG("Business Information Updated",a),{...cu.businessInfo}),cy=async a=>(cu.localization=a,cG("Localization Settings Updated",a),{...cu.localization}),cz=async a=>(cu.taxes=a,cG("Tax Configuration Updated",a),[...cu.taxes]),cA=async a=>(cu.smtp=a,cG("SMTP Settings Updated",{...a,password:"****"}),{...cu.smtp}),cB=async a=>(cu.sms=a,cG("SMS Settings Updated",{...a,authToken:"****"}),{...cu.sms}),cC=async a=>(cu.loyalty=a,cG("Loyalty Settings Updated",a),{...cu.loyalty}),cD=async a=>(cu.modules=a,cG("Module Toggles Updated",a),{...cu.modules}),cE=async a=>(cu.locations=a,cG("Location Configuration Updated",a),[...cu.locations]),cF=async a=>{if(await new Promise(a=>setTimeout(a,1e3)),a.includes("error"))throw Error("SMTP Connection Failed");return{success:!0,message:`Test email sent successfully to ${a}`}};function cG(a,b){cv.unshift({id:Date.now().toString(),timestamp:new Date().toISOString(),action:a,details:JSON.stringify(b),user:"Admin User"})}let cH=({title:a,icon:c,colorClass:d="text-slate-900"})=>(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-slate-100",children:[(0,b.jsx)("div",{className:`p-2 rounded-xl bg-slate-100 ${d}`,children:(0,b.jsx)(c,{size:20,strokeWidth:2.5})}),(0,b.jsx)("h2",{className:"text-lg font-black text-slate-900 tracking-tight uppercase tracking-wider",children:a})]}),cI=({data:a,canEdit:d,onSave:e,isSaving:f})=>{let[g,i]=(0,c.useState)(a);return(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,b.jsx)(cH,{title:"Business Information",icon:bc,colorClass:"text-emerald-600"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-1 flex flex-col items-center justify-center p-6 border-2 border-dashed border-slate-200 rounded-3xl bg-slate-50 group hover:border-emerald-300 transition-all cursor-pointer",children:[g.logoUrl?(0,b.jsx)("img",{src:g.logoUrl,alt:"Logo",className:"w-32 h-32 object-contain rounded-2xl mb-4"}):(0,b.jsx)(bI,{size:32,className:"text-slate-400 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Logo Upload"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-400 mt-1",children:"Recommended 200x200px"})]}),(0,b.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(cR,{label:"Business Name",value:g.businessName,onChange:a=>i({...g,businessName:a}),required:!0,readOnly:!d}),(0,b.jsx)(cR,{label:"Start Date",type:"date",value:g.startDate,onChange:a=>i({...g,startDate:a}),readOnly:!d}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(cR,{label:"Website",value:g.website,onChange:a=>i({...g,website:a}),readOnly:!d}),(0,b.jsx)(cT,{label:"Publicly visible?",checked:g.isWebsitePublic,onChange:a=>i({...g,isWebsitePublic:a}),disabled:!d})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(cR,{label:"Phone",value:g.phone,onChange:a=>i({...g,phone:a}),readOnly:!d}),(0,b.jsx)(cT,{label:"Publicly visible?",checked:g.isPhonePublic,onChange:a=>i({...g,isPhonePublic:a}),disabled:!d})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Business Address"}),(0,b.jsx)("textarea",{value:g.address,onChange:a=>i({...g,address:a.target.value}),readOnly:!d,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:border-emerald-500 outline-none min-h-[100px] resize-none"})]})]})]}),d&&(0,b.jsx)("div",{className:"mt-8 flex justify-end",children:(0,b.jsxs)("button",{onClick:()=>e(g),disabled:f,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[f?(0,b.jsx)(h,{size:18,className:"animate-spin"}):(0,b.jsx)(Y,{size:18}),"Save Changes"]})})]})},cJ=({data:a,canEdit:d,onSave:e,isSaving:f})=>{let[g,i]=(0,c.useState)(a);return(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,b.jsx)(cH,{title:"Financial & Localization",icon:ay,colorClass:"text-blue-600"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,b.jsx)(cS,{label:"Currency",value:g.currency,options:["USD","EUR","GBP","INR","AED"],onChange:a=>i({...g,currency:a}),disabled:!d}),(0,b.jsx)(cS,{label:"Decimal Precision",value:g.decimalPrecision.toString(),options:["0","1","2","3"],onChange:a=>i({...g,decimalPrecision:parseInt(a)}),disabled:!d}),(0,b.jsx)(cS,{label:"Time Zone",value:g.timezone,options:["America/Los_Angeles","America/New_York","UTC","Asia/Dubai","Asia/Kolkata"],onChange:a=>i({...g,timezone:a}),disabled:!d}),(0,b.jsx)(cS,{label:"Date Format",value:g.dateFormat,options:["MM/DD/YYYY","DD/MM/YYYY","YYYY-MM-DD"],onChange:a=>i({...g,dateFormat:a}),disabled:!d}),(0,b.jsx)(cS,{label:"Time Format",value:g.timeFormat,options:["12h","24h"],onChange:a=>i({...g,timeFormat:a}),disabled:!d})]}),d&&(0,b.jsx)("div",{className:"mt-8 flex justify-end",children:(0,b.jsxs)("button",{onClick:()=>e(g),disabled:f,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[f?(0,b.jsx)(h,{size:18,className:"animate-spin"}):(0,b.jsx)(Y,{size:18}),"Save Localization"]})})]})},cK=({taxes:a,canEdit:d,onSave:e,isSaving:f})=>{let[g,i]=(0,c.useState)(a),j=(a,b,c)=>{i(g.map(d=>d.id===a?{...d,[b]:c}:d))};return(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)(cH,{title:"Tax Configuration",icon:ag,colorClass:"text-orange-600"}),d&&(0,b.jsxs)("button",{onClick:()=>{i([...g,{id:Date.now().toString(),name:"New Tax",percentage:0,type:"Exclusive",applicableChannels:["POS"],status:"Active"}])},className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl text-xs font-bold border border-emerald-100 hover:bg-emerald-100 transition-all",children:[(0,b.jsx)(M.Plus,{size:16})," Add Tax"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-100",children:[(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest pl-0",children:"Tax Name"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"%"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Type"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Channels"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),(0,b.jsx)("th",{className:"px-4 py-3 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right pr-0",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:g.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"px-4 py-4 pl-0",children:(0,b.jsx)("input",{value:a.name,onChange:b=>j(a.id,"name",b.target.value),readOnly:!d,className:"bg-transparent border-none outline-none font-bold text-sm text-slate-900 w-full focus:bg-slate-50 p-1 rounded-lg"})}),(0,b.jsx)("td",{className:"px-4 py-4",children:(0,b.jsx)("input",{type:"number",value:a.percentage,onChange:b=>j(a.id,"percentage",parseFloat(b.target.value)),readOnly:!d,className:"bg-transparent border-none outline-none font-bold text-sm text-slate-900 w-16 focus:bg-slate-50 p-1 rounded-lg"})}),(0,b.jsx)("td",{className:"px-4 py-4",children:(0,b.jsxs)("select",{value:a.type,onChange:b=>j(a.id,"type",b.target.value),disabled:!d,className:"bg-transparent border-none outline-none font-bold text-xs text-slate-500 uppercase tracking-wide",children:[(0,b.jsx)("option",{value:"Inclusive",children:"Inclusive"}),(0,b.jsx)("option",{value:"Exclusive",children:"Exclusive"})]})}),(0,b.jsx)("td",{className:"px-4 py-4",children:(0,b.jsx)("div",{className:"flex gap-1",children:["POS","Online","Kiosk"].map(c=>(0,b.jsx)("button",{onClick:()=>{let b=a.applicableChannels.includes(c)?a.applicableChannels.filter(a=>a!==c):[...a.applicableChannels,c];j(a.id,"applicableChannels",b)},disabled:!d,className:`px-2 py-0.5 rounded text-[9px] font-black uppercase tracking-tighter border transition-all ${a.applicableChannels.includes(c)?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-400 border-slate-200"}`,children:c},c))})}),(0,b.jsx)("td",{className:"px-4 py-4 text-center",children:(0,b.jsx)("button",{onClick:()=>j(a.id,"status","Active"===a.status?"Inactive":"Active"),disabled:!d,className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border transition-all ${"Active"===a.status?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-slate-100 text-slate-400 border-slate-200"}`,children:a.status})}),(0,b.jsx)("td",{className:"px-4 py-4 pr-0 text-right",children:d&&(0,b.jsx)("button",{onClick:()=>{var b;return b=a.id,void i(g.filter(a=>a.id!==b))},className:"p-2 text-slate-300 hover:text-rose-500 transition-all",children:(0,b.jsx)(ar,{size:16})})})]},a.id))})]})}),d&&(0,b.jsx)("div",{className:"mt-8 flex justify-end",children:(0,b.jsxs)("button",{onClick:()=>e(g),disabled:f,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[f?(0,b.jsx)(h,{size:18,className:"animate-spin"}):(0,b.jsx)(Y,{size:18}),"Save Tax Config"]})})]})},cL=({data:a,canEdit:d,onSave:e,isSaving:f})=>{let[g,i]=(0,c.useState)(a),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null),n=async()=>{k(!0);try{let a=await cF(g.senderEmail);m(a.message)}catch(a){m("Error: "+a.message)}finally{k(!1),setTimeout(()=>m(null),5e3)}};return(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,b.jsx)(cH,{title:"Email (SMTP) Settings",icon:a_,colorClass:"text-purple-600"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,b.jsx)(cR,{label:"SMTP Host",value:g.host,onChange:a=>i({...g,host:a}),readOnly:!d}),(0,b.jsx)(cR,{label:"Port",type:"number",value:g.port.toString(),onChange:a=>i({...g,port:parseInt(a)||0}),readOnly:!d}),(0,b.jsx)(cS,{label:"Encryption",value:g.encryption,options:["None","SSL","TLS"],onChange:a=>i({...g,encryption:a}),disabled:!d}),(0,b.jsx)(cR,{label:"Username",value:g.username,onChange:a=>i({...g,username:a}),readOnly:!d}),(0,b.jsx)(cR,{label:"Password",type:"password",value:g.password,onChange:a=>i({...g,password:a}),readOnly:!d}),(0,b.jsx)("div",{className:"md:col-span-1"}),(0,b.jsx)(cR,{label:"Sender Name",value:g.senderName,onChange:a=>i({...g,senderName:a}),readOnly:!d}),(0,b.jsx)(cR,{label:"Sender Email",value:g.senderEmail,onChange:a=>i({...g,senderEmail:a}),readOnly:!d})]}),(0,b.jsxs)("div",{className:"mt-8 pt-8 border-t border-slate-50 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:n,disabled:j||!d,className:"px-6 py-2.5 bg-slate-100 text-slate-800 rounded-xl text-xs font-bold border border-slate-200 hover:bg-white transition-all disabled:opacity-50",children:j?"Sending...":"Send Test Email"}),l&&(0,b.jsx)("span",{className:`text-xs font-bold ${l.startsWith("Error")?"text-rose-600":"text-emerald-600"}`,children:l})]}),d&&(0,b.jsxs)("button",{onClick:()=>e(g),disabled:f,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[f?(0,b.jsx)(h,{size:18,className:"animate-spin"}):(0,b.jsx)(Y,{size:18}),"Save SMTP"]})]})]})},cM=({data:a,canEdit:d,onSave:e,isSaving:f})=>{let[g,i]=(0,c.useState)(a),[j,k]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,b.jsx)(cH,{title:"SMS Settings",icon:cr,colorClass:"text-emerald-600"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,b.jsx)(cS,{label:"Provider",value:g.provider,options:["Twilio"],onChange:a=>i({...g,provider:a}),disabled:!d}),(0,b.jsx)(cR,{label:"Account SID",value:g.accountSid,onChange:a=>i({...g,accountSid:a}),readOnly:!d}),(0,b.jsx)(cR,{label:"Auth Token",type:"password",value:g.authToken,onChange:a=>i({...g,authToken:a}),readOnly:!d}),(0,b.jsx)(cR,{label:"Sender Number",value:g.senderNumber,onChange:a=>i({...g,senderNumber:a}),readOnly:!d})]}),(0,b.jsxs)("div",{className:"mt-8 pt-8 border-t border-slate-50 flex items-center justify-between",children:[(0,b.jsx)("button",{onClick:()=>{k(!0),setTimeout(()=>{k(!1),alert("Test SMS Sent!")},1e3)},disabled:j||!d,className:"px-6 py-2.5 bg-slate-100 text-slate-800 rounded-xl text-xs font-bold border border-slate-200 hover:bg-white transition-all",children:j?"Sending...":"Test SMS"}),d&&(0,b.jsxs)("button",{onClick:()=>e(g),disabled:f,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[f?(0,b.jsx)(h,{size:18,className:"animate-spin"}):(0,b.jsx)(Y,{size:18}),"Save SMS"]})]})]})},cN=({data:a,canEdit:d,onSave:e,isSaving:f})=>{let[g,i]=(0,c.useState)(a);return(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)(cH,{title:"Rewards & Loyalty",icon:cs,colorClass:"text-rose-600"}),(0,b.jsx)(cT,{label:"",checked:g.isEnabled,onChange:a=>i({...g,isEnabled:a}),disabled:!d})]}),(0,b.jsxs)("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 transition-opacity ${g.isEnabled?"opacity-100":"opacity-40 pointer-events-none"}`,children:[(0,b.jsx)(cR,{label:"Earning Rules",value:g.earningRules,onChange:a=>i({...g,earningRules:a}),readOnly:!d,placeholder:"e.g. 1 point per $1 unit"}),(0,b.jsx)(cR,{label:"Redemption Rules",value:g.redemptionRules,onChange:a=>i({...g,redemptionRules:a}),readOnly:!d,placeholder:"e.g. 100 points = $5"}),(0,b.jsx)(cR,{label:"Expiry Period (Months)",type:"number",value:g.expiryPeriodMonths.toString(),onChange:a=>i({...g,expiryPeriodMonths:parseInt(a)||0}),readOnly:!d})]}),d&&(0,b.jsx)("div",{className:"mt-8 flex justify-end",children:(0,b.jsxs)("button",{onClick:()=>e(g),disabled:f,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[f?(0,b.jsx)(h,{size:18,className:"animate-spin"}):(0,b.jsx)(Y,{size:18}),"Save Loyalty"]})})]})},cO=({data:a,canEdit:d,onSave:e,isSaving:f})=>{let[g,i]=(0,c.useState)(a),j=Object.entries(g),k={pos:"Point of Sale (POS)",onlineOrdering:"Online Ordering",kiosk:"Self-Serve Kiosk",inventory:"Inventory & Stock",pricing:"Dynamic Pricing",kitchen:"Kitchen Display (KDS)",delivery:"Delivery Management",marketing:"Marketing Tools",aiPhoneOrdering:"AI Phone Ordering",analytics:"Advanced Analytics"};return(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,b.jsx)(cH,{title:"Module Management",icon:ct.LayoutGrid,colorClass:"text-emerald-700"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:j.map(([a,c])=>(0,b.jsxs)("div",{className:`p-4 rounded-2xl border transition-all flex items-center justify-between ${c?"bg-emerald-50 border-emerald-100":"bg-slate-50 border-slate-100 opacity-60"}`,children:[(0,b.jsx)("span",{className:"text-xs font-bold text-slate-800 truncate mr-2",children:k[a]}),(0,b.jsx)("button",{onClick:()=>i({...g,[a]:!c}),disabled:!d,className:`w-10 h-5 rounded-full relative transition-all ${c?"bg-emerald-500":"bg-slate-300"}`,children:(0,b.jsx)("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all ${c?"left-6":"left-1"}`})})]},a))}),d&&(0,b.jsx)("div",{className:"mt-8 flex justify-end",children:(0,b.jsxs)("button",{onClick:()=>e(g),disabled:f,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[f?(0,b.jsx)(h,{size:18,className:"animate-spin"}):(0,b.jsx)(Y,{size:18}),"Save Modules"]})})]})},cP=({locations:a,canEdit:d,onSave:e,isSaving:f})=>{let[g,i]=(0,c.useState)(a),[j,k]=(0,c.useState)(g[0]?.id||null),l=(a,b,c)=>{i(g.map(d=>d.id===a?{...d,[b]:c}:d))},m=(a,b,c,d,e)=>{i(g.map(f=>{if(f.id!==a)return f;let g=f.timings[b].map(a=>a.day===c?{...a,[d]:e}:a);return{...f,timings:{...f.timings,[b]:g}}}))};return(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[(0,b.jsx)(cH,{title:"Locations (Operational Configuration)",icon:R,colorClass:"text-rose-700"}),(0,b.jsx)("div",{className:"space-y-6",children:g.map(a=>(0,b.jsxs)("div",{className:"border border-slate-100 rounded-3xl overflow-hidden shadow-sm",children:[(0,b.jsxs)("div",{onClick:()=>k(j===a.id?null:a.id),className:"p-6 bg-slate-50 flex items-center justify-between cursor-pointer hover:bg-slate-100 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${"Active"===a.status?"bg-emerald-500 animate-pulse":"bg-slate-300"}`}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-wider",children:a.name}),(0,b.jsx)("p",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-tighter mt-0.5",children:a.address})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"text-right mr-4 hidden md:block",children:[(0,b.jsx)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block",children:"Timezone"}),(0,b.jsx)("span",{className:"text-xs font-bold text-slate-800",children:a.timezone})]}),(0,b.jsx)(at.ChevronDown,{className:`text-slate-400 transition-transform ${j===a.id?"rotate-180":""}`})]})]}),j===a.id&&(0,b.jsxs)("div",{className:"p-8 space-y-8 animate-in slide-in-from-top-4 duration-300",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)(cR,{label:"Location Name",value:a.name,onChange:b=>l(a.id,"name",b),readOnly:!d}),(0,b.jsx)(cS,{label:"Status",value:a.status,options:["Active","Inactive"],onChange:b=>l(a.id,"status",b),disabled:!d}),(0,b.jsx)(cS,{label:"Timezone Override",value:a.timezone,options:["System Default","America/Los_Angeles","America/New_York"],onChange:b=>l(a.id,"timezone",b),disabled:!d})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest pb-2 border-b border-slate-100",children:"Store Timings & Channel Availability"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsx)(cQ,{label:"POS Channel",timings:a.timings.pos,canEdit:d,onChange:(b,c,d)=>m(a.id,"pos",b,c,d)}),(0,b.jsx)(cQ,{label:"Online Ordering",timings:a.timings.online,canEdit:d,onChange:(b,c,d)=>m(a.id,"online",b,c,d)}),(0,b.jsx)(cQ,{label:"Self-Serve Kiosk",timings:a.timings.kiosk,canEdit:d,onChange:(b,c,d)=>m(a.id,"kiosk",b,c,d)})]})]})]})]},a.id))}),d&&(0,b.jsx)("div",{className:"mt-8 flex justify-end",children:(0,b.jsxs)("button",{onClick:()=>e(g),disabled:f,className:"flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-lg shadow-slate-200 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50",children:[f?(0,b.jsx)(h,{size:18,className:"animate-spin"}):(0,b.jsx)(Y,{size:18}),"Save Operational Configuration"]})})]})},cQ=({label:a,timings:c,canEdit:d,onChange:e})=>(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-[10px] font-black text-slate-800 uppercase tracking-widest",children:a}),(0,b.jsx)("div",{className:"h-[1px] flex-1 bg-slate-100"})]}),(0,b.jsx)("div",{className:"space-y-2",children:c.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between group",children:[(0,b.jsx)("span",{className:"text-[11px] font-bold text-slate-500 w-16",children:a.day}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,b.jsx)("input",{type:"time",disabled:!a.isOpen||!d,value:a.openTime,onChange:b=>e(a.day,"openTime",b.target.value),className:"px-2 py-1 bg-slate-50 border border-slate-100 rounded text-[10px] font-bold text-slate-600 focus:border-emerald-500 outline-none disabled:opacity-30 disabled:border-transparent transition-all"}),(0,b.jsx)("span",{className:"text-slate-300",children:"-"}),(0,b.jsx)("input",{type:"time",disabled:!a.isOpen||!d,value:a.closeTime,onChange:b=>e(a.day,"closeTime",b.target.value),className:"px-2 py-1 bg-slate-50 border border-slate-100 rounded text-[10px] font-bold text-slate-600 focus:border-emerald-500 outline-none disabled:opacity-30 disabled:border-transparent transition-all"})]}),(0,b.jsx)("button",{onClick:()=>e(a.day,"isOpen",!a.isOpen),disabled:!d,className:`w-12 h-6 flex items-center justify-center rounded-lg border transition-all ${a.isOpen?"bg-emerald-50 border-emerald-100 text-emerald-600":"bg-slate-50 border-slate-100 text-slate-300"}`,children:(0,b.jsx)(aS,{size:12,strokeWidth:3})})]},a.day))})]}),cR=({label:a,value:c,onChange:d,type:e="text",required:f=!1,readOnly:g=!1,placeholder:h=""})=>(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsxs)("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest",children:[a," ",f&&(0,b.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,b.jsx)("input",{type:e,value:c,onChange:a=>d(a.target.value),readOnly:g,placeholder:h,className:`w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:border-emerald-500 outline-none transition-all ${g?"cursor-default focus:border-slate-200":""}`})]}),cS=({label:a,value:c,options:d,onChange:e,disabled:f=!1})=>(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"block text-[11px] font-black text-slate-400 uppercase tracking-widest",children:a}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("select",{value:c,onChange:a=>e(a.target.value),disabled:f,className:`w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-sm font-bold focus:border-emerald-500 outline-none transition-all ${f?"cursor-default opacity-60":""}`,children:d.map(a=>(0,b.jsx)("option",{value:a,children:a},a))}),(0,b.jsx)(at.ChevronDown,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),cT=({label:a,checked:c,onChange:d,disabled:e=!1})=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[a&&(0,b.jsx)("span",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest",children:a}),(0,b.jsx)("button",{onClick:()=>d(!c),disabled:e,className:`w-12 h-6 rounded-full relative transition-all ${c?"bg-slate-900":"bg-slate-200"}`,children:(0,b.jsx)("div",{className:`absolute top-1.5 w-3 h-3 bg-white rounded-full transition-all ${c?"left-7":"left-2"}`})})]});a.s(["BusinessOperationsPage",0,()=>{let a=(0,ad.useRouter)(),{role:d}=(0,aP.useAuth)(),[e,f]=(0,c.useState)(null),[g,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(null),o="ADMIN"===d||"STORE_MANAGER"===d;(0,c.useEffect)(()=>{p()},[]);let p=async()=>{j(!0);try{let a=await cw();f(a)}catch(a){console.error(a)}finally{j(!1)}},q=async(a,b)=>{if(o){l(a),n(null);try{await b(),n({type:"success",text:`${a} updated successfully.`}),setTimeout(()=>n(null),3e3)}catch(a){n({type:"error",text:a.message||"Failed to update."})}finally{l(null)}}};return g||!e?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-50",children:(0,b.jsx)(h,{className:"w-10 h-10 text-emerald-600 animate-spin"})}):(0,b.jsxs)("div",{className:"max-w-[1400px] mx-auto pb-24 space-y-8 animate-in fade-in duration-500 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between sticky top-0 z-20 bg-slate-50/80 backdrop-blur-md py-4 border-b border-slate-200 -mx-6 px-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>a.back(),className:"p-2 hover:bg-white rounded-xl transition-all border border-transparent hover:border-slate-200",children:(0,b.jsx)(bG,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Business Operations"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Tenant-level system configuration & identity"})]})]}),m&&(0,b.jsxs)("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold border animate-in slide-in-from-top-2 duration-300 ${"success"===m.type?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-rose-50 text-rose-700 border-rose-100"}`,children:["success"===m.type?(0,b.jsx)(a2,{size:16}):(0,b.jsx)(i.AlertCircle,{size:16}),m.text]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-8",children:[(0,b.jsx)(cI,{data:e.businessInfo,canEdit:o,onSave:a=>q("Business Info",()=>cx(a)),isSaving:"Business Info"===k}),(0,b.jsx)(cJ,{data:e.localization,canEdit:o,onSave:a=>q("Localization",()=>cy(a)),isSaving:"Localization"===k}),(0,b.jsx)(cK,{taxes:e.taxes,canEdit:o,onSave:a=>q("Taxes",()=>cz(a)),isSaving:"Taxes"===k}),(0,b.jsx)(cL,{data:e.smtp,canEdit:o,onSave:a=>q("SMTP Settings",()=>cA(a)),isSaving:"SMTP Settings"===k}),(0,b.jsx)(cM,{data:e.sms,canEdit:o,onSave:a=>q("SMS Settings",()=>cB(a)),isSaving:"SMS Settings"===k}),(0,b.jsx)(cN,{data:e.loyalty,canEdit:o,onSave:a=>q("Loyalty",()=>cC(a)),isSaving:"Loyalty"===k}),(0,b.jsx)(cO,{data:e.modules,canEdit:o,onSave:a=>q("Modules",()=>cD(a)),isSaving:"Modules"===k}),(0,b.jsx)(cP,{locations:e.locations,canEdit:o,onSave:a=>q("Locations",()=>cE(a)),isSaving:"Locations"===k})]})]})}],99991),a.s([],11255)}];

//# sourceMappingURL=src_modules_m9_pages_index_ts_e755362f._.js.map